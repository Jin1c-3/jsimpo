import{isFn,isStr,hasOwn,isPlainObject}from'uni-shared';import{isSyncApi,isContextApi}from'../helpers/promise';import{protocols}from'uni-platform/runtime/api/protocols';const CALLBACKS=['success','fail','cancel','complete'];function processCallback(methodName,method,returnValue){var bGQWnI={'VZkFi':function(x,y){return x!==y;},'zhqEz':'TDtdV','QGHzm':function(callee,param1){return callee(param1);},'ulWOg':function(callee,param1,param2,param3){return callee(param1,param2,param3);}};return function(res){if(bGQWnI['VZkFi'](bGQWnI['zhqEz'],bGQWnI['zhqEz'])){argsOption=argsOption(fromArgs,toArgs)||{};}else{return bGQWnI['QGHzm'](method,bGQWnI['ulWOg'](processReturnValue,methodName,res,returnValue));}};}function processArgs(methodName,fromArgs,argsOption={},returnValue={},keepFromArgs=![]){var YniRdk={'nPAqM':function(callee,param1,param2,param3){return callee(param1,param2,param3);},'YejFQ':function(x,y){return x===y;},'TUNvd':function(callee,param1){return callee(param1);},'snqmH':function(x,y){return x!==y;},'twXnt':'LpbXw','TiLQC':'BjYJu','WCNmg':function(callee,param1,param2){return callee(param1,param2);},'qggnG':'uKLOt','xFDHW':function(callee,param1){return callee(param1);},'trSAo':function(callee,param1,param2,param3){return callee(param1,param2,param3);},'xyedt':function(x,y){return x!==y;},'lcNBx':'OetAX','YDJJz':'CLasP','eFlrz':function(callee,param1){return callee(param1);},'SlMuw':function(callee,param1,param2,param3){return callee(param1,param2,param3);},'pdsHc':function(x,y){return x===y;},'PpVZc':'XnWfu'};if(isPlainObject(fromArgs)){const toArgs=YniRdk['YejFQ'](keepFromArgs,!![])?fromArgs:{};if(YniRdk['TUNvd'](isFn,argsOption)){if(YniRdk['snqmH'](YniRdk['twXnt'],YniRdk['TiLQC'])){argsOption=YniRdk['WCNmg'](argsOption,fromArgs,toArgs)||{};}else{methodName=options['name'];}}for(const key in fromArgs){if(YniRdk['YejFQ'](YniRdk['qggnG'],YniRdk['qggnG'])){if(YniRdk['WCNmg'](hasOwn,argsOption,key)){let keyOption=argsOption[key];if(YniRdk['xFDHW'](isFn,keyOption)){keyOption=YniRdk['trSAo'](keyOption,fromArgs[key],fromArgs,toArgs);}if(!keyOption){console['warn']('The\x20\x27'+methodName+'\' method of platform \'__PLATFORM_TITLE__\' does not support option \''+key+'\x27');}else if(isStr(keyOption)){if(YniRdk['xyedt']('OetAX',YniRdk['lcNBx'])){fromArgs=YniRdk['nPAqM'](processCallback,methodName,fromArgs,returnValue);}else{toArgs[keyOption]=fromArgs[key];}}else if(isPlainObject(keyOption)){if(YniRdk['YejFQ'](YniRdk['YDJJz'],'CLasP')){toArgs[keyOption['name']?keyOption['name']:key]=keyOption['value'];}else{methodName=options['name'](arg1);}}}else if(CALLBACKS['indexOf'](key)!==-0x1){if(YniRdk['eFlrz'](isFn,fromArgs[key])){toArgs[key]=YniRdk['SlMuw'](processCallback,methodName,fromArgs[key],returnValue);}}else{if(YniRdk['pdsHc']('JQnTc',YniRdk['PpVZc'])){return function(){console['error']('Platform \'__PLATFORM_TITLE__\' does not support \''+methodName+'\x27.');};}else{if(!keepFromArgs){toArgs[key]=fromArgs[key];}}}}else{console['error']('Platform \'__PLATFORM_TITLE__\' does not support \''+methodName+'\x27.');}}return toArgs;}else if(isFn(fromArgs)){fromArgs=YniRdk['SlMuw'](processCallback,methodName,fromArgs,returnValue);}return fromArgs;}function processReturnValue(methodName,res,returnValue,keepReturnValue=![]){var hGhEbC={'gCPPg':function(callee,param1,param2,param3,param4,param5){return callee(param1,param2,param3,param4,param5);}};if(isFn(protocols['returnValue'])){if('fBvCY'!=='MUCjP'){res=protocols['returnValue'](methodName,res);}else{toArgs[key]=fromArgs[key];}}return hGhEbC['gCPPg'](processArgs,methodName,res,returnValue,{},keepReturnValue);}export default function wrapper(methodName,method){var JOIMyD={'ZcVqW':function(x,y){return x!==y;},'pkmHk':'hXndZ','RlXww':function(callee,param1){return callee(param1);},'YbUKi':function(callee,param1){return callee(param1);},'NslKQ':function(callee,param1,param2,param3,param4){return callee(param1,param2,param3,param4);},'hzjRp':'undefined','SbXte':function(callee,param1){return callee(param1);},'IXqnm':function(callee,param1,param2,param3,param4){return callee(param1,param2,param3,param4);},'NIIeS':function(callee,param1,param2){return callee(param1,param2);},'yLwzW':function(x,y){return x===y;},'yMZPY':'WtlUC'};if(JOIMyD['NIIeS'](hasOwn,protocols,methodName)){if(JOIMyD['yLwzW'](JOIMyD['yMZPY'],'lTmvh')){res=protocols['returnValue'](methodName,res);}else{const protocol=protocols[methodName];if(!protocol){return function(){console['error']('Platform \'__PLATFORM_TITLE__\' does not support \''+methodName+'\x27.');};}return function(arg1,arg2){if(JOIMyD['ZcVqW'](JOIMyD['pkmHk'],'hXndZ')){args['push'](arg2);}else{let options=protocol;if(JOIMyD['RlXww'](isFn,protocol)){options=JOIMyD['YbUKi'](protocol,arg1);}arg1=JOIMyD['NslKQ'](processArgs,methodName,arg1,options['args'],options['returnValue']);const args=[arg1];if(JOIMyD['ZcVqW'](typeof arg2,JOIMyD['hzjRp'])){args['push'](arg2);}if(JOIMyD['YbUKi'](isFn,options['name'])){methodName=options['name'](arg1);}else if(JOIMyD['YbUKi'](isStr,options['name'])){methodName=options['name'];}const returnValue=__GLOBAL__[methodName]['apply'](__GLOBAL__,args);if(JOIMyD['SbXte'](isSyncApi,methodName)){return JOIMyD['IXqnm'](processReturnValue,methodName,returnValue,options['returnValue'],JOIMyD['SbXte'](isContextApi,methodName));}return returnValue;}};}}return method;}