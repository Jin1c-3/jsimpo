import _0x5b9903 from'quill-delta';import _0x409306 from'../../../core/editor';describe('Code',function(){var kHMDII={'rHKQY':'<p><br></p>','JaJSz':function(callee,param1){return callee(param1);},'VUruX':'<p><em>0123</em></p><p>5678</p>','mwpti':'0123','QcONZ':'5678','brZPe':function(callee,param1){return callee(param1);},'qDYLV':'<h1>01</h1><h1>23</h1><div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>45</div></div>','pnVls':function(x,y){return x===y;},'GpDWv':'RUvyf','CFKdr':'niEUd','UJyCB':'<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>0123</div></div>','CmAGI':'0123\x0a','VdjVK':'<p>0123</p>','qjdHH':'GmDMX','ywZMq':'UqfUn','lfLrw':function(callee,param1){return callee(param1);},'OOETc':function(callee,param1){return callee(param1);},'qhZqO':'01234567','wVUKk':'<div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">01234567</div></div>','vNoxK':function(x,y){return x!==y;},'MuMqA':'caypq','pfxRL':'<div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">0123</div></div><h1>4567</h1>','PkRCp':function(callee,param1){return callee(param1);},'CqhmL':'<h1>01234567</h1>','vOdpN':function(callee,param1){return callee(param1);},'rfHxL':'jUfET','Orqhd':function(callee,param1){return callee(param1);},'uhDiK':'<div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">01</div></div><h1>89</h1>','FQnbC':'5678\n','zgAgO':function(callee,param1){return callee(param1);},'ASWdY':'<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>0123</div></div><p>5678</p>','VQirD':'UVRwO','uujHN':'NDMlf','TDQyN':function(callee,param1){return callee(param1);},'XGEIh':'016','XBhRs':function(callee,param1){return callee(param1);},'swIcJ':function(x,y){return x!==y;},'XrwKC':'ETgJp','QaQpD':'<h1>0123</h1>','hTgNW':function(callee,param1){return callee(param1);},'MrqQE':function(callee,param1){return callee(param1);},'qqbpr':function(callee,param1,param2){return callee(param1,param2);},'LNIPB':'format\x20newline','WtJxp':'remove format','xmHlO':function(callee,param1,param2){return callee(param1,param2);},'DuQmn':'delete merge after','RDMiX':'delete across before partial merge','hIEgl':'delete across before no merge','LLsuy':'replace','qKRxR':function(callee,param1,param2){return callee(param1,param2);},'sAPdF':'replace\x20multiple','ydxGn':function(callee,param1,param2){return callee(param1,param2);},'Gtbai':function(callee,param1,param2){return callee(param1,param2);},'ASrGe':'format\x20line','PdRjv':'partial block modification applyDelta'};kHMDII['qqbpr'](it,kHMDII['LNIPB'],function(){const editor=this['initialize'](_0x409306,kHMDII['rHKQY']);editor['formatLine'](0x0,0x1,{'code-block':!![]});kHMDII['JaJSz'](expect,editor['scroll']['domNode'])['toEqualHTML']('<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22><br></div>\x0a\x20\x20\x20\x20\x20\x20</div>');});kHMDII['qqbpr'](it,'format lines',function(){const editor=this['initialize'](_0x409306,kHMDII['VUruX']);editor['formatLine'](0x2,0x5,{'code-block':!![]});kHMDII['JaJSz'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['mwpti'])['insert']('\x0a',{'code-block':!![]})['insert'](kHMDII['QcONZ'])['insert']('\x0a',{'code-block':!![]}));kHMDII['brZPe'](expect,editor['scroll']['domNode'])['toEqualHTML']('<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>0123</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>5678</div>\x0a\x20\x20\x20\x20\x20\x20</div>');});it(kHMDII['WtJxp'],function(){if(kHMDII['pnVls'](kHMDII['GpDWv'],kHMDII['CFKdr'])){const _0x2f1172=this['initialize'](_0x409306,'\n      <div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">23</div>\n        <div class="ql-code-block">45</div>\n      </div>\n    ');_0x2f1172['formatText'](0x1,0x6,{'header':0x1});kHMDII['brZPe'](expect,_0x2f1172['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'header':0x1})['insert']('23')['insert']('\x0a',{'header':0x1})['insert']('45')['insert']('\x0a',{'code-block':!![]}));kHMDII['brZPe'](expect,_0x2f1172['scroll']['domNode']['innerHTML'])['toEqualHTML'](kHMDII['qDYLV']);}else{const editor=this['initialize'](_0x409306,kHMDII['UJyCB']);editor['formatText'](0x4,0x1,{'code-block':![]});kHMDII['brZPe'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['CmAGI']));expect(editor['scroll']['domNode'])['toEqualHTML'](kHMDII['VdjVK']);}});it('delete last',function(){var ZPpfNm={'whpiN':kHMDII['VUruX'],'DNEfE':kHMDII['mwpti'],'zqyAP':function(callee,param1){return kHMDII['brZPe'](callee,param1);}};if(kHMDII['pnVls'](kHMDII['qjdHH'],kHMDII['ywZMq'])){const _0x5b116d=this['initialize'](_0x409306,ZPpfNm['whpiN']);_0x5b116d['formatLine'](0x2,0x5,{'code-block':!![]});expect(_0x5b116d['getDelta']())['toEqual'](new _0x5b9903()['insert'](ZPpfNm['DNEfE'])['insert']('\x0a',{'code-block':!![]})['insert']('5678')['insert']('\x0a',{'code-block':!![]}));ZPpfNm['zqyAP'](expect,_0x5b116d['scroll']['domNode'])['toEqualHTML']('<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>0123</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>5678</div>\x0a\x20\x20\x20\x20\x20\x20</div>');}else{const editor=this['initialize'](_0x409306,'<p>0123</p><div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22><br></div></div><p>5678</p>');editor['deleteText'](0x4,0x1);kHMDII['brZPe'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['mwpti'])['insert']('\x0a',{'code-block':!![]})['insert']('5678\n'));kHMDII['lfLrw'](expect,editor['scroll']['domNode'])['toEqualHTML']('<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>0123</div></div><p>5678</p>');}});kHMDII['qqbpr'](it,'delete merge before',function(){const editor=this['initialize'](_0x409306,'<h1>0123</h1><div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>4567</div></div>');editor['deleteText'](0x4,0x1);kHMDII['OOETc'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['qhZqO'])['insert']('\x0a',{'code-block':!![]}));expect(editor['scroll']['domNode'])['toEqualHTML'](kHMDII['wVUKk']);});kHMDII['xmHlO'](it,kHMDII['DuQmn'],function(){var azbcLK={'DhIpu':function(callee,param1){return callee(param1);}};if(kHMDII['vNoxK'](kHMDII['MuMqA'],'qtENp')){const editor=this['initialize'](_0x409306,kHMDII['pfxRL']);editor['deleteText'](0x4,0x1);kHMDII['PkRCp'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['qhZqO'])['insert']('\x0a',{'header':0x1}));expect(editor['scroll']['domNode'])['toEqualHTML'](kHMDII['CqhmL']);}else{const _0x22297d=this['initialize'](_0x409306,'<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>b</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22><br></div>\x0a\x20\x20\x20\x20\x20\x20</div>');const _0x4106bb=new _0x5b9903()['retain'](0x3)['insert']('\x0a',{'code-block':!![]})['delete'](0x1)['retain'](0x1,{'code-block':null});_0x22297d['applyDelta'](_0x4106bb);azbcLK['DhIpu'](expect,_0x22297d['scroll']['domNode']['innerHTML'])['toEqualHTML']('<div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">a</div>\n        <div class="ql-code-block">b</div>\n      </div>\n      <p><br></p>');}});it(kHMDII['RDMiX'],function(){const editor=this['initialize'](_0x409306,'<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>01</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>34</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>67</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<h1>90</h1>');editor['deleteText'](0x7,0x3);expect(editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'code-block':!![]})['insert']('34')['insert']('\x0a',{'code-block':!![]})['insert']('60')['insert']('\x0a',{'header':0x1}));expect(editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('<div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">34</div>\n      </div>\n      <h1>60</h1>');});kHMDII['xmHlO'](it,kHMDII['hIEgl'],function(){if(kHMDII['vNoxK'](kHMDII['rfHxL'],'jUfET')){const _0x4bda02=this['initialize'](_0x409306,'<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22><div\x20class=\x22ql-code-block\x22>0123</div></div>');_0x4bda02['formatText'](0x4,0x1,{'code-block':![]});kHMDII['vOdpN'](expect,_0x4bda02['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['CmAGI']));expect(_0x4bda02['scroll']['domNode'])['toEqualHTML'](kHMDII['VdjVK']);}else{const editor=this['initialize'](_0x409306,'<div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">34</div>\n      </div>\n      <h1>6789</h1>');editor['deleteText'](0x3,0x5);kHMDII['Orqhd'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'code-block':!![]})['insert']('89')['insert']('\x0a',{'header':0x1}));expect(editor['scroll']['domNode']['innerHTML'])['toEqualHTML'](kHMDII['uhDiK']);}});kHMDII['xmHlO'](it,'delete across after',function(){var DLDjFF={'DbWtZ':'<p>0123</p><div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block"><br></div></div><p>5678</p>','ziWnI':kHMDII['FQnbC'],'Xigtr':function(callee,param1){return kHMDII['zgAgO'](callee,param1);},'nZiJi':kHMDII['ASWdY']};if(kHMDII['VQirD']!==kHMDII['uujHN']){const editor=this['initialize'](_0x409306,'<h1>0123</h1>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>56</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>89</div>\x0a\x20\x20\x20\x20\x20\x20</div>');editor['deleteText'](0x2,0x4);kHMDII['TDQyN'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['XGEIh'])['insert']('\x0a',{'code-block':!![]})['insert']('89')['insert']('\x0a',{'code-block':!![]}));kHMDII['XBhRs'](expect,editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>016</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>89</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');}else{const _0x224fbe=this['initialize'](_0x409306,DLDjFF['DbWtZ']);_0x224fbe['deleteText'](0x4,0x1);expect(_0x224fbe['getDelta']())['toEqual'](new _0x5b9903()['insert']('0123')['insert']('\x0a',{'code-block':!![]})['insert'](DLDjFF['ziWnI']));DLDjFF['Xigtr'](expect,_0x224fbe['scroll']['domNode'])['toEqualHTML'](DLDjFF['nZiJi']);}});it(kHMDII['LLsuy'],function(){if(kHMDII['swIcJ']('qEAQc',kHMDII['XrwKC'])){const editor=this['initialize'](_0x409306,kHMDII['UJyCB']);editor['formatText'](0x4,0x1,{'header':0x1});kHMDII['XBhRs'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['mwpti'])['insert']('\x0a',{'header':0x1}));expect(editor['scroll']['domNode'])['toEqualHTML'](kHMDII['QaQpD']);}else{const _0x3cee55=this['initialize'](_0x409306,kHMDII['pfxRL']);_0x3cee55['deleteText'](0x4,0x1);expect(_0x3cee55['getDelta']())['toEqual'](new _0x5b9903()['insert'](kHMDII['qhZqO'])['insert']('\x0a',{'header':0x1}));kHMDII['XBhRs'](expect,_0x3cee55['scroll']['domNode'])['toEqualHTML'](kHMDII['CqhmL']);}});kHMDII['qKRxR'](it,kHMDII['sAPdF'],function(){const editor=this['initialize'](_0x409306,'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>01</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>23</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');editor['formatText'](0x0,0x6,{'header':0x1});kHMDII['XBhRs'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'header':0x1})['insert']('23')['insert']('\x0a',{'header':0x1}));expect(editor['scroll']['domNode'])['toEqualHTML']('<h1>01</h1><h1>23</h1>');});kHMDII['ydxGn'](it,'format imprecise bounds',function(){const editor=this['initialize'](_0x409306,'\n      <div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">23</div>\n        <div class="ql-code-block">45</div>\n      </div>\n    ');editor['formatText'](0x1,0x6,{'header':0x1});kHMDII['hTgNW'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'header':0x1})['insert']('23')['insert']('\x0a',{'header':0x1})['insert']('45')['insert']('\x0a',{'code-block':!![]}));kHMDII['hTgNW'](expect,editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('<h1>01</h1><h1>23</h1><div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">45</div></div>');});kHMDII['Gtbai'](it,'format without newline',function(){const editor=this['initialize'](_0x409306,'\n      <div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">23</div>\n        <div class="ql-code-block">45</div>\n      </div>\n    ');editor['formatText'](0x3,0x1,{'header':0x1});kHMDII['MrqQE'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'code-block':!![]})['insert']('23')['insert']('\x0a',{'code-block':!![]})['insert']('45')['insert']('\x0a',{'code-block':!![]}));kHMDII['MrqQE'](expect,editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('\n      <div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">23</div>\n        <div class="ql-code-block">45</div>\n      </div>\n    ');});it(kHMDII['ASrGe'],function(){const editor=this['initialize'](_0x409306,'\n      <div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">01</div>\n        <div class="ql-code-block">23</div>\n        <div class="ql-code-block">45</div>\n      </div>\n    ');editor['formatLine'](0x3,0x1,{'header':0x1});expect(editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('01')['insert']('\x0a',{'code-block':!![]})['insert']('23')['insert']('\x0a',{'header':0x1})['insert']('45')['insert']('\x0a',{'code-block':!![]}));expect(editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>01</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<h1>23</h1>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block-container\x22\x20spellcheck=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ql-code-block\x22>45</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');});it('ignore formatAt',function(){const editor=this['initialize'](_0x409306,'<div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">0123</div></div>');editor['formatText'](0x1,0x1,{'bold':!![]});kHMDII['MrqQE'](expect,editor['getDelta']())['toEqual'](new _0x5b9903()['insert']('0123')['insert']('\x0a',{'code-block':!![]}));expect(editor['scroll']['domNode'])['toEqualHTML']('<div class="ql-code-block-container" spellcheck="false"><div class="ql-code-block">0123</div></div>');});kHMDII['Gtbai'](it,kHMDII['PdRjv'],function(){const editor=this['initialize'](_0x409306,'<div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">a</div>\n        <div class="ql-code-block">b</div>\n        <div class="ql-code-block"><br></div>\n      </div>');const delta=new _0x5b9903()['retain'](0x3)['insert']('\x0a',{'code-block':!![]})['delete'](0x1)['retain'](0x1,{'code-block':null});editor['applyDelta'](delta);kHMDII['MrqQE'](expect,editor['scroll']['domNode']['innerHTML'])['toEqualHTML']('<div class="ql-code-block-container" spellcheck="false">\n        <div class="ql-code-block">a</div>\n        <div class="ql-code-block">b</div>\n      </div>\n      <p><br></p>');});});