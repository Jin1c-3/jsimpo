'use strict';const npa=require('npm-package-arg');const path=require('path');const loadJsonFile=require('load-json-file');const writePkg=require('write-pkg');const PKG=Symbol('pkg');const _location=Symbol('location');const _resolved=Symbol('resolved');const _rootPath=Symbol('rootPath');const _scripts=Symbol('scripts');const _contents=Symbol('contents');function binSafeName({name,scope}){var _0x5be397={'DNSmM':function(_0x410831,_0x56c601){return _0x410831+_0x56c601;}};return scope?name['substring'](_0x5be397['DNSmM'](scope['length'],0x1)):name;}function shallowCopy(_0x536918){var _0x43d425={'Vqega':function(_0x2299cc,_0x1d7328){return _0x2299cc!==_0x1d7328;},'Stqvt':'hKVVZ','NMzVt':'wsKVd','IvIFq':'object','TngTn':'QDklL'};return Object['keys'](_0x536918)['reduce']((_0x54b117,_0x2a6dcb)=>{if('hChMR'!=='bzbOP'){const _0x59fc97=_0x536918[_0x2a6dcb];if(Array['isArray'](_0x59fc97)){if(_0x43d425['Vqega'](_0x43d425['Stqvt'],_0x43d425['NMzVt'])){_0x54b117[_0x2a6dcb]=_0x59fc97['slice']();}else{return ref;}}else if(_0x59fc97&&typeof _0x59fc97===_0x43d425['IvIFq']){if(_0x43d425['TngTn']!=='QDklL'){return!![];}else{_0x54b117[_0x2a6dcb]=Object['assign']({},_0x59fc97);}}else{_0x54b117[_0x2a6dcb]=_0x59fc97;}return _0x54b117;}else{_0x54b117[_0x2a6dcb]=Object['assign']({},val);}},{});}class Package{static['lazy'](_0x2d2e34,_0x1fbcc4='.'){var _0x4f711c={'wVTNv':function(_0x4e5826,_0x286f99){return _0x4e5826===_0x286f99;},'yFuWe':'package.json','YnoeF':function(_0x5f1893,_0x79821f){return _0x5f1893 in _0x79821f;},'BopZk':'__isLernaPackage','OBMaB':'UVJGd'};if(_0x4f711c['wVTNv'](typeof _0x2d2e34,'string')){const _0x4a591d=path['resolve'](_0x4f711c['wVTNv'](path['basename'](_0x2d2e34),_0x4f711c['yFuWe'])?path['dirname'](_0x2d2e34):_0x2d2e34);const _0x42534f=loadJsonFile['sync'](path['join'](_0x4a591d,_0x4f711c['yFuWe']));return new Package(_0x42534f,_0x4a591d);}if(_0x4f711c['YnoeF'](_0x4f711c['BopZk'],_0x2d2e34)){if(_0x4f711c['OBMaB']===_0x4f711c['OBMaB']){return _0x2d2e34;}else{depCollection[depName]=''+savePrefix+depVersion;}}return new Package(_0x2d2e34,_0x1fbcc4);}constructor(_0x36feda,_0x4cab4f,_0x3d6bf4=_0x4cab4f){const _0x4e2714=npa['resolve'](_0x36feda['name'],'file:'+path['relative'](_0x3d6bf4,_0x4cab4f),_0x3d6bf4);this['name']=_0x36feda['name'];this[PKG]=_0x36feda;Object['defineProperty'](this,PKG,{'enumerable':![],'writable':!![]});this[_location]=_0x4cab4f;this[_resolved]=_0x4e2714;this[_rootPath]=_0x3d6bf4;this[_scripts]={..._0x36feda['scripts']};}get['location'](){return this[_location];}get['private'](){var _0x420d82={'wWEjQ':function(_0x369038,_0x561a58){return _0x369038(_0x561a58);}};return _0x420d82['wWEjQ'](Boolean,this[PKG]['private']);}get['resolved'](){return this[_resolved];}get['rootPath'](){return this[_rootPath];}get['scripts'](){return this[_scripts];}get['bin'](){var _0x322902={'LCTOA':function(_0x5010e8,_0x1812fb){return _0x5010e8===_0x1812fb;},'uaTyx':'string','qxHeS':function(_0x1ac2a7,_0x27df21){return _0x1ac2a7(_0x27df21);}};const _0x9cf74d=this[PKG];return _0x322902['LCTOA'](typeof _0x9cf74d['bin'],_0x322902['uaTyx'])?{[_0x322902['qxHeS'](binSafeName,this['resolved'])]:_0x9cf74d['bin']}:Object['assign']({},_0x9cf74d['bin']);}get['binLocation'](){var _0x5280ef={'tfkOo':'node_modules'};return path['join'](this['location'],_0x5280ef['tfkOo'],'.bin');}get['manifestLocation'](){return path['join'](this['location'],'package.json');}get['nodeModulesLocation'](){var _0x720689={'kNOTg':'node_modules'};return path['join'](this['location'],_0x720689['kNOTg']);}get['__isLernaPackage'](){return!![];}get['version'](){return this[PKG]['version'];}set['version'](_0x52cf54){this[PKG]['version']=_0x52cf54;}get['contents'](){if(this[_contents]){return this[_contents];}if(this[PKG]['publishConfig']&&this[PKG]['publishConfig']['directory']){return path['join'](this['location'],this[PKG]['publishConfig']['directory']);}return this['location'];}set['contents'](_0x35472b){this[_contents]=path['join'](this['location'],_0x35472b);}get['dependencies'](){return this[PKG]['dependencies'];}get['devDependencies'](){return this[PKG]['devDependencies'];}get['optionalDependencies'](){return this[PKG]['optionalDependencies'];}get['peerDependencies'](){return this[PKG]['peerDependencies'];}['get'](_0x328e59){return this[PKG][_0x328e59];}['set'](_0x539f07,_0xe2409f){this[PKG][_0x539f07]=_0xe2409f;return this;}['toJSON'](){return shallowCopy(this[PKG]);}['refresh'](){var _0x499620={'HOTMo':'PAMPH','iqYrN':function(_0x40e50c,_0x2a12fc){return _0x40e50c(_0x2a12fc);}};return _0x499620['iqYrN'](loadJsonFile,this['manifestLocation'])['then'](_0x41e27f=>{if(_0x499620['HOTMo']!==_0x499620['HOTMo']){obj[key]=val;}else{this[PKG]=_0x41e27f;return this;}});}['serialize'](){var _0x2fc5ed={'bFPPF':function(_0x481514,_0x2c827a,_0x39d69c){return _0x481514(_0x2c827a,_0x39d69c);}};return _0x2fc5ed['bFPPF'](writePkg,this['manifestLocation'],this[PKG])['then'](()=>this);}['updateLocalDependency'](_0x1ad6cc,_0x34042b,_0x220d53){var _0x16df84={'oBgQQ':'node_modules','jPfbU':function(_0x220482,_0x2410e0){return _0x220482===_0x2410e0;},'aaGCO':'directory','NhMxN':'mpIom','bdxje':'QgBGn'};const _0x33f9b7=_0x1ad6cc['name'];let _0xc9233a=this['dependencies'];if(!_0xc9233a||!_0xc9233a[_0x33f9b7]){_0xc9233a=this['optionalDependencies'];}if(!_0xc9233a||!_0xc9233a[_0x33f9b7]){_0xc9233a=this['devDependencies'];}if(_0x1ad6cc['registry']||_0x16df84['jPfbU'](_0x1ad6cc['type'],_0x16df84['aaGCO'])){_0xc9233a[_0x33f9b7]=''+_0x220d53+_0x34042b;}else if(_0x1ad6cc['gitCommittish']){if(_0x16df84['NhMxN']!=='mpIom'){return this[_rootPath];}else{const [_0x1f1190]=/^\D*/['exec'](_0x1ad6cc['gitCommittish']);const {hosted}=_0x1ad6cc;hosted['committish']=''+_0x1f1190+_0x34042b;_0xc9233a[_0x33f9b7]=hosted['toString']({'noGitPlus':![],'noCommittish':![]});}}else if(_0x1ad6cc['gitRange']){if(_0x16df84['jPfbU']('QgBGn',_0x16df84['bdxje'])){const {hosted}=_0x1ad6cc;hosted['committish']='semver:'+_0x220d53+_0x34042b;_0xc9233a[_0x33f9b7]=hosted['toString']({'noGitPlus':![],'noCommittish':![]});}else{return path['join'](this['location'],_0x16df84['oBgQQ']);}}}}module['exports']['Package']=Package;