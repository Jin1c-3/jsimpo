import{Meteor}from'meteor/meteor';import{Roles,Permissions,Settings}from'../../models/server';import{settings}from'../../settings/server';import{getSettingPermissionId,CONSTANTS}from'../lib';Meteor['startup'](function(){var YGlbbw={'jiIoQ':'okHHJ','lAWwY':function(callee,param1,param2){return callee(param1,param2);},'ePQDU':function(callee,param1){return callee(param1);},'AZGqJ':function(x,y){return x!==y;},'oSCqJ':'DdzUz','BlOcP':'EIagP','QkwaV':'COdBb','bCYbW':function(x,y){return x===y;},'KoHjH':'reqXa','MSTUs':'EHPCK','VilRW':'IRxIr','GEaQN':function(callee){return callee();},'qONcP':function(x,y){return x===y;},'oVxAJ':'SjzWs','aerAT':'PsXWO','yBRvu':'bBSKC','ExFpE':function(x,y){return x!==y;},'piLZG':'EIyTw','ZQnBf':'access-permissions','vTceb':'admin','xaifj':'access-setting-permissions','QvfaS':'add-user-to-joined-room','QkNBN':'owner','KEsus':'moderator','EoBBs':'add-user-to-any-p-room','IFZUZ':'bot','XkOrc':'app','XNqLq':'archive-room','bcXOV':'assign-admin-role','hdDRl':'assign-roles','BRpHp':'ban-user','pilWh':'change-livechat-room-visitor','YHYpP':'livechat-manager','TGMqK':'livechat-agent','bvdAu':'create-c','HBRHB':'user','UCjTR':'create-p','vourB':'create-personal-access-tokens','ZbCAF':'create-user','KyrDc':'clean-channel-history','jggCA':'delete-c','KjCnB':'delete-d','qbQEW':'delete-message','UBUkw':'delete-own-message','sCCYt':'delete-p','bUbUe':'delete-user','sIkEp':'edit-message','mhLHV':'edit-other-user-active-status','zbSmc':'edit-other-user-info','fGDWW':'edit-other-user-password','yBBRg':'edit-other-user-avatar','wtuMB':'edit-other-user-e2ee','rMJtN':'edit-privileged-setting','lXHiQ':'edit-room-avatar','AWRkd':'edit-room-retention-policy','nprrR':'join-without-join-code','xquqX':'leave-c','kKYro':'leave-p','anxDc':'logout-other-user','sBGqq':'manage-assets','OJUbw':'manage-email-inbox','hqZwZ':'manage-user-status','aMSIR':'manage-outgoing-integrations','iTBbr':'manage-incoming-integrations','WrRVV':'manage-own-outgoing-integrations','WEZiL':'manage-own-incoming-integrations','ZqBPr':'manage-selected-settings','NnYHa':'mute-user','qsfyC':'remove-user','tujlz':'run-migration','Awtvz':'set-moderator','aqjoO':'set-owner','sukJH':'send-many-messages','qSHon':'unarchive-room','mbkuX':'anonymous','VeSqY':'view-d-room','AUioP':'guest','cFdcZ':'view-full-other-user-info','fOZsz':'view-history','uQGcX':'view-join-code','ZLxKN':'view-logs','spakJ':'view-p-room','mOtCc':'view-privileged-setting','WirSZ':'view-room-administration','cWXVK':'view-statistics','TkYwO':'preview-c-room','mHEQI':'view-outside-room','adQvQ':'call-management','IHclF':'create-invite-links','cQkSM':'view-livechat-manager','fLGiv':'livechat-monitor','PEQYg':'edit-omnichannel-contact','cUhGJ':'close-livechat-room','Injet':'close-others-livechat-room','GktRo':'on-hold-livechat-room','eBqgA':'save-others-livechat-room-info','KCjJM':'view-livechat-analytics','ZGfaD':'view-livechat-queue','aSpJA':'manage-livechat-agents','MXtqi':'manage-livechat-departments','ibzxe':'view-livechat-departments','crOXJ':'add-livechat-department-agents','ajBrv':'view-livechat-current-chats','oZlZA':'view-livechat-real-time-monitoring','QfdCQ':'view-livechat-customfields','kzTAr':'view-livechat-installation','pZYqO':'view-livechat-appearance','KpvmK':'view-livechat-webhooks','SZusP':'view-livechat-facebook','TlycC':'view-livechat-room-closed-same-department','rtBOP':'view-livechat-room-customfields','ZFZpT':'edit-livechat-room-customfields','NXUDi':'send-omnichannel-chat-transcript','pBuOe':'mail-messages','avXRF':'message-impersonate','BsgPv':'create-team','sskRH':'delete-team','deymZ':'convert-team','IMPMS':'add-team-member','VSPBv':'remove-team-channel','BAvYt':'view-all-team-channels','whjUk':'view-all-teams','ftwfC':'remove-livechat-department','BpiBi':function(x,y){return x!==y;},'tFXnC':'Mwavq','HQjuP':'Users','VRDII':'Subscriptions','GKcHk':'leader','mQNEk':'Leader','vBcnF':'Livechat Agent','OLsmZ':'Livechat Manager'};const permissions=[{'_id':YGlbbw['ZQnBf'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['xaifj'],'roles':[YGlbbw['vTceb']]},{'_id':'add-oauth-service','roles':['admin']},{'_id':YGlbbw['QvfaS'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':'add-user-to-any-c-room','roles':['admin']},{'_id':YGlbbw['EoBBs'],'roles':[]},{'_id':'api-bypass-rate-limit','roles':[YGlbbw['vTceb'],YGlbbw['IFZUZ'],YGlbbw['XkOrc']]},{'_id':YGlbbw['XNqLq'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['bcXOV'],'roles':['admin']},{'_id':YGlbbw['hdDRl'],'roles':['admin']},{'_id':YGlbbw['BRpHp'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':'bulk-register-user','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['pilWh'],'roles':[YGlbbw['vTceb'],YGlbbw['YHYpP'],YGlbbw['TGMqK']]},{'_id':YGlbbw['bvdAu'],'roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],'bot',YGlbbw['XkOrc']]},{'_id':'create-d','roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],YGlbbw['IFZUZ'],'app']},{'_id':YGlbbw['UCjTR'],'roles':['admin',YGlbbw['HBRHB'],'bot','app']},{'_id':YGlbbw['vourB'],'roles':['admin','user']},{'_id':YGlbbw['ZbCAF'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['KyrDc'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['jggCA'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['KjCnB'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['qbQEW'],'roles':[YGlbbw['vTceb'],'owner',YGlbbw['KEsus']]},{'_id':YGlbbw['UBUkw'],'roles':['admin',YGlbbw['HBRHB']]},{'_id':YGlbbw['sCCYt'],'roles':[YGlbbw['vTceb'],'owner']},{'_id':YGlbbw['bUbUe'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['sIkEp'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],'moderator']},{'_id':YGlbbw['mhLHV'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['zbSmc'],'roles':['admin']},{'_id':YGlbbw['fGDWW'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['yBBRg'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['wtuMB'],'roles':[YGlbbw['vTceb']]},{'_id':'edit-other-user-totp','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['rMJtN'],'roles':[YGlbbw['vTceb']]},{'_id':'edit-room','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['lXHiQ'],'roles':['admin',YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['AWRkd'],'roles':[YGlbbw['vTceb']]},{'_id':'force-delete-message','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['nprrR'],'roles':['admin',YGlbbw['IFZUZ'],YGlbbw['XkOrc']]},{'_id':YGlbbw['xquqX'],'roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],'bot','anonymous','app']},{'_id':YGlbbw['kKYro'],'roles':['admin',YGlbbw['HBRHB'],YGlbbw['IFZUZ'],'anonymous','app']},{'_id':YGlbbw['anxDc'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['sBGqq'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['OJUbw'],'roles':[YGlbbw['vTceb']]},{'_id':'manage-emoji','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['hqZwZ'],'roles':['admin']},{'_id':YGlbbw['aMSIR'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['iTBbr'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['WrRVV'],'roles':['admin']},{'_id':YGlbbw['WEZiL'],'roles':[YGlbbw['vTceb']]},{'_id':'manage-oauth-apps','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['ZqBPr'],'roles':[YGlbbw['vTceb']]},{'_id':'mention-all','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus'],YGlbbw['HBRHB']]},{'_id':'mention-here','roles':['admin','owner',YGlbbw['KEsus'],'user']},{'_id':YGlbbw['NnYHa'],'roles':[YGlbbw['vTceb'],'owner',YGlbbw['KEsus']]},{'_id':YGlbbw['qsfyC'],'roles':['admin','owner',YGlbbw['KEsus']]},{'_id':'run-import','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['tujlz'],'roles':['admin']},{'_id':YGlbbw['Awtvz'],'roles':[YGlbbw['vTceb'],'owner']},{'_id':YGlbbw['aqjoO'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['sukJH'],'roles':[YGlbbw['vTceb'],YGlbbw['IFZUZ'],'app']},{'_id':'set-leader','roles':[YGlbbw['vTceb'],'owner']},{'_id':YGlbbw['qSHon'],'roles':[YGlbbw['vTceb']]},{'_id':'view-c-room','roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],'bot',YGlbbw['XkOrc'],YGlbbw['mbkuX']]},{'_id':'user-generate-access-token','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['VeSqY'],'roles':['admin',YGlbbw['HBRHB'],'bot','app',YGlbbw['AUioP']]},{'_id':YGlbbw['cFdcZ'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['fOZsz'],'roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],YGlbbw['mbkuX']]},{'_id':'view-joined-room','roles':[YGlbbw['AUioP'],YGlbbw['IFZUZ'],'app',YGlbbw['mbkuX']]},{'_id':YGlbbw['uQGcX'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['ZLxKN'],'roles':[YGlbbw['vTceb']]},{'_id':'view-other-user-channels','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['spakJ'],'roles':[YGlbbw['vTceb'],'user',YGlbbw['mbkuX'],'guest']},{'_id':YGlbbw['mOtCc'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['WirSZ'],'roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['cWXVK'],'roles':[YGlbbw['vTceb']]},{'_id':'view-user-administration','roles':[YGlbbw['vTceb']]},{'_id':YGlbbw['TkYwO'],'roles':[YGlbbw['vTceb'],YGlbbw['HBRHB'],YGlbbw['mbkuX']]},{'_id':YGlbbw['mHEQI'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus'],YGlbbw['HBRHB']]},{'_id':'view-broadcast-member-list','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['adQvQ'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['IHclF'],'roles':[YGlbbw['vTceb'],'owner',YGlbbw['KEsus']]},{'_id':'view-l-room','roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['TGMqK'],YGlbbw['vTceb']]},{'_id':YGlbbw['cQkSM'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':YGlbbw['PEQYg'],'roles':[YGlbbw['YHYpP'],YGlbbw['TGMqK'],YGlbbw['vTceb']]},{'_id':'view-livechat-rooms','roles':[YGlbbw['YHYpP'],'livechat-monitor','admin']},{'_id':YGlbbw['cUhGJ'],'roles':['livechat-manager',YGlbbw['fLGiv'],YGlbbw['TGMqK'],YGlbbw['vTceb']]},{'_id':YGlbbw['Injet'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':YGlbbw['GktRo'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],'livechat-agent',YGlbbw['vTceb']]},{'_id':'on-hold-others-livechat-room','roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['vTceb']]},{'_id':YGlbbw['eBqgA'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv']]},{'_id':'remove-closed-livechat-rooms','roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':YGlbbw['KCjJM'],'roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['vTceb']]},{'_id':YGlbbw['ZGfaD'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],'livechat-agent',YGlbbw['vTceb']]},{'_id':'transfer-livechat-guest','roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['vTceb']]},{'_id':'manage-livechat-managers','roles':[YGlbbw['YHYpP'],'admin']},{'_id':YGlbbw['aSpJA'],'roles':[YGlbbw['YHYpP'],'livechat-monitor','admin']},{'_id':YGlbbw['MXtqi'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':YGlbbw['ibzxe'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':YGlbbw['crOXJ'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],'admin']},{'_id':YGlbbw['ajBrv'],'roles':['livechat-manager','livechat-monitor',YGlbbw['vTceb']]},{'_id':YGlbbw['oZlZA'],'roles':['livechat-manager','livechat-monitor','admin']},{'_id':'view-livechat-triggers','roles':['livechat-manager',YGlbbw['vTceb']]},{'_id':YGlbbw['QfdCQ'],'roles':['livechat-manager',YGlbbw['vTceb']]},{'_id':YGlbbw['kzTAr'],'roles':[YGlbbw['YHYpP'],YGlbbw['vTceb']]},{'_id':YGlbbw['pZYqO'],'roles':['livechat-manager','admin']},{'_id':YGlbbw['KpvmK'],'roles':[YGlbbw['YHYpP'],YGlbbw['vTceb']]},{'_id':YGlbbw['SZusP'],'roles':[YGlbbw['YHYpP'],YGlbbw['vTceb']]},{'_id':'view-livechat-business-hours','roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['vTceb']]},{'_id':YGlbbw['TlycC'],'roles':[YGlbbw['YHYpP'],YGlbbw['fLGiv'],YGlbbw['vTceb']]},{'_id':'view-livechat-room-closed-by-another-agent','roles':['livechat-manager','livechat-monitor',YGlbbw['vTceb']]},{'_id':YGlbbw['rtBOP'],'roles':['livechat-manager','livechat-monitor',YGlbbw['TGMqK'],YGlbbw['vTceb']]},{'_id':YGlbbw['ZFZpT'],'roles':[YGlbbw['YHYpP'],'livechat-monitor',YGlbbw['TGMqK'],YGlbbw['vTceb']]},{'_id':YGlbbw['NXUDi'],'roles':['livechat-manager',YGlbbw['vTceb']]},{'_id':YGlbbw['pBuOe'],'roles':[YGlbbw['vTceb']]},{'_id':'toggle-room-e2e-encryption','roles':[YGlbbw['QkNBN']]},{'_id':YGlbbw['avXRF'],'roles':['bot',YGlbbw['XkOrc']]},{'_id':YGlbbw['BsgPv'],'roles':[YGlbbw['vTceb'],YGlbbw['HBRHB']]},{'_id':YGlbbw['sskRH'],'roles':[YGlbbw['vTceb'],'owner']},{'_id':YGlbbw['deymZ'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':'edit-team','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['IMPMS'],'roles':['admin',YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':'edit-team-member','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],'moderator']},{'_id':'add-team-channel','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':'edit-team-channel','roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['VSPBv'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN'],YGlbbw['KEsus']]},{'_id':YGlbbw['BAvYt'],'roles':[YGlbbw['vTceb'],YGlbbw['QkNBN']]},{'_id':YGlbbw['whjUk'],'roles':[YGlbbw['vTceb']]},{'_id':'remove-closed-livechat-room','roles':['livechat-manager','admin']},{'_id':YGlbbw['ftwfC'],'roles':[YGlbbw['YHYpP'],'admin']}];for(const permission of permissions){if(YGlbbw['BpiBi']('Mwavq',YGlbbw['tFXnC'])){permission['groupPermissionId']=getSettingPermissionId(setting['group']);}else{Permissions['create'](permission['_id'],permission['roles']);}}const defaultRoles=[{'name':YGlbbw['vTceb'],'scope':YGlbbw['HQjuP'],'description':'Admin'},{'name':YGlbbw['KEsus'],'scope':YGlbbw['VRDII'],'description':'Moderator'},{'name':YGlbbw['GKcHk'],'scope':YGlbbw['VRDII'],'description':YGlbbw['mQNEk']},{'name':YGlbbw['QkNBN'],'scope':'Subscriptions','description':'Owner'},{'name':YGlbbw['HBRHB'],'scope':YGlbbw['HQjuP'],'description':''},{'name':YGlbbw['IFZUZ'],'scope':YGlbbw['HQjuP'],'description':''},{'name':'app','scope':'Users','description':''},{'name':'guest','scope':YGlbbw['HQjuP'],'description':''},{'name':YGlbbw['mbkuX'],'scope':'Users','description':''},{'name':'livechat-agent','scope':YGlbbw['HQjuP'],'description':YGlbbw['vBcnF']},{'name':YGlbbw['YHYpP'],'scope':YGlbbw['HQjuP'],'description':YGlbbw['OLsmZ']}];for(const role of defaultRoles){Roles['createOrUpdate'](role['name'],role['scope'],role['description'],!![],![]);}const getPreviousPermissions=function(settingId){if(YGlbbw['jiIoQ']!==YGlbbw['jiIoQ']){Permissions['upsert']({'_id':permissionId},{'$set':permission});}else{const previousSettingPermissions={};const selector={'level':CONSTANTS['SETTINGS_LEVEL']};if(settingId){selector['settingId']=settingId;}Permissions['find'](selector)['fetch']()['forEach'](function(permission){previousSettingPermissions[permission['_id']]=permission;});return previousSettingPermissions;}};const createSettingPermission=function(setting,previousSettingPermissions){const permissionId=YGlbbw['ePQDU'](getSettingPermissionId,setting['_id']);const permission={'level':CONSTANTS['SETTINGS_LEVEL'],'settingId':setting['_id'],'group':setting['group'],'section':setting['section'],'sorter':setting['sorter'],'roles':[]};if(previousSettingPermissions[permissionId]&&previousSettingPermissions[permissionId]['roles']){permission['roles']=previousSettingPermissions[permissionId]['roles'];}if(setting['group']){permission['groupPermissionId']=getSettingPermissionId(setting['group']);}if(setting['section']){if(YGlbbw['AZGqJ'](YGlbbw['oSCqJ'],YGlbbw['BlOcP'])){permission['sectionPermissionId']=getSettingPermissionId(setting['section']);}else{Permissions['create'](permission['_id'],permission['roles']);}}const existent=Permissions['findOne']({'_id':permissionId,...permission},{'fields':{'_id':0x1}});if(!existent){if(YGlbbw['QkwaV']===YGlbbw['QkwaV']){try{if(YGlbbw['bCYbW'](YGlbbw['KoHjH'],YGlbbw['MSTUs'])){if(!setting['hidden']){YGlbbw['lAWwY'](createSettingPermission,setting,previousSettingPermissions);}}else{Permissions['upsert']({'_id':permissionId},{'$set':permission});}}catch(_0x842d85){if(YGlbbw['AZGqJ'](YGlbbw['VilRW'],YGlbbw['VilRW'])){YGlbbw['lAWwY'](createSettingPermission,setting,previousSettingPermissions);}else{if(!_0x842d85['message']['includes']('E11000')){Permissions['upsert']({'_id':permissionId},{'$set':permission});}}}}else{Permissions['upsert']({'_id':permissionId},{'$set':permission});}}delete previousSettingPermissions[permissionId];};const createPermissionsForExistingSettings=function(){const previousSettingPermissions=YGlbbw['GEaQN'](getPreviousPermissions);Settings['findNotHidden']()['fetch']()['forEach'](setting=>{YGlbbw['lAWwY'](createSettingPermission,setting,previousSettingPermissions);});for(const obsoletePermission in previousSettingPermissions){if(YGlbbw['qONcP'](YGlbbw['oVxAJ'],'SjzWs')){if(previousSettingPermissions['hasOwnProperty'](obsoletePermission)){Permissions['remove']({'_id':obsoletePermission});}}else{if(!e['message']['includes']('E11000')){Permissions['upsert']({'_id':permissionId},{'$set':permission});}}}};YGlbbw['GEaQN'](createPermissionsForExistingSettings);const createPermissionForAddedSetting=function(settingId){if(YGlbbw['aerAT']===YGlbbw['aerAT']){const previousSettingPermissions=YGlbbw['ePQDU'](getPreviousPermissions,settingId);const setting=Settings['findOneById'](settingId);if(setting){if('bBSKC'!==YGlbbw['yBRvu']){const _0x5dc86a=getPreviousPermissions(settingId);const _0x1391e4=Settings['findOneById'](settingId);if(_0x1391e4){if(!_0x1391e4['hidden']){createSettingPermission(_0x1391e4,_0x5dc86a);}}}else{if(!setting['hidden']){if(YGlbbw['ExFpE'](YGlbbw['piLZG'],'IghwQ')){createSettingPermission(setting,previousSettingPermissions);}else{createSettingPermission(setting,previousSettingPermissions);}}}}}else{if(previousSettingPermissions['hasOwnProperty'](obsoletePermission)){Permissions['remove']({'_id':obsoletePermission});}}};settings['onload']('*',createPermissionForAddedSetting);});