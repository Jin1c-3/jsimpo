import _0x20399a from'vue';describe('Global\x20API:\x20mixin',()=>{var _0x2af4bc={'ZRRjC':function(_0x583b58,_0xa746d1){return _0x583b58(_0xa746d1);},'tjAUH':'hello','xDwTD':'TootL','lDIbs':'prop','DNzvX':'PuYgc','EgCKT':'global mixin','zNphk':function(_0x27f3ce,_0x4aa8ef){return _0x27f3ce(_0x4aa8ef);},'LrIvb':function(_0x200aee,_0x1a9cfa){return _0x200aee+_0x1a9cfa;},'liFIX':' local','EMXhj':'test','asVwb':'<test prop="hi"></test>','LsQBX':function(_0x2a902a,_0x53818c){return _0x2a902a!==_0x53818c;},'uQgtj':'ffoAT','PqWTH':'XhOpP','KDKNn':'foo','JibvD':'<div><p>hi</p></div>','QGPAK':'base','nSFrP':'late attached','gZHws':'mixin','pdnPK':'<div>{{\x20$style\x20}}</div>','XVmAD':function(_0x463127,_0x5b4cf1){return _0x463127(_0x5b4cf1);},'jPgKL':'123','JGJcq':'injected','XSmJh':function(_0x224748,_0x9acbb5){return _0x224748(_0x9acbb5);},'rOnNv':function(_0x170b70,_0x22f1c5,_0x4338f8){return _0x170b70(_0x22f1c5,_0x4338f8);},'Tvoxp':'should work','SjRva':function(_0x3d7a02,_0x40f3c4,_0x212d52){return _0x3d7a02(_0x40f3c4,_0x212d52);},'QFTld':function(_0xb64664,_0x38b237,_0x15b6a5){return _0xb64664(_0x38b237,_0x15b6a5);},'GKuFb':'should not drop late-set render functions','cvrVN':function(_0x5f1d1a,_0xe59526,_0x5c950b){return _0x5f1d1a(_0xe59526,_0x5c950b);},'JwbmP':'should\x20not\x20drop\x20scopedId','eTkxs':function(_0x5a2eb5,_0x5040a2,_0x82b5ed){return _0x5a2eb5(_0x5040a2,_0x82b5ed);},'YHrvL':'chain\x20call','ogfRH':'should not mix global mixin lifecycle hook twice'};let _0x39371b;beforeEach(()=>{var _0x5c29b9={'okacO':function(_0x570ce2,_0x6b2c92){return _0x2af4bc['ZRRjC'](_0x570ce2,_0x6b2c92);},'SGrmS':_0x2af4bc['tjAUH']};if('kLnrj'===_0x2af4bc['xDwTD']){const _0x51dff7=jasmine['createSpy']('global mixin');_0x20399a['mixin']({'created'(){_0x5c29b9['okacO'](_0x51dff7,this['$options']['myOption']);}});new _0x20399a({'myOption':'hello'});_0x5c29b9['okacO'](expect,_0x51dff7)['toHaveBeenCalledWith'](_0x5c29b9['SGrmS']);}else{_0x39371b=_0x20399a['options'];}});_0x2af4bc['XSmJh'](afterEach,()=>{var _0x34a5b2={'HSRIJ':_0x2af4bc['lDIbs'],'QECYh':'<test prop="hi"></test>','EZqew':function(_0x36f02d,_0x1c6e34){return _0x2af4bc['ZRRjC'](_0x36f02d,_0x1c6e34);}};if(_0x2af4bc['DNzvX']==='PuYgc'){_0x20399a['options']=_0x39371b;}else{const _0x4f18d3=_0x20399a['extend']({'template':'<div>{{ prop }}</div>'});_0x20399a['mixin']({'props':[_0x34a5b2['HSRIJ']]});const _0x2f9493=new _0x20399a({'template':_0x34a5b2['QECYh'],'components':{'Test':_0x4f18d3}})['$mount']();_0x34a5b2['EZqew'](expect,_0x2f9493['$el']['textContent'])['toBe']('hi');}});_0x2af4bc['rOnNv'](it,_0x2af4bc['Tvoxp'],()=>{var _0xe79275={'qhEVq':function(_0x47313a,_0x2665d7){return _0x2af4bc['ZRRjC'](_0x47313a,_0x2665d7);}};const _0x5d2159=jasmine['createSpy'](_0x2af4bc['EgCKT']);_0x20399a['mixin']({'created'(){_0xe79275['qhEVq'](_0x5d2159,this['$options']['myOption']);}});new _0x20399a({'myOption':_0x2af4bc['tjAUH']});_0x2af4bc['zNphk'](expect,_0x5d2159)['toHaveBeenCalledWith'](_0x2af4bc['tjAUH']);});_0x2af4bc['SjRva'](it,'should\x20work\x20for\x20constructors\x20created\x20before\x20mixin\x20is\x20applied',()=>{var _0x33be49={'qzjDS':function(_0x28971a,_0x378056){return _0x2af4bc['LrIvb'](_0x28971a,_0x378056);},'mBUJl':_0x2af4bc['liFIX']};const _0x43f2af=[];const _0x103536=_0x20399a['extend']({'name':'test','beforeCreate'(){_0x43f2af['push'](_0x33be49['qzjDS'](this['$options']['myOption'],_0x33be49['mBUJl']));}});_0x20399a['mixin']({'beforeCreate'(){_0x43f2af['push'](this['$options']['myOption']+'\x20global');}});_0x2af4bc['zNphk'](expect,_0x103536['options']['name'])['toBe'](_0x2af4bc['EMXhj']);new _0x103536({'myOption':_0x2af4bc['tjAUH']});expect(_0x43f2af)['toEqual'](['hello\x20global','hello local']);});_0x2af4bc['QFTld'](it,'should\x20work\x20for\x20global\x20props',()=>{const _0xf867b=_0x20399a['extend']({'template':'<div>{{ prop }}</div>'});_0x20399a['mixin']({'props':[_0x2af4bc['lDIbs']]});const _0x404429=new _0x20399a({'template':_0x2af4bc['asVwb'],'components':{'Test':_0xf867b}})['$mount']();_0x2af4bc['zNphk'](expect,_0x404429['$el']['textContent'])['toBe']('hi');});it(_0x2af4bc['GKuFb'],()=>{if(_0x2af4bc['LsQBX'](_0x2af4bc['uQgtj'],_0x2af4bc['PqWTH'])){const _0x21ff7e=_0x20399a['extend']({});_0x21ff7e['options']['render']=_0x40c128=>_0x40c128('div','hello');_0x20399a['mixin']({});const _0x269bb7=new _0x20399a({'render':_0x514a69=>_0x514a69(_0x21ff7e)})['$mount']();_0x2af4bc['zNphk'](expect,_0x269bb7['$el']['textContent'])['toBe'](_0x2af4bc['tjAUH']);}else{_0x20399a['options']=_0x39371b;}});_0x2af4bc['cvrVN'](it,_0x2af4bc['JwbmP'],()=>{const _0x25294d=_0x20399a['extend']({});_0x25294d['options']['_scopeId']=_0x2af4bc['KDKNn'];_0x20399a['mixin']({});const _0x3efbba=new _0x25294d({'template':_0x2af4bc['JibvD']})['$mount']();_0x2af4bc['zNphk'](expect,_0x3efbba['$el']['children'][0x0]['hasAttribute'](_0x2af4bc['KDKNn']))['toBe'](!![]);});_0x2af4bc['cvrVN'](it,'should not drop late-attached custom options on existing constructors',()=>{const _0x25fe7e=jasmine['createSpy'](_0x2af4bc['QGPAK']);const _0x3117b7=_0x20399a['extend']({'beforeCreate':_0x25fe7e});const _0x57c075=_0x3117b7['extend']({});_0x57c075['options']['computed']={'$style':()=>0x7b};const _0x516806=jasmine['createSpy'](_0x2af4bc['nSFrP']);_0x57c075['options']['beforeCreate']=_0x57c075['options']['beforeCreate']['concat'](_0x516806);const _0x2a4d06=jasmine['createSpy'](_0x2af4bc['gZHws']);_0x20399a['mixin']({'beforeCreate':_0x2a4d06});const _0x2a8d09=new _0x57c075({'template':_0x2af4bc['pdnPK']})['$mount']();_0x2af4bc['XVmAD'](expect,_0x516806['calls']['count']())['toBe'](0x1);expect(_0x25fe7e['calls']['count']())['toBe'](0x1);expect(_0x2a4d06['calls']['count']())['toBe'](0x1);_0x2af4bc['XVmAD'](expect,_0x2a8d09['$el']['textContent'])['toBe'](_0x2af4bc['jPgKL']);expect(_0x2a8d09['$style'])['toBe'](0x7b);expect(_0x57c075['options']['computed']['$style']())['toBe'](0x7b);expect(_0x57c075['options']['beforeCreate'])['toEqual']([_0x2a4d06,_0x25fe7e,_0x516806]);});_0x2af4bc['eTkxs'](it,'should work for a constructor mixin',()=>{const _0x1b2f3c=jasmine['createSpy'](_0x2af4bc['EgCKT']);const _0x3aa25a=_0x20399a['extend']({'created'(){_0x1b2f3c(this['$options']['myOption']);}});_0x20399a['mixin'](_0x3aa25a);new _0x20399a({'myOption':_0x2af4bc['tjAUH']});expect(_0x1b2f3c)['toHaveBeenCalledWith'](_0x2af4bc['tjAUH']);});it('should not drop original lifecycle hooks',()=>{const _0x4ccd2f=jasmine['createSpy']('base');const _0xccb5eb=_0x20399a['extend']({'beforeCreate':_0x4ccd2f});const _0x3fe4ac=jasmine['createSpy'](_0x2af4bc['JGJcq']);_0xccb5eb['options']['beforeCreate']=_0xccb5eb['options']['beforeCreate']['concat'](_0x3fe4ac);_0x20399a['mixin']({});new _0xccb5eb({});expect(_0x4ccd2f)['toHaveBeenCalled']();expect(_0x3fe4ac)['toHaveBeenCalled']();});_0x2af4bc['eTkxs'](it,_0x2af4bc['YHrvL'],()=>{expect(_0x20399a['mixin']({}))['toBe'](_0x20399a);});it(_0x2af4bc['ogfRH'],()=>{const _0x1e25ad=jasmine['createSpy']('global\x20mixed\x20in\x20lifecycle\x20hook');_0x20399a['mixin']({'created':_0x1e25ad});const _0x2b07fa=_0x20399a['extend']({'methods':{'a'(){}}});const _0x52e174=_0x20399a['extend']({'mixins':[_0x2b07fa]});const _0x40c77d=_0x20399a['extend']({'mixins':[_0x52e174]});const _0x4a8e0d=new _0x40c77d();_0x2af4bc['XVmAD'](expect,typeof _0x4a8e0d['$options']['methods']['a'])['toBe']('function');expect(_0x1e25ad['calls']['count']())['toBe'](0x1);});});