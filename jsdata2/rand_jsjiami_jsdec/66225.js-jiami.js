/* eslint-disable node/no-deprecated-api */
'use strict';const semver=require('semver');const url=require('url');const path=require('path');const log=require('npmlog');const headersTarballRange='>=\x203.0.0\x20||\x20~0.12.10\x20||\x20~0.10.42';const bitsre=/\/win-(x86|x64|arm64)\//;const bitsreV3=/\/win-(x86|ia32|x64)\//;function processRelease(_0x4ee0b1,_0x241d35,_0x12937b,_0x146036){var _0x51fccd={'ZyvrW':'https://nodejs.org/dist','uUywM':'iojs','kTOZE':'dist-url','StIIB':function(_0x601729,_0x118ad8){return _0x601729===_0x118ad8;},'kiYDX':function(_0x134594,_0x53e62f){return _0x134594!==_0x53e62f;},'rEmmJ':'VcLOM','DyIMa':'MwOsd','GdAcm':'node','hUWGD':'Rvhvg','IlOLI':'download','iYZNK':'using dist-url','AHNyr':function(_0x587618,_0x4cfb06){return _0x587618===_0x4cfb06;},'BVTOB':'fiNVI','MvlGG':function(_0x42bca9,_0x31d0c2){return _0x42bca9+_0x31d0c2;},'MpAlp':function(_0x49c8e8,_0x4e3474){return _0x49c8e8+_0x4e3474;},'ZEYxH':function(_0x4c8d48,_0x550aa2,_0x576fc5,_0x50f31e,_0x32fe64){return _0x4c8d48(_0x550aa2,_0x576fc5,_0x50f31e,_0x32fe64);},'rYwWe':'arm64','gaWyn':'x64','lJiuW':'3|2|5|1|0|4','zmXcC':'x86','FaEeH':function(_0x2342d6,_0x2f46d6){return _0x2342d6+_0x2f46d6;},'xqGsR':'-headers','gMSWC':'.tar.gz','jUuHj':function(_0x476f43,_0x2e362a){return _0x476f43+_0x2e362a;},'ikvWW':function(_0x1e9ec1,_0x114875){return _0x1e9ec1!==_0x114875;},'aQxNc':function(_0x7e1790,_0x484bd8){return _0x7e1790+_0x484bd8;},'miJzl':function(_0xa3b1f4,_0x28a74f){return _0xa3b1f4(_0x28a74f);},'sFIpr':function(_0x4ca92e,_0x179994){return _0x4ca92e(_0x179994);}};var _0x50bc57=semver['valid'](_0x4ee0b1[0x0])&&_0x4ee0b1[0x0]||_0x241d35['opts']['target']||_0x12937b;var _0x2f91d4=semver['parse'](_0x50bc57);var _0x221524=_0x241d35['opts'][_0x51fccd['kTOZE']]||_0x241d35['opts']['disturl'];var _0x47888a;var _0x3c0a5d;var _0x38fcd6;var _0x45d0bf;var _0x5b934d;var _0x2eb059;var _0x282155;var _0x20545c;var _0x4b360c;var _0x19ee0a;if(!_0x2f91d4){return{'version':_0x50bc57};}_0x50bc57=_0x2f91d4['version'];_0x47888a=_0x51fccd['StIIB'](_0x50bc57,semver['parse'](_0x12937b)['version']);if(!_0x47888a){if(_0x51fccd['kiYDX']('VcLOM',_0x51fccd['rEmmJ'])){_0x221524=process['env']['NODEJS_ORG_MIRROR'];}else{_0x146036=null;}}if(_0x146036){_0x38fcd6=_0x146036['name']['replace'](/io\.js/,_0x51fccd['uUywM']);}else{if(_0x51fccd['StIIB'](_0x51fccd['DyIMa'],_0x51fccd['DyIMa'])){_0x3c0a5d=_0x2f91d4['major']>=0x1&&_0x2f91d4['major']<0x4;_0x38fcd6=_0x3c0a5d?_0x51fccd['uUywM']:_0x51fccd['GdAcm'];}else{_0x45d0bf=_0x51fccd['ZyvrW'];}}if(!_0x221524&&process['env']['NODEJS_ORG_MIRROR']){_0x221524=process['env']['NODEJS_ORG_MIRROR'];}if(_0x221524){if(_0x51fccd['StIIB'](_0x51fccd['hUWGD'],_0x51fccd['hUWGD'])){log['verbose'](_0x51fccd['IlOLI'],_0x51fccd['iYZNK'],_0x221524);}else{return{'version':_0x50bc57};}}if(_0x221524){_0x45d0bf=_0x221524['replace'](/\/+$/,'');}else{if(_0x51fccd['AHNyr'](_0x51fccd['BVTOB'],_0x51fccd['BVTOB'])){_0x45d0bf=_0x51fccd['ZyvrW'];}else{_0x38fcd6=_0x146036['name']['replace'](/io\.js/,_0x51fccd['uUywM']);}}_0x45d0bf+=_0x51fccd['MvlGG'](_0x51fccd['MpAlp']('/v',_0x50bc57),'/');if(_0x146036&&_0x146036['headersUrl']&&!_0x221524){var _0x4e8a17='3|2|1|0|4'['split']('|'),_0x501286=0x0;while(!![]){switch(_0x4e8a17[_0x501286++]){case'0':_0x20545c=_0x51fccd['ZEYxH'](resolveLibUrl,_0x38fcd6,_0x146036['libUrl']||_0x5b934d||_0x45d0bf,_0x51fccd['rYwWe'],_0x2f91d4['major']);continue;case'1':_0x282155=_0x51fccd['ZEYxH'](resolveLibUrl,_0x38fcd6,_0x146036['libUrl']||_0x5b934d||_0x45d0bf,_0x51fccd['gaWyn'],_0x2f91d4['major']);continue;case'2':_0x2eb059=resolveLibUrl(_0x38fcd6,_0x146036['libUrl']||_0x5b934d||_0x45d0bf,'x86',_0x2f91d4['major']);continue;case'3':_0x5b934d=url['resolve'](_0x146036['headersUrl'],'./');continue;case'4':_0x4b360c=_0x146036['headersUrl'];continue;}break;}}else{var _0x4c0136=_0x51fccd['lJiuW']['split']('|'),_0x4f4686=0x0;while(!![]){switch(_0x4c0136[_0x4f4686++]){case'0':_0x19ee0a=semver['satisfies'](_0x2f91d4,headersTarballRange);continue;case'1':_0x20545c=_0x51fccd['ZEYxH'](resolveLibUrl,_0x38fcd6,_0x5b934d,_0x51fccd['rYwWe'],_0x2f91d4['major']);continue;case'2':_0x2eb059=_0x51fccd['ZEYxH'](resolveLibUrl,_0x38fcd6,_0x5b934d,_0x51fccd['zmXcC'],_0x2f91d4['major']);continue;case'3':_0x5b934d=_0x45d0bf;continue;case'4':_0x4b360c=url['resolve'](_0x5b934d,_0x51fccd['FaEeH'](_0x51fccd['FaEeH'](_0x38fcd6+'-v',_0x50bc57)+(_0x19ee0a?_0x51fccd['xqGsR']:''),_0x51fccd['gMSWC']));continue;case'5':_0x282155=_0x51fccd['ZEYxH'](resolveLibUrl,_0x38fcd6,_0x5b934d,_0x51fccd['gaWyn'],_0x2f91d4['major']);continue;}break;}}return{'version':_0x50bc57,'semver':_0x2f91d4,'name':_0x38fcd6,'baseUrl':_0x5b934d,'tarballUrl':_0x4b360c,'shasumsUrl':url['resolve'](_0x5b934d,'SHASUMS256.txt'),'versionDir':_0x51fccd['jUuHj'](_0x51fccd['ikvWW'](_0x38fcd6,_0x51fccd['GdAcm'])?_0x51fccd['aQxNc'](_0x38fcd6,'-'):'',_0x50bc57),'ia32':{'libUrl':_0x2eb059,'libPath':_0x51fccd['miJzl'](normalizePath,path['relative'](url['parse'](_0x5b934d)['path'],url['parse'](_0x2eb059)['path']))},'x64':{'libUrl':_0x282155,'libPath':_0x51fccd['miJzl'](normalizePath,path['relative'](url['parse'](_0x5b934d)['path'],url['parse'](_0x282155)['path']))},'arm64':{'libUrl':_0x20545c,'libPath':_0x51fccd['sFIpr'](normalizePath,path['relative'](url['parse'](_0x5b934d)['path'],url['parse'](_0x20545c)['path']))}};}function normalizePath(_0x6aecf8){return path['normalize'](_0x6aecf8)['replace'](/\\/g,'/');}function resolveLibUrl(_0x4c9071,_0x45293c,_0x35172f,_0x246ec4){var _0x4e1f91={'OVibd':function(_0x1fabdd,_0x112d07){return _0x1fabdd>=_0x112d07;},'QmzMK':function(_0x5781cb,_0x45b02a){return _0x5781cb+_0x45b02a;},'OTKqX':function(_0x5817d4,_0x1045ac){return _0x5817d4+_0x1045ac;},'GIIFL':function(_0x502773,_0x88c408){return _0x502773+_0x88c408;},'gOfQY':'win-','QdwXs':'.lib','pFtXI':function(_0x80db72,_0x495d30){return _0x80db72+_0x495d30;},'RoSOa':function(_0x2645a0,_0x158f90){return _0x2645a0===_0x158f90;},'KQdHR':'x86','QknmM':function(_0x4e1df5,_0x53b501){return _0x4e1df5+_0x53b501;},'eKSde':function(_0x5dcd35,_0x302b1e){return _0x5dcd35+_0x302b1e;}};var _0xd1a6f1=url['resolve'](_0x45293c,'./');var _0x23ea77=bitsre['test'](_0x45293c)||_0x246ec4===0x3&&bitsreV3['test'](_0x45293c);if(!_0x23ea77){if(_0x4e1f91['OVibd'](_0x246ec4,0x1)){return url['resolve'](_0xd1a6f1,_0x4e1f91['QmzMK'](_0x4e1f91['OTKqX'](_0x4e1f91['GIIFL'](_0x4e1f91['GIIFL'](_0x4e1f91['gOfQY'],_0x35172f),'/'),_0x4c9071),_0x4e1f91['QdwXs']));}return url['resolve'](_0xd1a6f1,_0x4e1f91['pFtXI'](_0x4e1f91['pFtXI'](_0x4e1f91['RoSOa'](_0x35172f,_0x4e1f91['KQdHR'])?'':_0x4e1f91['QknmM'](_0x35172f,'/'),_0x4c9071),_0x4e1f91['QdwXs']));}return _0x45293c['replace'](_0x4e1f91['RoSOa'](_0x246ec4,0x3)?bitsreV3:bitsre,_0x4e1f91['eKSde']('/win-',_0x35172f)+'/');}module['exports']=processRelease;