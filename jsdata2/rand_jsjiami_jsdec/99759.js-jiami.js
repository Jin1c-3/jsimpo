import{Control}from'./Control';import*as _0x1900c5 from'../dom/DomUtil';export var Scale=Control['extend']({'options':{'position':'bottomleft','maxWidth':0x64,'metric':!![],'imperial':!![]},'onAdd':function(map){var NWrcFL={'BLGjJ':'3|0|4|2|1','kQohk':function(x,y){return x+y;},'WmOfd':'leaflet-control-scale','IOBgq':'div'};var UiZRuz=NWrcFL['BLGjJ']['split']('|'),vJQHVJ=0x0;while(!![]){switch(UiZRuz[vJQHVJ++]){case'0':this['_addScales'](options,NWrcFL['kQohk'](className,'-line'),container);continue;case'1':return container;case'2':map['whenReady'](this['_update'],this);continue;case'3':var className=NWrcFL['WmOfd'],container=_0x1900c5['create'](NWrcFL['IOBgq'],className),options=this['options'];continue;case'4':map['on'](options['updateWhenIdle']?'moveend':'move',this['_update'],this);continue;}break;}},'onRemove':function(map){var ENahRR={'Frgbm':'moveend','cwMEj':'move'};map['off'](this['options']['updateWhenIdle']?ENahRR['Frgbm']:ENahRR['cwMEj'],this['_update'],this);},'_addScales':function(options,className,container){var YdvcPH={'RqqHU':'3|0|4|1|2','irgWE':function(x,y){return x+y;},'BkxVb':'-line','WMHmK':'div','dtsBZ':'moveend','lkVtB':function(x,y){return x/y;},'GpygF':function(x,y){return x>=y;},'djNSz':function(x,y){return x>=y;},'pIjYS':function(x,y){return x*y;},'raxWf':function(x,y){return x!==y;},'gRMdQ':'YCkiO','LwDNz':'tNQfv'};if(options['metric']){if(YdvcPH['raxWf'](YdvcPH['gRMdQ'],YdvcPH['gRMdQ'])){var BGzTBn=YdvcPH['RqqHU']['split']('|'),LGJURP=0x0;while(!![]){switch(BGzTBn[LGJURP++]){case'0':this['_addScales'](_0x4bc4a6,YdvcPH['irgWE'](_0x3caf23,YdvcPH['BkxVb']),_0x2a35f1);continue;case'1':map['whenReady'](this['_update'],this);continue;case'2':return _0x2a35f1;case'3':var _0x3caf23='leaflet-control-scale',_0x2a35f1=_0x1900c5['create'](YdvcPH['WMHmK'],_0x3caf23),_0x4bc4a6=this['options'];continue;case'4':map['on'](_0x4bc4a6['updateWhenIdle']?YdvcPH['dtsBZ']:'move',this['_update'],this);continue;}break;}}else{this['_mScale']=_0x1900c5['create']('div',className,container);}}if(options['imperial']){if(YdvcPH['raxWf'](YdvcPH['LwDNz'],'WiISH')){this['_iScale']=_0x1900c5['create'](YdvcPH['WMHmK'],className,container);}else{var _0x2fcb96=Math['pow'](0xa,YdvcPH['irgWE'](Math['floor'](num),'')['length']-0x1),_0x300b0c=YdvcPH['lkVtB'](num,_0x2fcb96);_0x300b0c=YdvcPH['GpygF'](_0x300b0c,0xa)?0xa:YdvcPH['djNSz'](_0x300b0c,0x5)?0x5:_0x300b0c>=0x3?0x3:YdvcPH['djNSz'](_0x300b0c,0x2)?0x2:0x1;return YdvcPH['pIjYS'](_0x2fcb96,_0x300b0c);}}},'_update':function(){var ulPkYl={'orVNR':function(x,y){return x/y;}};var map=this['_map'],y=ulPkYl['orVNR'](map['getSize']()['y'],0x2);var maxMeters=map['distance'](map['containerPointToLatLng']([0x0,y]),map['containerPointToLatLng']([this['options']['maxWidth'],y]));this['_updateScales'](maxMeters);},'_updateScales':function(maxMeters){if(this['options']['metric']&&maxMeters){this['_updateMetric'](maxMeters);}if(this['options']['imperial']&&maxMeters){this['_updateImperial'](maxMeters);}},'_updateMetric':function(maxMeters){var AUsxRO={'wuCSU':function(x,y){return x<y;},'iUQpT':function(x,y){return x/y;},'gMXoF':'\x20km'};var meters=this['_getRoundNum'](maxMeters),label=AUsxRO['wuCSU'](meters,0x3e8)?meters+'\x20m':AUsxRO['iUQpT'](meters,0x3e8)+AUsxRO['gMXoF'];this['_updateScale'](this['_mScale'],label,AUsxRO['iUQpT'](meters,maxMeters));},'_updateImperial':function(maxMeters){var dPYZdc={'zVcDc':'div','WJghB':function(x,y){return x*y;},'pdiLo':function(x,y){return x/y;},'FaNNN':function(x,y){return x+y;},'CGoso':'\x20mi','yPorJ':function(x,y){return x!==y;},'tQNOh':'Gdhvu'};var maxFeet=dPYZdc['WJghB'](maxMeters,3.2808399),maxMiles,miles,feet;if(maxFeet>0x14a0){maxMiles=dPYZdc['pdiLo'](maxFeet,0x14a0);miles=this['_getRoundNum'](maxMiles);this['_updateScale'](this['_iScale'],dPYZdc['FaNNN'](miles,dPYZdc['CGoso']),dPYZdc['pdiLo'](miles,maxMiles));}else{if(dPYZdc['yPorJ'](dPYZdc['tQNOh'],'veuYx')){feet=this['_getRoundNum'](maxFeet);this['_updateScale'](this['_iScale'],feet+'\x20ft',dPYZdc['pdiLo'](feet,maxFeet));}else{this['_iScale']=_0x1900c5['create'](dPYZdc['zVcDc'],className,container);}}},'_updateScale':function(scale,text,ratio){var cAuvCg={'WcBAV':function(x,y){return x+y;},'OiPeb':function(x,y){return x*y;}};scale['style']['width']=cAuvCg['WcBAV'](Math['round'](cAuvCg['OiPeb'](this['options']['maxWidth'],ratio)),'px');scale['innerHTML']=text;},'_getRoundNum':function(num){var SmsKxf={'vmIQj':function(x,y){return x-y;},'XsyMv':function(x,y){return x/y;},'vADky':function(x,y){return x>=y;}};var pow10=Math['pow'](0xa,SmsKxf['vmIQj']((Math['floor'](num)+'')['length'],0x1)),d=SmsKxf['XsyMv'](num,pow10);d=d>=0xa?0xa:SmsKxf['vADky'](d,0x5)?0x5:SmsKxf['vADky'](d,0x3)?0x3:SmsKxf['vADky'](d,0x2)?0x2:0x1;return pow10*d;}});export var scale=function(options){return new Scale(options);};