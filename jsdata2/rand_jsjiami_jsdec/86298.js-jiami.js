/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var CanvasPool=require('../../display/canvas/CanvasPool');var MeasureText=function(_0x393b3c){var _0x12499e={'ciiyj':function(_0x45661c,_0x5b2c00){return _0x45661c in _0x5b2c00;},'Rypoc':function(_0x521032,_0x5bbb53){return _0x521032*_0x5bbb53;},'azSxL':'#f00','snUFF':'alphabetic','pSpzl':'#000','RyOvn':'1|2|0|4|3','cKSbk':function(_0x4305fd,_0x392f9d){return _0x4305fd*_0x392f9d;},'mpuUg':function(_0x17ecf7,_0x5ee7dd){return _0x17ecf7<_0x5ee7dd;},'fGBAg':function(_0x20e1c3,_0x6ec5d5){return _0x20e1c3!==_0x6ec5d5;},'prILW':function(_0x57188b,_0x49c849){return _0x57188b-_0x49c849;},'LlFdN':function(_0x242eec,_0xcdbad9){return _0x242eec<_0xcdbad9;},'FHLmm':function(_0x4c05e7,_0x20c117){return _0x4c05e7+_0x20c117;},'FbuMa':function(_0x36ef92,_0x15e249){return _0x36ef92+_0x15e249;}};var _0x5b13ce=CanvasPool['create'](this);var _0x547f67=_0x5b13ce['getContext']('2d');_0x393b3c['syncFont'](_0x5b13ce,_0x547f67);var _0x8ad308=_0x547f67['measureText'](_0x393b3c['testString']);if(_0x12499e['ciiyj']('actualBoundingBoxAscent',_0x8ad308)){var _0x252ecf=_0x8ad308['actualBoundingBoxAscent'];var _0x29fc83=_0x8ad308['actualBoundingBoxDescent'];CanvasPool['remove'](_0x5b13ce);return{'ascent':_0x252ecf,'descent':_0x29fc83,'fontSize':_0x252ecf+_0x29fc83};}var _0x31861a=Math['ceil'](_0x8ad308['width']*_0x393b3c['baselineX']);var _0x22be78=_0x31861a;var _0x210d0f=_0x12499e['Rypoc'](0x2,_0x22be78);_0x22be78=_0x12499e['Rypoc'](_0x22be78,_0x393b3c['baselineY'])|0x0;_0x5b13ce['width']=_0x31861a;_0x5b13ce['height']=_0x210d0f;_0x547f67['fillStyle']=_0x12499e['azSxL'];_0x547f67['fillRect'](0x0,0x0,_0x31861a,_0x210d0f);_0x547f67['font']=_0x393b3c['_font'];_0x547f67['textBaseline']=_0x12499e['snUFF'];_0x547f67['fillStyle']=_0x12499e['pSpzl'];_0x547f67['fillText'](_0x393b3c['testString'],0x0,_0x22be78);var _0x358a54={'ascent':0x0,'descent':0x0,'fontSize':0x0};var _0x8c955f=_0x547f67['getImageData'](0x0,0x0,_0x31861a,_0x210d0f);if(!_0x8c955f){var _0x9d5bf=_0x12499e['RyOvn']['split']('|'),_0x2e3551=0x0;while(!![]){switch(_0x9d5bf[_0x2e3551++]){case'0':_0x358a54['fontSize']=_0x358a54['ascent']+_0x358a54['descent'];continue;case'1':_0x358a54['ascent']=_0x22be78;continue;case'2':_0x358a54['descent']=_0x22be78+0x6;continue;case'3':return _0x358a54;case'4':CanvasPool['remove'](_0x5b13ce);continue;}break;}}var _0x523d02=_0x8c955f['data'];var _0x5753b4=_0x523d02['length'];var _0x44f7a3=_0x12499e['cKSbk'](_0x31861a,0x4);var _0x2fb7c9;var _0x295a31;var _0x541e5b=0x0;var _0x522e62=![];for(_0x2fb7c9=0x0;_0x12499e['mpuUg'](_0x2fb7c9,_0x22be78);_0x2fb7c9++){for(_0x295a31=0x0;_0x12499e['mpuUg'](_0x295a31,_0x44f7a3);_0x295a31+=0x4){if(_0x12499e['fGBAg'](_0x523d02[_0x541e5b+_0x295a31],0xff)){_0x522e62=!![];break;}}if(!_0x522e62){_0x541e5b+=_0x44f7a3;}else{break;}}_0x358a54['ascent']=_0x22be78-_0x2fb7c9;_0x541e5b=_0x12499e['prILW'](_0x5753b4,_0x44f7a3);_0x522e62=![];for(_0x2fb7c9=_0x210d0f;_0x2fb7c9>_0x22be78;_0x2fb7c9--){for(_0x295a31=0x0;_0x12499e['LlFdN'](_0x295a31,_0x44f7a3);_0x295a31+=0x4){if(_0x12499e['fGBAg'](_0x523d02[_0x12499e['FHLmm'](_0x541e5b,_0x295a31)],0xff)){_0x522e62=!![];break;}}if(!_0x522e62){_0x541e5b-=_0x44f7a3;}else{break;}}_0x358a54['descent']=_0x2fb7c9-_0x22be78;_0x358a54['fontSize']=_0x12499e['FbuMa'](_0x358a54['ascent'],_0x358a54['descent']);CanvasPool['remove'](_0x5b13ce);return _0x358a54;};module['exports']=MeasureText;