const t=require('tap');const {fake:mockNpm}=require('../fixtures/mock-npm');t['test']('pings',_0x2317c5=>{var _0x2f75e5={'xlktx':'passes flatOptions','KIsYE':'should log a PING','gptvw':'should log the registry url','OadUd':'PONG','nmLHQ':'should log a PONG','hThkN':'should log the elapsed milliseconds','fMOke':'EejLv','qYzrn':function(_0x202a22,_0x25ff5e){return _0x202a22===_0x25ff5e;},'mwrQk':'EdTEu','rFdmq':'PING','xYcUZ':'should have logged 2 lines','uuCJM':'npm ping','ZSkLP':'https://registry.npmjs.org','rhksN':'../../lib/ping.js'};_0x2317c5['plan'](0x8);const _0x5e2d77=_0x2f75e5['ZSkLP'];let _0x3ed2b5=0x0;const _0x1875a3=_0x2317c5['mock'](_0x2f75e5['rhksN'],{'../../lib/utils/ping.js':function(_0x38a9b4){_0x2317c5['equal'](_0x38a9b4['registry'],_0x5e2d77,_0x2f75e5['xlktx']);return{};},'npmlog':{'notice':(_0x2617cb,_0x1f60e8)=>{var _0x513ed9={'qBVlq':'PONG','czSrn':_0x2f75e5['hThkN']};if(_0x2f75e5['fMOke']==='EejLv'){++_0x3ed2b5;if(_0x2f75e5['qYzrn'](_0x3ed2b5,0x1)){if(_0x2f75e5['mwrQk']===_0x2f75e5['mwrQk']){_0x2317c5['equal'](_0x2617cb,_0x2f75e5['rFdmq'],'should\x20log\x20a\x20PING');_0x2317c5['equal'](_0x1f60e8,_0x5e2d77,_0x2f75e5['gptvw']);}else{_0x2317c5['equal'](_0x2617cb,_0x513ed9['qBVlq'],'should log a PONG');_0x2317c5['match'](_0x1f60e8,/\d+ms/,_0x513ed9['czSrn']);}}else{_0x2317c5['equal'](_0x2617cb,_0x2f75e5['OadUd'],'should log a PONG');_0x2317c5['match'](_0x1f60e8,/\d+ms/,'should log the elapsed milliseconds');}}else{++_0x3ed2b5;if(_0x3ed2b5===0x1){_0x2317c5['equal'](_0x2617cb,'PING',_0x2f75e5['KIsYE']);_0x2317c5['equal'](_0x1f60e8,_0x5e2d77,_0x2f75e5['gptvw']);}else{_0x2317c5['equal'](_0x2617cb,_0x2f75e5['OadUd'],_0x2f75e5['nmLHQ']);_0x2317c5['match'](_0x1f60e8,/\d+ms/,'should\x20log\x20the\x20elapsed\x20milliseconds');}}}}});const _0x2f6151=mockNpm({'config':{'registry':_0x5e2d77},'flatOptions':{'registry':_0x5e2d77}});const _0x49799b=new _0x1875a3(_0x2f6151);_0x49799b['exec']([],_0x49cba9=>{_0x2317c5['equal'](_0x3ed2b5,0x2,_0x2f75e5['xYcUZ']);_0x2317c5['error'](_0x49cba9,_0x2f75e5['uuCJM']);_0x2317c5['ok']('should be able to ping');});});t['test']('pings\x20and\x20logs\x20details',_0x5f52a6=>{var _0x2248c2={'cwvCT':'should have logged 3 lines','rDaEg':'should be able to ping','mRJFu':function(_0x4f3f59,_0x3193af){return _0x4f3f59===_0x3193af;},'McLTP':'mXMds','ZUUvK':'passes flatOptions','snhIN':'PING','YLwsr':'should log a PING','dKPqF':'should\x20log\x20the\x20registry\x20url','uHhwo':'PONG','BqTZN':'should log a PONG','CEDRf':'should log the elapsed milliseconds','gYYpo':function(_0x11193e,_0x116a3f){return _0x11193e!==_0x116a3f;},'WCzHQ':'thlFR','ELsSE':'Cemlp','YPGMw':'hhfUG','uZXlp':'should log JSON stringified details','DvZie':'npm ping','twCHa':'https://registry.npmjs.org','VWgDl':'../../lib/ping.js','ecstq':function(_0x31511f,_0x2cce01){return _0x31511f(_0x2cce01);}};_0x5f52a6['plan'](0xa);const _0x28d324=_0x2248c2['twCHa'];const _0x5f3d03={'extra':'data'};let _0x4d6f37=0x0;const _0x5e64ad=_0x5f52a6['mock'](_0x2248c2['VWgDl'],{'../../lib/utils/ping.js':function(_0x9b0011){if(_0x2248c2['mRJFu']('mXMds',_0x2248c2['McLTP'])){_0x5f52a6['equal'](_0x9b0011['registry'],_0x28d324,_0x2248c2['ZUUvK']);return _0x5f3d03;}else{_0x5f52a6['equal'](_0x4d6f37,0x3,_0x2248c2['cwvCT']);_0x5f52a6['error'](err,'npm ping');_0x5f52a6['ok'](_0x2248c2['rDaEg']);}},'npmlog':{'notice':(_0x41787d,_0x4db8ec)=>{++_0x4d6f37;if(_0x4d6f37===0x1){if(_0x2248c2['gYYpo'](_0x2248c2['WCzHQ'],_0x2248c2['ELsSE'])){_0x5f52a6['equal'](_0x41787d,_0x2248c2['snhIN'],_0x2248c2['YLwsr']);_0x5f52a6['equal'](_0x4db8ec,_0x28d324,_0x2248c2['dKPqF']);}else{_0x5f52a6['equal'](_0x4db8ec['registry'],_0x28d324,_0x2248c2['ZUUvK']);return _0x5f3d03;}}else if(_0x2248c2['mRJFu'](_0x4d6f37,0x2)){if(_0x2248c2['YPGMw']!==_0x2248c2['YPGMw']){++_0x4d6f37;if(_0x2248c2['mRJFu'](_0x4d6f37,0x1)){_0x5f52a6['equal'](_0x41787d,_0x2248c2['snhIN'],_0x2248c2['YLwsr']);_0x5f52a6['equal'](_0x4db8ec,_0x28d324,_0x2248c2['dKPqF']);}else{_0x5f52a6['equal'](_0x41787d,_0x2248c2['uHhwo'],_0x2248c2['BqTZN']);_0x5f52a6['match'](_0x4db8ec,/\d+ms/,_0x2248c2['CEDRf']);}}else{_0x5f52a6['equal'](_0x41787d,_0x2248c2['uHhwo'],'should log a PONG');_0x5f52a6['match'](_0x4db8ec,/\d+ms/,_0x2248c2['CEDRf']);}}else{_0x5f52a6['equal'](_0x41787d,_0x2248c2['uHhwo'],_0x2248c2['BqTZN']);const _0xc491a4=JSON['parse'](_0x4db8ec);_0x5f52a6['match'](_0xc491a4,_0x5f3d03,_0x2248c2['uZXlp']);}}}});const _0x388f21=_0x2248c2['ecstq'](mockNpm,{'config':{'registry':_0x28d324},'flatOptions':{'registry':_0x28d324}});const _0x4e166c=new _0x5e64ad(_0x388f21);_0x4e166c['exec']([],_0x5068b7=>{_0x5f52a6['equal'](_0x4d6f37,0x3,_0x2248c2['cwvCT']);_0x5f52a6['error'](_0x5068b7,_0x2248c2['DvZie']);_0x5f52a6['ok'](_0x2248c2['rDaEg']);});});t['test']('pings and returns json',_0x3dc062=>{var _0x3b3524={'vhoWm':'passes\x20flatOptions','rcgPo':'PONG','uOkso':'Mwshl','wAZSB':function(_0x5440d7,_0x3649f3){return _0x5440d7===_0x3649f3;},'giNKb':'PING','AqxgX':'should log a PING','Plojp':'should\x20log\x20the\x20registry\x20url','PDDap':'dTvEm','uUqcV':'mEXRX','zgeXd':'returns the correct registry url','DFkeW':'prints\x20returned\x20details','yOzKz':'number','egMap':'returns\x20time\x20as\x20a\x20number','nFCoy':'should\x20have\x20logged\x202\x20lines','CtDwn':'should\x20be\x20able\x20to\x20ping','HQbvc':'https://registry.npmjs.org','cPRKY':'data'};_0x3dc062['plan'](0xb);const _0x3a8ff2=_0x3b3524['HQbvc'];const _0x2f6cbf={'extra':_0x3b3524['cPRKY']};let _0x1ceb76=0x0;const _0xa0e666=_0x3dc062['mock']('../../lib/ping.js',{'../../lib/utils/ping.js':function(_0x7b03f6){_0x3dc062['equal'](_0x7b03f6['registry'],_0x3a8ff2,_0x3b3524['vhoWm']);return _0x2f6cbf;},'npmlog':{'notice':(_0x17d279,_0x526381)=>{if(_0x3b3524['uOkso']===_0x3b3524['uOkso']){++_0x1ceb76;if(_0x3b3524['wAZSB'](_0x1ceb76,0x1)){_0x3dc062['equal'](_0x17d279,_0x3b3524['giNKb'],_0x3b3524['AqxgX']);_0x3dc062['equal'](_0x526381,_0x3a8ff2,_0x3b3524['Plojp']);}else{_0x3dc062['equal'](_0x17d279,_0x3b3524['rcgPo'],'should log a PONG');_0x3dc062['match'](_0x526381,/\d+ms/,'should log the elapsed milliseconds');}}else{_0x3dc062['equal'](_0x17d279,_0x3b3524['rcgPo'],'should log a PONG');_0x3dc062['match'](_0x526381,/\d+ms/,'should log the elapsed milliseconds');}}}});const _0x10f48f=mockNpm({'config':{'registry':_0x3a8ff2,'json':!![]},'flatOptions':{'registry':_0x3a8ff2},'output':function(_0x3fc8e4){if(_0x3b3524['wAZSB'](_0x3b3524['PDDap'],_0x3b3524['uUqcV'])){_0x3dc062['equal'](type,'PING',_0x3b3524['AqxgX']);_0x3dc062['equal'](_0x3fc8e4,_0x3a8ff2,_0x3b3524['Plojp']);}else{const _0x1afc37=JSON['parse'](_0x3fc8e4);_0x3dc062['equal'](_0x1afc37['registry'],_0x3a8ff2,_0x3b3524['zgeXd']);_0x3dc062['match'](_0x1afc37['details'],_0x2f6cbf,_0x3b3524['DFkeW']);_0x3dc062['type'](_0x1afc37['time'],_0x3b3524['yOzKz'],_0x3b3524['egMap']);}}});const _0x399be8=new _0xa0e666(_0x10f48f);_0x399be8['exec']([],_0x295b2d=>{_0x3dc062['equal'](_0x1ceb76,0x2,_0x3b3524['nFCoy']);_0x3dc062['error'](_0x295b2d,'npm ping');_0x3dc062['ok'](_0x3b3524['CtDwn']);});});