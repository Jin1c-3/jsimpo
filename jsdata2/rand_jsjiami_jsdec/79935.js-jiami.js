const fs=require('fs');const path=require('path');const {getJson}=require('./json');function parseThemeByJsonStr(_0x133488,_0x59004d,_0x8ca81a){var _0x5c6256={'mzitN':function(_0x3874d2,_0x4b0bcc){return _0x3874d2+_0x4b0bcc;},'RMyBQ':function(_0xe452ea,_0x42b7d3){return _0xe452ea===_0x42b7d3;}};if(_0x5c6256['RMyBQ'](_0x133488['indexOf']('@'),-0x1)){return _0x133488;}_0x59004d['forEach'](_0x48a7ce=>{_0x133488=_0x133488['replace'](new RegExp(_0x5c6256['mzitN']('@',_0x48a7ce),'g'),_0x8ca81a[_0x48a7ce]);});return _0x133488;}const themeJsonPath=path['join'](process['env']['UNI_INPUT_DIR'],'theme.json');function hasTheme(){return fs['existsSync'](themeJsonPath);}function darkmode(){return!!(global['uniPlugin']['options']||{})['darkmode'];}module['exports']={'darkmode':darkmode,'hasTheme':hasTheme,'initTheme'(){var _0x5dd836={'kTApH':function(_0x118cb8,_0x38feb5){return _0x118cb8+_0x38feb5;},'MIwEK':function(_0x8c479f,_0x5075b0){return _0x8c479f===_0x5075b0;},'BzaQJ':function(_0xb992b3){return _0xb992b3();},'vnHnf':function(_0x457266,_0x34f8c5){return _0x457266!==_0x34f8c5;},'pmEfL':'ohRqs','giveP':'VmoqB','aCpwc':'theme.json','tSIQC':function(_0x28e722,_0x531bf6){return _0x28e722!==_0x531bf6;},'WyWQg':'ggcaV','DHEXT':'mKyuY'};if(!_0x5dd836['BzaQJ'](hasTheme)){if(_0x5dd836['vnHnf']('ohRqs',_0x5dd836['pmEfL'])){if(_0x5dd836['MIwEK'](jsonStr['indexOf']('@'),-0x1)){return jsonStr;}keys['forEach'](_0x183d41=>{jsonStr=jsonStr['replace'](new RegExp(_0x5dd836['kTApH']('@',_0x183d41),'g'),theme[_0x183d41]);});return jsonStr;}else{return;}}if(darkmode()){if(_0x5dd836['giveP']!==_0x5dd836['giveP']){console['error'](e);}else{return;}}try{const _0x492a12=getJson(_0x5dd836['aCpwc'],!![]);global['uniPlugin']['defaultTheme']=_0x492a12['light'];}catch(_0x5b9535){if(_0x5dd836['tSIQC'](_0x5dd836['WyWQg'],_0x5dd836['DHEXT'])){console['error'](_0x5b9535);}else{return!!(global['uniPlugin']['options']||{})['darkmode'];}}},'parseTheme'(_0x16a9ce){var _0x53ade8={'aabUw':function(_0xbda73e,_0x506ba7){return _0xbda73e===_0x506ba7;},'WNubD':'string','LgbhN':function(_0x3ba45a,_0x3c7c45){return _0x3ba45a!==_0x3c7c45;},'gbGsR':'skcGu','CwLDK':'WDYIs'};const _0x42ef64=global['uniPlugin']['defaultTheme'];if(!_0x42ef64){return _0x16a9ce;}const _0x4e26b1=Object['keys'](_0x42ef64);if(!_0x4e26b1['length']){return _0x16a9ce;}if(_0x53ade8['aabUw'](typeof _0x16a9ce,_0x53ade8['WNubD'])){if(_0x53ade8['LgbhN'](_0x53ade8['gbGsR'],_0x53ade8['CwLDK'])){return parseThemeByJsonStr(_0x16a9ce,_0x4e26b1,_0x42ef64);}else{return fs['existsSync'](themeJsonPath);}}return JSON['parse'](parseThemeByJsonStr(JSON['stringify'](_0x16a9ce),_0x4e26b1,_0x42ef64));}};