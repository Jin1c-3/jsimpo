'use strict';const expect=require('chai')['expect'];const AwsProvider=require('../../../../../../../../lib/plugins/aws/provider');const AwsCompileCloudWatchLogEvents=require('../../../../../../../../lib/plugins/aws/package/compile/events/cloudWatchLog');const Serverless=require('../../../../../../../../lib/Serverless');describe('AwsCompileCloudWatchLogEvents',()=>{var _0x32f195={'KIpcy':'3|4|2|1|0','RfKoq':'new-service','FjnFU':'aws','mQvFT':function(_0x178435,_0x6d103,_0x38ad2a){return _0x178435(_0x6d103,_0x38ad2a);},'fULyU':'should set the provider variable to an instance of AwsProvider','lBhZN':function(_0x14f297,_0x13e77b){return _0x14f297!==_0x13e77b;},'ptIOA':'aNuCO','yTiKk':'cZTvH','JTGXH':'/aws/lambda/hello1','HYEFq':'AWS::Logs::SubscriptionFilter','QMyjl':function(_0x49dc79,_0x57b82c){return _0x49dc79(_0x57b82c);},'tePJn':'AWS::Lambda::Permission','rwUxO':function(_0x3c83f5,_0x5bf805){return _0x3c83f5(_0x5bf805);},'grllm':function(_0x513a96,_0x519bbf){return _0x513a96(_0x519bbf);},'baZZa':function(_0x4fbf32,_0x6dd474){return _0x4fbf32(_0x6dd474);},'AbaTU':function(_0x1391f7,_0x1a92c1){return _0x1391f7===_0x1a92c1;},'Dpcju':'aLBLG','FYWUS':'7|3|1|2|0|8|4|5|6','hZppe':function(_0x32d88c,_0x547503){return _0x32d88c(_0x547503);},'KvvyW':function(_0x33ddcc,_0x3b4505){return _0x33ddcc(_0x3b4505);},'iRHdQ':'/aws/lambda/hello2','DDHQh':function(_0x4dea85,_0x34e3e8){return _0x4dea85(_0x34e3e8);},'QPSYx':function(_0x2a22e0,_0x3b8920){return _0x2a22e0===_0x3b8920;},'oYhQu':'TErpK','kplGn':'5|1|4|3|0|6|2','qBoAo':'/aws/lam\nbda/hello3','VrMjt':'/aws/lambda/hello3','RKHfZ':function(_0x42d90f,_0x316e2b){return _0x42d90f(_0x316e2b);},'MffhX':'{$.userIdentity.type = Root}','Inrwz':'/aws/lam\x0abda/hello1','SKVFx':'{$.userIden\ntity.type = Root}','MVdcy':'"Total amount" -"level=Debug"','nCbvH':'7|8|0|1|3|4|2|9|5|6','xtzxP':'/aws/lambda/h*','oCpZA':'/aws/lambda/tweet','KlgRj':'/aws/lambda/*','bySof':'/aws/*','qagNl':'/aws/batch/log1','YwNUd':'/aws/lambda','QKvjj':'/aws/lambda*','ExPoA':function(_0x13e1ed,_0x124a1c){return _0x13e1ed(_0x124a1c);},'nIqjh':'/aws/lambda/yada-dev-dummy','kIbSa':'/aws/lambda/yada-dev-dummy2','tIleP':function(_0x2bb86c,_0x5ec504){return _0x2bb86c(_0x5ec504);},'qWrfF':function(_0x30d683,_0x4cfad9){return _0x30d683(_0x4cfad9);},'AbWUn':'/aws/lambda/hello*','fcqli':'\x5c\x22Total\x20amount\x5c\x22\x20-\x5c\x22level=Debug\x5c\x22','PKtCR':function(_0x1c4787,_0x3455a3){return _0x1c4787(_0x3455a3);},'bGJeI':'noVsm','pidbR':function(_0xbbfd83,_0x3f6c76){return _0xbbfd83(_0x3f6c76);},'prlLc':'should create corresponding resources when cloudwatchLog events are given','Zkgig':'should\x20respect\x202\x20cloudwatchLog\x20events\x20for\x20log\x20group','kzubO':'should\x20respect\x20\x22filter\x22\x20variable','UdjdD':function(_0xe666cf,_0x321a21,_0x448175){return _0xe666cf(_0x321a21,_0x448175);},'zVnsx':function(_0xafa4c,_0x309f50,_0x12e59c){return _0xafa4c(_0x309f50,_0x12e59c);},'rCUyq':function(_0x3fb639,_0x43023f,_0x4acdb3){return _0x3fb639(_0x43023f,_0x4acdb3);},'AvuLh':'should create a longest-common suffix of logGroup to minimize scope','lgbVY':function(_0x38ae31,_0x13229a,_0x1474cc){return _0x38ae31(_0x13229a,_0x1474cc);},'QgmBI':'should throw an error if "logGroup" is configured more than twice in one CloudFormation stack','jonOV':'should respect variables if multi-line variables are given','GfIBN':function(_0x129c3a,_0x1795d9,_0x26e3b5){return _0x129c3a(_0x1795d9,_0x26e3b5);},'zHZbS':function(_0x38c5ac,_0x2b5556,_0x539c0c){return _0x38c5ac(_0x2b5556,_0x539c0c);},'FxNBf':'should not create corresponding resources when "events" property is not given'};let _0x2b0e66;let _0x112031;_0x32f195['pidbR'](beforeEach,()=>{var _0x342b97=_0x32f195['KIpcy']['split']('|'),_0x3becbe=0x0;while(!![]){switch(_0x342b97[_0x3becbe++]){case'0':_0x112031['serverless']['service']['service']=_0x32f195['RfKoq'];continue;case'1':_0x112031=new AwsCompileCloudWatchLogEvents(_0x2b0e66);continue;case'2':_0x2b0e66['setProvider'](_0x32f195['FjnFU'],new AwsProvider(_0x2b0e66));continue;case'3':_0x2b0e66=new Serverless();continue;case'4':_0x2b0e66['service']['provider']['compiledCloudFormationTemplate']={'Resources':{}};continue;}break;}});describe('#constructor()',()=>{_0x32f195['mQvFT'](it,_0x32f195['fULyU'],()=>expect(_0x112031['provider'])['to']['be']['instanceof'](AwsProvider));});describe('#compileCloudWatchLogEvents()',()=>{var _0x33a7ea={'fHCLp':function(_0x4d4cc2,_0x12aa22){return _0x32f195['RKHfZ'](_0x4d4cc2,_0x12aa22);},'sglvp':function(_0xf48600,_0x3e8fca){return _0xf48600(_0x3e8fca);},'SRxUc':'/aws/lambda/hello2','kNVoa':_0x32f195['JTGXH'],'RMzzZ':function(_0x121d10,_0x145c5a){return _0x32f195['RKHfZ'](_0x121d10,_0x145c5a);},'pUCdk':function(_0x14a8cb,_0x2928b8){return _0x32f195['RKHfZ'](_0x14a8cb,_0x2928b8);},'POicO':_0x32f195['MVdcy'],'AzORJ':function(_0x54c641,_0x5f2bfa){return _0x54c641(_0x5f2bfa);},'okHiU':_0x32f195['nCbvH'],'hHAjP':_0x32f195['xtzxP'],'wTXuW':_0x32f195['oCpZA'],'WCmEL':_0x32f195['KlgRj'],'UitBD':_0x32f195['bySof'],'oAYeu':'/aws/lambda/hello','AfVZY':'/aws/l*','WRCil':function(_0x9a9f01,_0x1b396e){return _0x32f195['RKHfZ'](_0x9a9f01,_0x1b396e);},'hdTCI':_0x32f195['qagNl'],'YVBGV':_0x32f195['YwNUd'],'dVKvd':_0x32f195['QKvjj'],'tNglb':function(_0x134391,_0x4e35a3){return _0x32f195['ExPoA'](_0x134391,_0x4e35a3);},'AsMuf':_0x32f195['nIqjh'],'yOwYq':_0x32f195['kIbSa'],'nyUPK':'/aws/lambda/yada-dev-dummy*','Fqgws':function(_0x20841e,_0x332758){return _0x32f195['tIleP'](_0x20841e,_0x332758);},'Qjszv':function(_0x14c9ac,_0x52b8ff){return _0x32f195['qWrfF'](_0x14c9ac,_0x52b8ff);},'zGzUG':_0x32f195['AbWUn'],'KImSr':function(_0x7ba70a,_0xa2e95b){return _0x32f195['qWrfF'](_0x7ba70a,_0xa2e95b);},'VtEiJ':_0x32f195['fcqli'],'iUncC':function(_0x190c21,_0x439759){return _0x32f195['lBhZN'](_0x190c21,_0x439759);},'kxIuF':'XvrJc','nyzIU':'1|6|2|0|3|4|5','rZkjq':_0x32f195['MffhX'],'OlQtH':_0x32f195['Inrwz'],'HAFXg':function(_0x223d6c,_0x30a3a2){return _0x32f195['PKtCR'](_0x223d6c,_0x30a3a2);},'xoMou':'/aws/lam\nbda/hello3','zUKad':_0x32f195['VrMjt'],'fAxEU':function(_0x5a56e4,_0x5d2fcf){return _0x32f195['QPSYx'](_0x5a56e4,_0x5d2fcf);},'aJeSL':_0x32f195['bGJeI'],'BfiHo':function(_0x3567a3,_0x59c359){return _0x32f195['pidbR'](_0x3567a3,_0x59c359);}};_0x32f195['mQvFT'](it,_0x32f195['prlLc'],()=>{var _0x25c814='7|2|8|0|5|3|1|6|4'['split']('|'),_0x13b07d=0x0;while(!![]){switch(_0x25c814[_0x13b07d++]){case'0':_0x33a7ea['fHCLp'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Type'])['to']['equal']('AWS::Logs::SubscriptionFilter');continue;case'1':_0x33a7ea['fHCLp'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('');continue;case'2':_0x112031['compileCloudWatchLogEvents']();continue;case'3':_0x33a7ea['sglvp'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Properties']['LogGroupName'])['to']['equal'](_0x33a7ea['SRxUc']);continue;case'4':_0x33a7ea['sglvp'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLambdaPermissionLogsSubscriptionFilterCloudWatchLog']['Type'])['to']['equal']('AWS::Lambda::Permission');continue;case'5':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x33a7ea['kNVoa']);continue;case'6':_0x33a7ea['RMzzZ'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Properties']['FilterPattern'])['to']['equal']('');continue;case'7':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':'/aws/lambda/hello1'}},{'cloudwatchLog':{'logGroup':_0x33a7ea['SRxUc']}}]}};continue;case'8':_0x33a7ea['pUCdk'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Type'])['to']['equal']('AWS::Logs::SubscriptionFilter');continue;}break;}});it(_0x32f195['Zkgig'],()=>{if(_0x32f195['lBhZN'](_0x32f195['ptIOA'],_0x32f195['yTiKk'])){_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':'/aws/lambda/hello1'}}]},'second':{'events':[{'cloudwatchLog':{'logGroup':_0x32f195['JTGXH']}}]}};_0x112031['compileCloudWatchLogEvents']();expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Type'])['to']['equal'](_0x32f195['HYEFq']);_0x32f195['QMyjl'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x32f195['JTGXH']);_0x32f195['QMyjl'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('');_0x32f195['QMyjl'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLambdaPermissionLogsSubscriptionFilterCloudWatchLog']['Type'])['to']['equal'](_0x32f195['tePJn']);_0x32f195['QMyjl'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['SecondLogsSubscriptionFilterCloudWatchLog1']['Type'])['to']['equal'](_0x32f195['HYEFq']);_0x32f195['QMyjl'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['SecondLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal']('/aws/lambda/hello1');_0x32f195['rwUxO'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['SecondLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('');_0x32f195['grllm'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['SecondLambdaPermissionLogsSubscriptionFilterCloudWatchLog']['Type'])['to']['equal'](_0x32f195['tePJn']);}else{_0x112031['serverless']['service']['functions']={'first':{'events':[{}]}};_0x112031['compileCloudWatchLogEvents']();expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources'])['to']['deep']['equal']({});}});it(_0x32f195['kzubO'],()=>{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':_0x32f195['JTGXH'],'filter':'{$.userIdentity.type = Root}'}}]}};_0x112031['compileCloudWatchLogEvents']();_0x32f195['grllm'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('{$.userIdentity.type = Root}');});_0x32f195['UdjdD'](it,'should respect "filter" variable of plain text',()=>{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':_0x33a7ea['kNVoa'],'filter':_0x33a7ea['POicO']}}]}};_0x112031['compileCloudWatchLogEvents']();expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal'](_0x33a7ea['POicO']);});_0x32f195['zVnsx'](it,'should respect escaped "filter" variable of plain text',()=>{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':_0x32f195['JTGXH'],'filter':'\x5c\x22Total\x20amount\x5c\x22\x20-\x5c\x22level=Debug\x5c\x22'}}]}};_0x112031['compileCloudWatchLogEvents']();_0x32f195['baZZa'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('\x22Total\x20amount\x22\x20-\x22level=Debug\x22');});_0x32f195['rCUyq'](it,'should set an empty string for FilterPattern statement when "filter" variable is not given',()=>{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':'/aws/lambda/hello1'}}]}};_0x112031['compileCloudWatchLogEvents']();_0x33a7ea['AzORJ'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('');});_0x32f195['rCUyq'](it,'should\x20create\x20corresponding\x20resources\x20when\x20cloudwatchLog\x20events\x20are\x20given\x20as\x20a\x20string',()=>{var _0x989af2={'UTWrm':function(_0x5d40b4,_0x4c6e10){return _0x5d40b4(_0x4c6e10);}};if(_0x32f195['AbaTU'](_0x32f195['Dpcju'],_0x32f195['Dpcju'])){var _0x28453d=_0x32f195['FYWUS']['split']('|'),_0x5c245a=0x0;while(!![]){switch(_0x28453d[_0x5c245a++]){case'0':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x32f195['JTGXH']);continue;case'1':_0x32f195['baZZa'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Type'])['to']['equal'](_0x32f195['HYEFq']);continue;case'2':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Type'])['to']['equal']('AWS::Logs::SubscriptionFilter');continue;case'3':_0x112031['compileCloudWatchLogEvents']();continue;case'4':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal']('');continue;case'5':_0x32f195['hZppe'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Properties']['FilterPattern'])['to']['equal']('');continue;case'6':_0x32f195['hZppe'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLambdaPermissionLogsSubscriptionFilterCloudWatchLog']['Type'])['to']['equal'](_0x32f195['tePJn']);continue;case'7':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x32f195['JTGXH']},{'cloudwatchLog':'/aws/lambda/hello2'}]}};continue;case'8':_0x32f195['KvvyW'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog2']['Properties']['LogGroupName'])['to']['equal'](_0x32f195['iRHdQ']);continue;}break;}}else{_0x112031['serverless']['service']['functions']={'first':{}};_0x112031['compileCloudWatchLogEvents']();_0x989af2['UTWrm'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources'])['to']['deep']['equal']({});}});_0x32f195['rCUyq'](it,_0x32f195['AvuLh'],()=>{var _0x7514af=_0x33a7ea['okHiU']['split']('|'),_0x244b24=0x0;while(!![]){switch(_0x7514af[_0x244b24++]){case'0':_0x33a7ea['AzORJ'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['kNVoa'],'/aws/lambda/hot']))['to']['equal'](_0x33a7ea['hHAjP']);continue;case'1':_0x33a7ea['AzORJ'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['kNVoa'],_0x33a7ea['wTXuW']]))['to']['equal'](_0x33a7ea['WCmEL']);continue;case'2':_0x33a7ea['AzORJ'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['UitBD'],_0x33a7ea['oAYeu']]))['to']['equal'](_0x33a7ea['UitBD']);continue;case'3':_0x33a7ea['AzORJ'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['kNVoa'],'/aws/lex/log1','/aws/lightsail/log1']))['to']['equal'](_0x33a7ea['AfVZY']);continue;case'4':_0x33a7ea['WRCil'](expect,_0x112031['longestCommonSuffix'](['/aws/lambda/hello1',_0x33a7ea['hdTCI']]))['to']['equal'](_0x33a7ea['UitBD']);continue;case'5':expect(_0x112031['longestCommonSuffix']([_0x33a7ea['YVBGV'],_0x33a7ea['oAYeu']]))['to']['equal'](_0x33a7ea['dVKvd']);continue;case'6':_0x33a7ea['tNglb'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['AsMuf'],_0x33a7ea['yOwYq']]))['to']['equal'](_0x33a7ea['nyUPK']);continue;case'7':_0x33a7ea['Fqgws'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['kNVoa']]))['to']['equal']('/aws/lambda/hello1');continue;case'8':_0x33a7ea['Qjszv'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['kNVoa'],'/aws/lambda/hello2']))['to']['equal'](_0x33a7ea['zGzUG']);continue;case'9':_0x33a7ea['KImSr'](expect,_0x112031['longestCommonSuffix']([_0x33a7ea['WCmEL'],'/aws/lambda/hello']))['to']['equal'](_0x33a7ea['WCmEL']);continue;}break;}});_0x32f195['lgbVY'](it,_0x32f195['QgmBI'],()=>{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x32f195['JTGXH']},{'cloudwatchLog':_0x32f195['iRHdQ']},{'cloudwatchLog':'/aws/lambda/hello1'},{'cloudwatchLog':_0x32f195['JTGXH']}]}};expect(()=>_0x112031['compileCloudWatchLogEvents']())['to']['throw'](Error);_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x32f195['JTGXH']},{'cloudwatchLog':_0x32f195['iRHdQ']},{'cloudwatchLog':'/aws/lambda/hello1'}]},'second':{'events':[{'cloudwatchLog':_0x32f195['JTGXH']}]}};expect(()=>_0x112031['compileCloudWatchLogEvents']())['to']['throw'](Error);});it(_0x32f195['jonOV'],()=>{var _0x4c2cc4={'WPpOc':_0x32f195['JTGXH'],'BeVtj':'/aws/lambda/hello2','jgsko':function(_0x506629,_0xf3244f){return _0x32f195['DDHQh'](_0x506629,_0xf3244f);}};if(_0x32f195['QPSYx'](_0x32f195['oYhQu'],_0x32f195['oYhQu'])){var _0x15cd70=_0x32f195['kplGn']['split']('|'),_0x96060e=0x0;while(!![]){switch(_0x15cd70[_0x96060e++]){case'0':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x32f195['qBoAo']}]}};continue;case'1':_0x112031['compileCloudWatchLogEvents']();continue;case'2':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x32f195['VrMjt']);continue;case'3':_0x32f195['RKHfZ'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal'](_0x32f195['MffhX']);continue;case'4':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x32f195['JTGXH']);continue;case'5':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':_0x32f195['Inrwz'],'filter':_0x32f195['SKVFx']}}]}};continue;case'6':_0x112031['compileCloudWatchLogEvents']();continue;}break;}}else{_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x4c2cc4['WPpOc']},{'cloudwatchLog':_0x4c2cc4['BeVtj']},{'cloudwatchLog':_0x4c2cc4['WPpOc']},{'cloudwatchLog':_0x4c2cc4['WPpOc']}]}};expect(()=>_0x112031['compileCloudWatchLogEvents']())['to']['throw'](Error);_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':'/aws/lambda/hello1'},{'cloudwatchLog':_0x4c2cc4['BeVtj']},{'cloudwatchLog':_0x4c2cc4['WPpOc']}]},'second':{'events':[{'cloudwatchLog':'/aws/lambda/hello1'}]}};_0x4c2cc4['jgsko'](expect,()=>_0x112031['compileCloudWatchLogEvents']())['to']['throw'](Error);}});_0x32f195['GfIBN'](it,'should\x20not\x20create\x20corresponding\x20resources\x20when\x20cloudwatchLog\x20event\x20is\x20not\x20given',()=>{var _0x62026d={'fkVsG':_0x33a7ea['VtEiJ'],'ngbva':function(_0x45480a,_0x1c8f15){return _0x45480a(_0x1c8f15);},'vFIdO':_0x33a7ea['POicO']};if(_0x33a7ea['iUncC'](_0x33a7ea['kxIuF'],'XvrJc')){_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':'/aws/lambda/hello1','filter':_0x62026d['fkVsG']}}]}};_0x112031['compileCloudWatchLogEvents']();_0x62026d['ngbva'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal'](_0x62026d['vFIdO']);}else{_0x112031['serverless']['service']['functions']={'first':{'events':[{}]}};_0x112031['compileCloudWatchLogEvents']();expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources'])['to']['deep']['equal']({});}});_0x32f195['zHZbS'](it,_0x32f195['FxNBf'],()=>{if(_0x33a7ea['fAxEU'](_0x33a7ea['aJeSL'],'noVsm')){_0x112031['serverless']['service']['functions']={'first':{}};_0x112031['compileCloudWatchLogEvents']();_0x33a7ea['BfiHo'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources'])['to']['deep']['equal']({});}else{var _0x4a35ab=_0x33a7ea['nyzIU']['split']('|'),_0x3596fd=0x0;while(!![]){switch(_0x4a35ab[_0x3596fd++]){case'0':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['FilterPattern'])['to']['equal'](_0x33a7ea['rZkjq']);continue;case'1':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':{'logGroup':_0x33a7ea['OlQtH'],'filter':'{$.userIden\ntity.type = Root}'}}]}};continue;case'2':_0x33a7ea['HAFXg'](expect,_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x33a7ea['kNVoa']);continue;case'3':_0x112031['serverless']['service']['functions']={'first':{'events':[{'cloudwatchLog':_0x33a7ea['xoMou']}]}};continue;case'4':_0x112031['compileCloudWatchLogEvents']();continue;case'5':expect(_0x112031['serverless']['service']['provider']['compiledCloudFormationTemplate']['Resources']['FirstLogsSubscriptionFilterCloudWatchLog1']['Properties']['LogGroupName'])['to']['equal'](_0x33a7ea['zUKad']);continue;case'6':_0x112031['compileCloudWatchLogEvents']();continue;}break;}}});});});