var common=require('../common.js');var assert=require('assert');var READSIZE=0x64;var PUSHSIZE=0x14;var PUSHCOUNT=0x3e8;var HWM=0x32;var Readable=require('../../readable')['Readable'];var r=new Readable({'highWaterMark':HWM});var rs=r['_readableState'];r['_read']=push;r['on']('readable',function(){var _0x1c88e3={'mzAwb':'  > read(%d)','rZspx':'<< after read()'};console['error']('>> readable');do{console['error'](_0x1c88e3['mzAwb'],READSIZE);var _0x3a02eb=r['read'](READSIZE);console['error']('  < %j (%d remain)',_0x3a02eb&&_0x3a02eb['length'],rs['length']);}while(_0x3a02eb&&_0x3a02eb['length']===READSIZE);console['error'](_0x1c88e3['rZspx'],_0x3a02eb&&_0x3a02eb['length'],rs['needReadable'],rs['length']);});var endEmitted=![];r['on']('end',function(){var _0x5f391f={'KWimw':'end'};endEmitted=!![];console['error'](_0x5f391f['KWimw']);});var pushes=0x0;function push(){var _0x2968b3={'COvBu':function(_0x4b4ec5,_0x33bd3c){return _0x4b4ec5===_0x33bd3c;},'GHjJB':'   push #%d'};if(pushes>PUSHCOUNT)return;if(_0x2968b3['COvBu'](pushes++,PUSHCOUNT)){console['error']('\x20\x20\x20push(EOF)');return r['push'](null);}console['error'](_0x2968b3['GHjJB'],pushes);if(r['push'](new Buffer(PUSHSIZE)))setTimeout(push);}var ret=r['read'](0x0);process['on']('exit',function(){assert['equal'](pushes,PUSHCOUNT+0x1);assert(endEmitted);});