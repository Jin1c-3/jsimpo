utils['load']('test/inspector/wasm-inspector-test.js');let {session,contextGroup,Protocol}=InspectorTest['start']('Tests reported code offsets on wasm scripts');let sentinel=0x0;function addHeader(_0x1c87c8,_0x57ea4f){var _0x5dfde9={'mjVqa':'sentinel'};_0x1c87c8['emit_header']();var _0x1af1d2=new Binary();_0x1af1d2['emit_u8'](0x0);_0x1af1d2['emit_u8'](0xa);_0x1af1d2['emit_string'](_0x5dfde9['mjVqa']);_0x1af1d2['emit_bytes']([sentinel]);++sentinel;_0x1c87c8['emit_bytes'](_0x1af1d2['trunc_buffer']());_0x1c87c8['emit_section'](kTypeSectionCode,_0x447fcf=>{_0x447fcf['emit_u32v'](0x1);_0x447fcf['emit_u8'](kWasmFunctionTypeForm);_0x447fcf['emit_u32v'](0x0);_0x447fcf['emit_u32v'](0x0);});_0x1c87c8['emit_section'](kFunctionSectionCode,_0x5e6f9e=>{_0x5e6f9e['emit_u32v'](_0x57ea4f);for(let _0x458f25=0x0;_0x458f25<_0x57ea4f;++_0x458f25){_0x5e6f9e['emit_u32v'](0x0);}});}function createModuleWithNoCodeSection(){var _0x3d0ad5={'Qowul':function(_0x48708a,_0x2ea031,_0x58128d){return _0x48708a(_0x2ea031,_0x58128d);}};let _0x2a429e=new Binary();_0x3d0ad5['Qowul'](addHeader,_0x2a429e,0x0);return _0x2a429e['trunc_buffer']();}function createModuleWithEmptyCodeSection(){let _0x3624db=new Binary();addHeader(_0x3624db,0x0);_0x3624db['emit_u8'](kCodeSectionCode);_0x3624db['emit_u32v'](0x1);_0x3624db['emit_u32v'](0x0);return _0x3624db['trunc_buffer']();}function createModuleWithFiveByteSectionLength(){let _0x18c897=new Binary();addHeader(_0x18c897,0x1);_0x18c897['emit_u8'](kCodeSectionCode);_0x18c897['emit_bytes']([0x84,0x80,0x80,0x80,0x0]);_0x18c897['emit_u32v'](0x1);_0x18c897['emit_u32v'](0x2);_0x18c897['emit_u32v'](0x0);_0x18c897['emit_bytes']([kExprEnd]);return _0x18c897['trunc_buffer']();}function createModuleWithFiveBytePayload(){var _0x46a68f={'dtCJL':function(_0x49fe42,_0xb4dd27,_0x30b1d6){return _0x49fe42(_0xb4dd27,_0x30b1d6);}};let _0xb40bac=new Binary();_0x46a68f['dtCJL'](addHeader,_0xb40bac,0x1);_0xb40bac['emit_u8'](kCodeSectionCode);_0xb40bac['emit_bytes']([0x88,0x80,0x80,0x80,0x0]);_0xb40bac['emit_bytes']([0x81,0x80,0x80,0x80,0x0]);_0xb40bac['emit_u32v'](0x2);_0xb40bac['emit_u32v'](0x0);_0xb40bac['emit_bytes']([kExprEnd]);return _0xb40bac['trunc_buffer']();}function compileSync(_0x5dcca2){new WebAssembly[('Module')](new Uint8Array(_0x5dcca2));}function compileAsync(_0x272e95){WebAssembly['compile'](new Uint8Array(_0x272e95));}contextGroup['addScript'](''+compileSync+compileAsync,0x0,0x0,'v8://test/compileFunctions');InspectorTest['runAsyncTestSuite']([async function test(){var _0x3d4f1f={'ZFxos':function(_0x1312ff,_0x2e2c8b){return _0x1312ff!==_0x2e2c8b;},'XSeAk':'zeeVJ','ullmY':function(_0x53a46d){return _0x53a46d();},'PEjFT':function(_0x369cff){return _0x369cff();},'hcemK':function(_0x74a28b,_0x1bda4e){return _0x74a28b<_0x1bda4e;}};Protocol['Debugger']['enable']();let _0x333b63=new Map();let _0x44ee8f=[createModuleWithNoCodeSection,createModuleWithEmptyCodeSection,createModuleWithFiveByteSectionLength,createModuleWithFiveBytePayload];for(let _0x534318 of _0x44ee8f){if(_0x3d4f1f['ZFxos']('zeeVJ',_0x3d4f1f['XSeAk'])){WebAssembly['compile'](new Uint8Array(bytes));}else{session['Protocol']['Runtime']['evaluate']({'expression':'\n          compileSync(['+_0x3d4f1f['ullmY'](_0x534318)+']);\n          compileAsync(['+_0x3d4f1f['PEjFT'](_0x534318)+']);\n        '});for(let _0x15a46f=0x0;_0x3d4f1f['hcemK'](_0x15a46f,0x2);){({params}=await Protocol['Debugger']['onceScriptParsed']());if(!params['url']['startsWith']('wasm://'))continue;if(!_0x333b63['has'](params['scriptId'])){_0x333b63['set'](params['scriptId'],_0x333b63['size']);}let _0x303f88=_0x333b63['get'](params['scriptId']);InspectorTest['log']('Wasm script parsed: ID '+_0x303f88+', startColumn: '+params['startColumn']+', endColumn: '+params['endColumn']+', codeOffset: '+params['codeOffset']);++_0x15a46f;}}}}]);