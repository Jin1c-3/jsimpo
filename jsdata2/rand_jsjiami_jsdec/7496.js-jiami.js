import _0xe4fbc8 from'@/graphql/prompt/promptAnswer.gql';export default function ({field,query,variables=null,updateQuery=null,update=null}){var _0x145c69={'IKXIR':function(_0x229d85,_0x53bd15){return _0x229d85===_0x53bd15;},'RfJza':'vijJR','lfxoT':function(_0x3ded38,_0x1d0760){return _0x3ded38!==_0x1d0760;},'nblPV':'ACWMm','DuZlq':'has-changes','vxcPY':function(_0xa9a720,_0x189365){return _0xa9a720===_0x189365;},'KeuRN':function(_0xf06c19,_0x5e8f7c){return _0xf06c19!==_0x5e8f7c;},'lzqel':'OZJpG','gGouw':'RWjUY'};return{'computed':{'configurationValid'(){return _0x145c69['IKXIR'](this['visiblePrompts']['filter'](_0x31cdc4=>_0x31cdc4['error']||_0x31cdc4['value']===null||JSON['parse'](_0x31cdc4['value'])==='')['length'],0x0);},'hasPromptsChanged'(){if(_0x145c69['IKXIR'](_0x145c69['RfJza'],_0x145c69['RfJza'])){return!!this['visiblePrompts']['find'](_0x151210=>_0x151210['valueChanged']);}else{return!!this['visiblePrompts']['find'](_0x842158=>_0x842158['valueChanged']);}},'visiblePrompts'(){if(!this[field]){if(_0x145c69['lfxoT']('qzgkl',_0x145c69['nblPV'])){return[];}else{vars=vars['call'](this);}}return this[field]['prompts']['filter'](_0x3fb888=>_0x3fb888['visible']);}},'watch':{'hasPromptsChanged':{'handler'(_0x519368){this['$emit'](_0x145c69['DuZlq'],_0x519368);},'immediate':!![]}},'methods':{async 'answerPrompt'({prompt,value}){var _0x31fc71={'FGeTB':function(_0x422daf,_0x29920c){return _0x145c69['IKXIR'](_0x422daf,_0x29920c);},'hkanS':function(_0x1ecf1e,_0x59a0d1){return _0x145c69['vxcPY'](_0x1ecf1e,_0x59a0d1);},'jPUkA':'function','JbOAU':function(_0x4983d1,_0x1fa5c5){return _0x145c69['KeuRN'](_0x4983d1,_0x1fa5c5);},'gpvbG':_0x145c69['lzqel'],'LqQAj':_0x145c69['gGouw']};await this['$apollo']['mutate']({'mutation':_0xe4fbc8,'variables':{'input':{'id':prompt['id'],'value':JSON['stringify'](value)}},'update':(_0x400368,{data:{promptAnswer}})=>{var _0x37a6ba={'OCMhx':function(_0x54d869,_0x33f511){return _0x31fc71['FGeTB'](_0x54d869,_0x33f511);}};if(_0x31fc71['FGeTB']('IwmtG','AACTG')){updateQuery['call'](this,data,promptAnswer);}else{if(update){update['call'](this,_0x400368,promptAnswer);return;}let _0x2eb284=variables||this['$apollo']['queries'][field]['options']['variables']||undefined;if(_0x31fc71['hkanS'](typeof _0x2eb284,_0x31fc71['jPUkA'])){if(_0x31fc71['JbOAU'](_0x31fc71['gpvbG'],'zTWIe')){_0x2eb284=_0x2eb284['call'](this);}else{this['$emit']('has-changes',value);}}const _0x7a1cb6=_0x400368['readQuery']({'query':query,'variables':_0x2eb284});if(updateQuery){if('LyYDy'!==_0x31fc71['LqQAj']){updateQuery['call'](this,_0x7a1cb6,promptAnswer);}else{return _0x37a6ba['OCMhx'](this['visiblePrompts']['filter'](_0x18ac60=>_0x18ac60['error']||_0x18ac60['value']===null||JSON['parse'](_0x18ac60['value'])==='')['length'],0x0);}}else{_0x7a1cb6[field]['prompts']=promptAnswer;}_0x400368['writeQuery']({'query':query,'variables':_0x2eb284,'data':_0x7a1cb6});}}});}}};}