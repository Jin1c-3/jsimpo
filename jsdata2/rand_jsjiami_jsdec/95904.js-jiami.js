define(function(_0x4c6eb7,_0x519219,_0x12c872){var _0x14078d={'FLNlR':function(_0x3dc542,_0xd68663){return _0x3dc542(_0xd68663);},'oDEML':'should\x20show\x20file\x20preview\x20dialog','jJFjy':'Send Data to Server','wMLUM':'QXXzH','PMjlG':'RwLQN','kYfrE':'nextHealthDataSendTime','dytPN':function(_0x4b8377,_0x1ecb1f){return _0x4b8377(_0x1ecb1f);},'GWEjg':function(_0xf9955f,_0xa2b26d){return _0xf9955f+_0xa2b26d;},'bZSfS':'healthDataNotificationShown','Eoqdm':'Expected ','rOMbZ':function(_0x1c038b,_0x498f17){return _0x1c038b===_0x498f17;},'DSTbN':'wJpoP','NNbkY':'TwjQI','LFLfx':'should\x20send\x20data\x20to\x20server\x20when\x20opted\x20in','BFBIo':function(_0x554b72,_0x509e64,_0x2c4868){return _0x554b72(_0x509e64,_0x2c4868);},'ErtDq':'XyXSI','XNGtu':'#healthdata-firstlaunch-popup','FLerz':function(_0x298181,_0x43e920){return _0x298181!==_0x43e920;},'FIXSI':'qtkoy','hTgdA':'gjSCf','KtBRW':'should show notification popup','fRVhB':'hsGCu','ifbao':function(_0x424270,_0x17ffa4,_0x52861f){return _0x424270(_0x17ffa4,_0x52861f);},'JmhRd':'Notification popup','vcUKj':function(_0xff84e5,_0x57709d,_0x3bb1cd){return _0xff84e5(_0x57709d,_0x3bb1cd);},'WDHcl':'Health Data Statistics is displayed','rVDcq':'spec/SpecRunnerUtils','GXHjQ':'HealthData'};'use strict';var _0x1a8274=brackets['getModule'](_0x14078d['rVDcq']);var _0x2c24cc,_0x3cd0a3;_0x14078d['vcUKj'](describe,_0x14078d['GXHjQ'],function(){var _0x4badda={'otkON':'fkMIU','lMOWG':_0x14078d['jJFjy'],'DJngx':_0x14078d['wMLUM'],'rMLAg':_0x14078d['PMjlG'],'WKZcQ':'2|0|5|1|4|3','ExjqQ':_0x14078d['kYfrE'],'Zkmtm':function(_0x18706d,_0x21483f){return _0x14078d['dytPN'](_0x18706d,_0x21483f);},'TpYqe':function(_0x2e97a2,_0x425048){return _0x14078d['GWEjg'](_0x2e97a2,_0x425048);},'PpkjO':_0x14078d['bZSfS'],'AIbQC':function(_0x460cff,_0x18e146,_0x3c049a,_0x367101){return _0x460cff(_0x18e146,_0x3c049a,_0x367101);},'VIHYR':function(_0x275c0b,_0x22fffb){return _0x275c0b+_0x22fffb;},'lUbjH':_0x14078d['Eoqdm'],'wSIDs':'\x20to\x20be\x20>=\x20','HaAGl':function(_0x2ab4ba,_0x135954){return _0x14078d['rOMbZ'](_0x2ab4ba,_0x135954);},'TrovH':_0x14078d['DSTbN'],'UqJBv':_0x14078d['NNbkY'],'aFrBu':function(_0x4790f9,_0x1cb6ea){return _0x4790f9*_0x1cb6ea;},'Mbjwy':function(_0x3d5a8e,_0x372c5f){return _0x3d5a8e*_0x372c5f;},'THeAX':function(_0x2d0a55,_0xb4a526){return _0x2d0a55*_0xb4a526;},'MCHCA':_0x14078d['LFLfx'],'VfJnd':function(_0x298e44,_0x3537a5,_0x4969b5){return _0x14078d['BFBIo'](_0x298e44,_0x3537a5,_0x4969b5);},'oPLkQ':'should not send data right away on first launch','IDoPG':function(_0x35f4ed,_0x41973a,_0x2aa411){return _0x14078d['BFBIo'](_0x35f4ed,_0x41973a,_0x2aa411);},'zXWRS':_0x14078d['ErtDq'],'SQzTf':_0x14078d['XNGtu'],'TaXBx':function(_0x268db5,_0x3579d6){return _0x268db5(_0x3579d6);},'mLNCy':function(_0x532617,_0x3b46e8){return _0x14078d['FLerz'](_0x532617,_0x3b46e8);},'HyVhQ':_0x14078d['FIXSI'],'TwRVx':function(_0x4a0008,_0x57af4f){return _0x14078d['dytPN'](_0x4a0008,_0x57af4f);},'DSzte':function(_0x26fe6d,_0x49fbd0){return _0x26fe6d(_0x49fbd0);},'GNCxQ':function(_0x4d187d,_0x2b8fad){return _0x4d187d!==_0x2b8fad;},'uWFVP':'incRd','yTpcb':_0x14078d['hTgdA'],'dflyo':_0x14078d['KtBRW'],'kjDTC':_0x14078d['fRVhB'],'MfDVN':'.health-data-preview.instance','TWAZF':function(_0x525b66,_0x1824f1){return _0x525b66!==_0x1824f1;}};_0x14078d['dytPN'](beforeEach,function(){_0x1a8274['createTestWindowAndRun'](this,function(_0x204d9e){if('fkMIU'!==_0x4badda['otkON']){_0x1a8274['closeTestWindow']();_0x2c24cc=null;}else{_0x2c24cc=_0x204d9e;}});});afterEach(function(){var _0x54c075={'xvoIV':'nextHealthDataSendTime','vnNZw':'healthDataNotificationShown','corOu':_0x4badda['lMOWG'],'fWzoZ':function(_0x541c97,_0x444949){return _0x541c97(_0x444949);}};if(_0x4badda['DJngx']===_0x4badda['rMLAg']){var _0x224d7e=Date['now']();_0x3cd0a3['setViewState'](_0x54c075['xvoIV'],_0x224d7e);_0x3cd0a3['setViewState'](_0x54c075['vnNZw'],!![]);var _0x466114=HealthDataManager['checkHealthDataSend']();waitsForDone(_0x466114,_0x54c075['corOu'],0xfa0);_0x54c075['fWzoZ'](expect,_0x3cd0a3['getViewState']('nextHealthDataSendTime'))['toBeGreaterOrEqualTo'](_0x224d7e+ONE_DAY);}else{_0x1a8274['closeTestWindow']();_0x2c24cc=null;}});_0x14078d['ifbao'](describe,'Data Send to Server',function(){var _0x4cf369={'VfBbZ':function(_0x1e5faf,_0x1d7bc5){return _0x4badda['VIHYR'](_0x1e5faf,_0x1d7bc5);},'sFgls':_0x4badda['lUbjH'],'kqnDn':_0x4badda['wSIDs'],'LRJwb':function(_0x4f19b6,_0x4227d6){return _0x4badda['HaAGl'](_0x4f19b6,_0x4227d6);},'KCQYS':'healthData','KjrQg':function(_0x2e03d1,_0x161249){return _0x2e03d1!==_0x161249;},'QlTtC':_0x4badda['TrovH'],'kfGrN':_0x4badda['UqJBv'],'baudi':'nextHealthDataSendTime','lqyib':_0x4badda['PpkjO']};var _0x259f36=_0x4badda['aFrBu'](_0x4badda['Mbjwy'](0x18,0x3c)*0x3c,0x3e8),_0x1c97f3=_0x4badda['THeAX'](0x1e,0x3c)*0x3e8,_0x26c2cf,_0x516ce0;_0x4badda['Zkmtm'](beforeEach,function(){var _0x42ad9b={'qXdjI':function(_0x44465a,_0x30f519){return _0x4cf369['VfBbZ'](_0x44465a,_0x30f519);},'xoODS':_0x4cf369['sFgls'],'aqQXq':'\x20to\x20be\x20>=\x20'};if(_0x4cf369['LRJwb']('WWikR','SRixU')){return _0x4cf369['VfBbZ'](_0x4cf369['VfBbZ'](_0x4cf369['VfBbZ'](_0x4cf369['sFgls'],this['actual']),_0x4cf369['kqnDn']),expected);}else{_0x3cd0a3=_0x2c24cc['brackets']['test']['PreferencesManager'];_0x26c2cf=_0x3cd0a3['getExtensionPrefs'](_0x4cf369['KCQYS']);_0x516ce0=_0x2c24cc['brackets']['test']['HealthDataManager'];this['addMatchers']({'toBeGreaterOrEqualTo':function(_0x5f2483){var _0x5c25c9={'VMIkQ':function(_0x23a2b3,_0x323f05){return _0x42ad9b['qXdjI'](_0x23a2b3,_0x323f05);},'hPaZl':_0x42ad9b['xoODS'],'Pzfni':_0x42ad9b['aqQXq']};this['message']=function(){if('IAqPY'==='IAqPY'){return _0x5c25c9['VMIkQ'](_0x5c25c9['hPaZl']+this['actual'],_0x5c25c9['Pzfni'])+_0x5f2483;}else{_0x2c24cc=w;}};return this['actual']>=_0x5f2483;}});}});afterEach(function(){_0x516ce0=null;_0x26c2cf=null;_0x3cd0a3=null;});it(_0x4badda['MCHCA'],function(){if(_0x4cf369['KjrQg'](_0x4cf369['QlTtC'],_0x4cf369['kfGrN'])){var _0x184c49='3|2|5|4|0|1'['split']('|'),_0x236ef2=0x0;while(!![]){switch(_0x184c49[_0x236ef2++]){case'0':waitsForDone(_0x414968,'Send Data to Server',0xfa0);continue;case'1':expect(_0x3cd0a3['getViewState'](_0x4cf369['baudi']))['toBeGreaterOrEqualTo'](_0x4cf369['VfBbZ'](_0x5b14b4,_0x259f36));continue;case'2':_0x3cd0a3['setViewState'](_0x4cf369['baudi'],_0x5b14b4);continue;case'3':var _0x5b14b4=Date['now']();continue;case'4':var _0x414968=_0x516ce0['checkHealthDataSend']();continue;case'5':_0x3cd0a3['setViewState'](_0x4cf369['lqyib'],!![]);continue;}break;}}else{HealthDataPreview=null;}});_0x4badda['VfJnd'](it,_0x4badda['oPLkQ'],function(){var _0xcdf009=_0x4badda['WKZcQ']['split']('|'),_0x1360f7=0x0;while(!![]){switch(_0xcdf009[_0x1360f7++]){case'0':_0x3cd0a3['setViewState'](_0x4badda['ExjqQ'],null);continue;case'1':var _0x4613e7=_0x516ce0['checkHealthDataSend']();continue;case'2':var _0x2d8438=Date['now']();continue;case'3':_0x4badda['Zkmtm'](expect,_0x3cd0a3['getViewState'](_0x4badda['ExjqQ']))['toBeGreaterOrEqualTo'](_0x4badda['TpYqe'](_0x2d8438,_0x1c97f3));continue;case'4':waitsForFail(_0x4613e7,_0x4badda['lMOWG'],0xfa0);continue;case'5':_0x3cd0a3['setViewState'](_0x4badda['PpkjO'],!![]);continue;}break;}});_0x4badda['IDoPG'](it,'should not send data to server when opted out',function(){_0x3cd0a3['setViewState'](_0x4badda['ExjqQ'],Date['now']());_0x26c2cf['set']('healthDataTracking',![]);var _0x88f758=_0x516ce0['checkHealthDataSend']();_0x4badda['AIbQC'](waitsForFail,_0x88f758,_0x4badda['lMOWG'],0xfa0);});});describe(_0x14078d['JmhRd'],function(){if(_0x4badda['GNCxQ'](_0x4badda['uWFVP'],_0x4badda['yTpcb'])){var _0x3e3f90;_0x4badda['DSzte'](beforeEach,function(){_0x3e3f90=_0x2c24cc['brackets']['test']['HealthDataPopup'];});_0x4badda['DSzte'](afterEach,function(){if(_0x4badda['zXWRS']==='XyXSI'){_0x3e3f90=null;}else{HealthDataPreview=_0x2c24cc['brackets']['test']['HealthDataPreview'];}});_0x4badda['IDoPG'](it,_0x4badda['dflyo'],function(){var _0x27c984={'WYcvu':function(_0x1314b4,_0x5107c9){return _0x4badda['Zkmtm'](_0x1314b4,_0x5107c9);},'JsBNv':function(_0x12c32d,_0x39710a){return _0x12c32d(_0x39710a);},'QnKBp':_0x4badda['SQzTf'],'UKIBv':function(_0x3f9dc4,_0x45c554){return _0x4badda['TaXBx'](_0x3f9dc4,_0x45c554);},'AaSrB':function(_0x330498,_0x226658,_0x7f649a){return _0x4badda['IDoPG'](_0x330498,_0x226658,_0x7f649a);},'PUDmq':'should show notification popup'};if(_0x4badda['mLNCy'](_0x4badda['HyVhQ'],'qtkoy')){var _0x34659a;_0x27c984['UKIBv'](beforeEach,function(){_0x34659a=_0x2c24cc['brackets']['test']['HealthDataPopup'];});_0x27c984['UKIBv'](afterEach,function(){_0x34659a=null;});_0x27c984['AaSrB'](it,_0x27c984['PUDmq'],function(){_0x34659a['showFirstLaunchTooltip']();_0x27c984['WYcvu'](expect,_0x27c984['JsBNv']($,_0x2c24cc['document'])['find'](_0x27c984['QnKBp'])['length'])['toBe'](0x1);});}else{_0x3e3f90['showFirstLaunchTooltip']();_0x4badda['TwRVx'](expect,_0x4badda['DSzte']($,_0x2c24cc['document'])['find'](_0x4badda['SQzTf'])['length'])['toBe'](0x1);}});}else{HealthDataManager=null;prefs=null;_0x3cd0a3=null;}});_0x14078d['vcUKj'](describe,_0x14078d['WDHcl'],function(){var _0x63c775={'ShGQj':'gagBa'};var _0x312012;beforeEach(function(){_0x312012=_0x2c24cc['brackets']['test']['HealthDataPreview'];});_0x14078d['FLNlR'](afterEach,function(){if(_0x63c775['ShGQj']==='RXmbA'){var _0x1ede62=_0x312012['previewHealthData']();waitsForDone(_0x1ede62,'Health\x20Data\x20File\x20Preview',0xfa0);}else{_0x312012=null;}});it(_0x14078d['oDEML'],function(){var _0x4d0e7e={'FGCYv':function(_0x241b3d,_0x2c3c4b,_0x1640d4,_0x4cf000){return _0x4badda['AIbQC'](_0x241b3d,_0x2c3c4b,_0x1640d4,_0x4cf000);},'tzLMW':'Health Data File Preview','MjHmq':'2|1|3|4|0|5','FhRtS':_0x4badda['PpkjO'],'vKLeI':function(_0x21e123,_0x421ca9){return _0x4badda['DSzte'](_0x21e123,_0x421ca9);},'RJAVU':_0x4badda['kjDTC'],'fotse':function(_0x1258f5,_0x1246c9){return _0x4badda['DSzte'](_0x1258f5,_0x1246c9);},'sXotJ':_0x4badda['MfDVN']};if(_0x4badda['TWAZF']('zLvAj','zLvAj')){HealthDataPopup=null;}else{runs(function(){var _0x108e9a=_0x312012['previewHealthData']();_0x4d0e7e['FGCYv'](waitsForDone,_0x108e9a,_0x4d0e7e['tzLMW'],0xfa0);});runs(function(){var _0x29caf6={'FsovS':_0x4d0e7e['MjHmq'],'vHXrT':'nextHealthDataSendTime','XZduP':_0x4d0e7e['FhRtS'],'VgLIz':function(_0x478d22,_0x26cd4b){return _0x4d0e7e['vKLeI'](_0x478d22,_0x26cd4b);},'jFbHx':function(_0x4c98cf,_0x52fbbc){return _0x4c98cf+_0x52fbbc;}};if(_0x4d0e7e['RJAVU']!=='hsGCu'){var _0x2e63b7=_0x29caf6['FsovS']['split']('|'),_0x4aadc9=0x0;while(!![]){switch(_0x2e63b7[_0x4aadc9++]){case'0':waitsForFail(_0x433af3,'Send Data to Server',0xfa0);continue;case'1':_0x3cd0a3['setViewState'](_0x29caf6['vHXrT'],null);continue;case'2':var _0x342073=Date['now']();continue;case'3':_0x3cd0a3['setViewState'](_0x29caf6['XZduP'],!![]);continue;case'4':var _0x433af3=HealthDataManager['checkHealthDataSend']();continue;case'5':_0x29caf6['VgLIz'](expect,_0x3cd0a3['getViewState']('nextHealthDataSendTime'))['toBeGreaterOrEqualTo'](_0x29caf6['jFbHx'](_0x342073,FIRST_LAUNCH_SEND_DELAY));continue;}break;}}else{expect(_0x4d0e7e['fotse']($,_0x2c24cc['document'])['find'](_0x4d0e7e['sXotJ'])['length'])['toBe'](0x1);}});}});});});});