/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var AddToDOM=require('../../dom/AddToDOM');var CanvasPool=require('../../display/canvas/CanvasPool');var Class=require('../../utils/Class');var Components=require('../components');var GameEvents=require('../../core/events');var GameObject=require('../GameObject');var GetTextSize=require('./GetTextSize');var GetValue=require('../../utils/object/GetValue');var RemoveFromDOM=require('../../dom/RemoveFromDOM');var TextRender=require('./TextRender');var TextStyle=require('./TextStyle');var Text=new Class({'Extends':GameObject,'Mixins':[Components['Alpha'],Components['BlendMode'],Components['ComputedSize'],Components['Crop'],Components['Depth'],Components['Flip'],Components['GetBounds'],Components['Mask'],Components['Origin'],Components['Pipeline'],Components['ScrollFactor'],Components['Tint'],Components['Transform'],Components['Visible'],TextRender],'initialize':function Text(_0x17b13b,_0x437289,_0x2ce192,_0x350e7c,_0x269da5){var _0x518881={'OIxeC':function(_0x437289,_0x2ce192){return _0x437289===_0x2ce192;},'YcLnI':function(_0x437289,_0x2ce192){return _0x437289===_0x2ce192;},'noQxu':function(_0x437289,_0x2ce192){return _0x437289!==_0x2ce192;},'nWTzh':'Text'};if(_0x518881['OIxeC'](_0x437289,undefined)){_0x437289=0x0;}if(_0x518881['YcLnI'](_0x2ce192,undefined)){if(_0x518881['noQxu']('kiokP','szDOn')){_0x2ce192=0x0;}else{this['_text']=value['toString']();this['updateText']();}}GameObject['call'](this,_0x17b13b,_0x518881['nWTzh']);this['renderer']=_0x17b13b['sys']['renderer'];this['setPosition'](_0x437289,_0x2ce192);this['setOrigin'](0x0,0x0);this['initPipeline']();this['canvas']=CanvasPool['create'](this);this['context']=this['canvas']['getContext']('2d');this['style']=new TextStyle(this,_0x269da5);this['autoRound']=!![];this['splitRegExp']=/(?:\r\n|\r|\n)/;this['_text']=undefined;this['padding']={'left':0x0,'right':0x0,'top':0x0,'bottom':0x0};this['width']=0x1;this['height']=0x1;this['lineSpacing']=0x0;this['dirty']=![];if(_0x518881['YcLnI'](this['style']['resolution'],0x0)){this['style']['resolution']=0x1;}this['_crop']=this['resetCropObject']();this['texture']=_0x17b13b['sys']['textures']['addCanvas'](null,this['canvas'],!![]);this['frame']=this['texture']['get']();this['frame']['source']['resolution']=this['style']['resolution'];if(this['renderer']&&this['renderer']['gl']){this['renderer']['deleteTexture'](this['frame']['source']['glTexture']);this['frame']['source']['glTexture']=null;}this['initRTL']();this['setText'](_0x350e7c);if(_0x269da5&&_0x269da5['padding']){this['setPadding'](_0x269da5['padding']);}if(_0x269da5&&_0x269da5['lineSpacing']){this['setLineSpacing'](_0x269da5['lineSpacing']);}_0x17b13b['sys']['game']['events']['on'](GameEvents['CONTEXT_RESTORED'],function(){this['dirty']=!![];},this);},'initRTL':function(){var _0x1b1b10={'JXcBr':function(_0x34efd9,_0x18447b){return _0x34efd9===_0x18447b;},'WaLej':'uyGaA','VyePu':'jrelY','mvGHI':'rtl','mgtgh':'none','nnPVO':function(_0x14ab26,_0x3f37ef,_0x280db7){return _0x14ab26(_0x3f37ef,_0x280db7);}};if(!this['style']['rtl']){if(_0x1b1b10['JXcBr'](_0x1b1b10['WaLej'],_0x1b1b10['VyePu'])){this['style']['resolution']=0x1;}else{return;}}this['canvas']['dir']=_0x1b1b10['mvGHI'];this['context']['direction']=_0x1b1b10['mvGHI'];this['canvas']['style']['display']=_0x1b1b10['mgtgh'];_0x1b1b10['nnPVO'](AddToDOM,this['canvas'],this['scene']['sys']['canvas']);this['originX']=0x1;},'runWordWrap':function(_0x5e3868){var _0x13fe80={'MmTbA':function(_0x11687b,_0x2bc178){return _0x11687b===_0x2bc178;},'BWYmF':'iEnuL','lVYOH':'sPEsK'};var _0x43548d=this['style'];if(_0x43548d['wordWrapCallback']){var _0xed82c9=_0x43548d['wordWrapCallback']['call'](_0x43548d['wordWrapCallbackScope'],_0x5e3868,this);if(Array['isArray'](_0xed82c9)){_0xed82c9=_0xed82c9['join']('\x0a');}return _0xed82c9;}else if(_0x43548d['wordWrapWidth']){if(_0x43548d['wordWrapUseAdvanced']){if(_0x13fe80['MmTbA'](_0x13fe80['BWYmF'],'iEnuL')){return this['advancedWordWrap'](_0x5e3868,this['context'],this['style']['wordWrapWidth']);}else{left=0x0;}}else{if(_0x13fe80['MmTbA']('KYpZe',_0x13fe80['lVYOH'])){value=value['join']('\x0a');}else{return this['basicWordWrap'](_0x5e3868,this['context'],this['style']['wordWrapWidth']);}}}else{return _0x5e3868;}},'advancedWordWrap':function(_0x30eb7d,_0x42f706,_0x305623){var _0x2d5a83={'yebXy':function(_0x2f50a8,_0x578285){return _0x2f50a8>_0x578285;},'bzyTK':function(_0x3d479a,_0x50deaa){return _0x3d479a<_0x50deaa;},'HQHmI':function(_0x3b140b,_0x1d41e8){return _0x3b140b!==_0x1d41e8;},'cYdzn':'IZMcU','IxFsh':function(_0x3afd70,_0xe97f2c){return _0x3afd70+_0xe97f2c;},'HvLRG':function(_0x2a56e9,_0x23d2ea){return _0x2a56e9<_0x23d2ea;},'JgIWL':function(_0x29afa6,_0x30068b){return _0x29afa6===_0x30068b;},'DXOrq':'WSRMt','JGvUw':function(_0x571682,_0x2d5fa1){return _0x571682<=_0x2d5fa1;},'Opyat':'This text\'s wordWrapWidth setting is less than a single character!','zqFEJ':function(_0x381989,_0x550fe2){return _0x381989+_0x550fe2;},'DNKUC':function(_0x33f208,_0x47eb44){return _0x33f208+_0x47eb44;}};var _0x5a21c0='';var _0x2621f3=_0x30eb7d['replace'](/ +/gi,'\x20')['split'](this['splitRegExp']);var _0x579a1b=_0x2621f3['length'];for(var _0x16deea=0x0;_0x2d5a83['bzyTK'](_0x16deea,_0x579a1b);_0x16deea++){var _0x1d27dc=_0x2621f3[_0x16deea];var _0x9fc861='';_0x1d27dc=_0x1d27dc['replace'](/^ *|\s*$/gi,'');var _0x13fd49=_0x42f706['measureText'](_0x1d27dc)['width'];if(_0x13fd49<_0x305623){if(_0x2d5a83['HQHmI']('PNvrF',_0x2d5a83['cYdzn'])){_0x5a21c0+=_0x2d5a83['IxFsh'](_0x1d27dc,'\x0a');continue;}else{top=left;}}var _0x28f7f6=_0x305623;var _0x226944=_0x1d27dc['split']('\x20');for(var _0x1be0ef=0x0;_0x2d5a83['HvLRG'](_0x1be0ef,_0x226944['length']);_0x1be0ef++){if(_0x2d5a83['JgIWL'](_0x2d5a83['DXOrq'],'WSRMt')){var _0x356d9a=_0x226944[_0x1be0ef];var _0x1eaf35=_0x356d9a+'\x20';var _0x5d40ab=_0x42f706['measureText'](_0x1eaf35)['width'];if(_0x5d40ab>_0x28f7f6){if(_0x2d5a83['JgIWL'](_0x1be0ef,0x0)){if(_0x2d5a83['JgIWL']('nfZDK','nfZDK')){var _0x48c860=_0x1eaf35;while(_0x48c860['length']){_0x48c860=_0x48c860['slice'](0x0,-0x1);_0x5d40ab=_0x42f706['measureText'](_0x48c860)['width'];if(_0x2d5a83['JGvUw'](_0x5d40ab,_0x28f7f6)){break;}}if(!_0x48c860['length']){throw new Error(_0x2d5a83['Opyat']);}var _0x5a5d4e=_0x356d9a['substr'](_0x48c860['length']);_0x226944[_0x1be0ef]=_0x5a5d4e;_0x9fc861+=_0x48c860;}else{if(_0x2d5a83['yebXy'](_0x1be0ef,0x0)){result+='\x0a';spaceLeft=_0x305623;}}}var _0x4ac921=_0x226944[_0x1be0ef]['length']?_0x1be0ef:_0x2d5a83['IxFsh'](_0x1be0ef,0x1);var _0x25fb29=_0x226944['slice'](_0x4ac921)['join']('\x20')['replace'](/[ \n]*$/gi,'');_0x2621f3[_0x2d5a83['zqFEJ'](_0x16deea,0x1)]=_0x2d5a83['DNKUC'](_0x2d5a83['DNKUC'](_0x25fb29,'\x20'),_0x2621f3[_0x16deea+0x1]||'');_0x579a1b=_0x2621f3['length'];break;}else{_0x9fc861+=_0x1eaf35;_0x28f7f6-=_0x5d40ab;}}else{_0x42f706['fillStyle']=style['backgroundColor'];_0x42f706['fillRect'](0x0,0x0,w,h);}}_0x5a21c0+=_0x2d5a83['DNKUC'](_0x9fc861['replace'](/[ \n]*$/gi,''),'\x0a');}_0x5a21c0=_0x5a21c0['replace'](/[\s|\n]*$/gi,'');return _0x5a21c0;},'basicWordWrap':function(_0x19da60,_0x40a56c,_0x394c01){var _0x5b0c03={'XJcQS':function(_0x25e29e,_0x8a9876){return _0x25e29e<=_0x8a9876;},'ZEaYu':function(_0x422fe2,_0x4f44d4){return _0x422fe2===_0x4f44d4;},'sPRxO':'hgDNy','uNhGe':function(_0x23b9c7,_0x59bc33){return _0x23b9c7<_0x59bc33;},'pwYzn':function(_0x1b4b57,_0x37cc70){return _0x1b4b57>_0x37cc70;},'koLjc':function(_0x22fd5d,_0x39e68b){return _0x22fd5d<_0x39e68b;},'DLyeh':'ZEqTO','QbmJF':'jKYdM'};var _0x4da1c6='';var _0x1309e0=_0x19da60['split'](this['splitRegExp']);var _0xae907=_0x1309e0['length']-0x1;var _0x4d0ce9=_0x40a56c['measureText']('\x20')['width'];for(var _0x571d57=0x0;_0x5b0c03['XJcQS'](_0x571d57,_0xae907);_0x571d57++){var _0x5040e9=_0x394c01;var _0x81384d=_0x1309e0[_0x571d57]['split']('\x20');var _0x30a40c=_0x81384d['length']-0x1;for(var _0x265b8d=0x0;_0x5b0c03['XJcQS'](_0x265b8d,_0x30a40c);_0x265b8d++){if(_0x5b0c03['ZEaYu'](_0x5b0c03['sPRxO'],'iksLm')){this['renderer']['deleteTexture'](this['frame']['source']['glTexture']);this['frame']['source']['glTexture']=null;}else{var _0x127cbc=_0x81384d[_0x265b8d];var _0x591550=_0x40a56c['measureText'](_0x127cbc)['width'];var _0x540ec3=_0x591550;if(_0x5b0c03['uNhGe'](_0x265b8d,_0x30a40c)){_0x540ec3+=_0x4d0ce9;}if(_0x540ec3>_0x5040e9){if(_0x5b0c03['pwYzn'](_0x265b8d,0x0)){_0x4da1c6+='\x0a';_0x5040e9=_0x394c01;}}_0x4da1c6+=_0x127cbc;if(_0x5b0c03['koLjc'](_0x265b8d,_0x30a40c)){if(_0x5b0c03['ZEaYu'](_0x5b0c03['DLyeh'],_0x5b0c03['QbmJF'])){RemoveFromDOM(this['canvas']);}else{_0x4da1c6+='\x20';_0x5040e9-=_0x540ec3;}}else{_0x5040e9-=_0x591550;}}}if(_0x5b0c03['koLjc'](_0x571d57,_0xae907)){_0x4da1c6+='\x0a';}}return _0x4da1c6;},'getWrappedText':function(_0x128cab){var _0x48f00c={'UwBhZ':function(_0x87eece,_0x1cee01){return _0x87eece===_0x1cee01;}};if(_0x48f00c['UwBhZ'](_0x128cab,undefined)){_0x128cab=this['_text'];}this['style']['syncFont'](this['canvas'],this['context']);var _0x89f2be=this['runWordWrap'](_0x128cab);return _0x89f2be['split'](this['splitRegExp']);},'setText':function(_0x1a30d2){var _0x494ea0={'GhyHu':function(_0x14212f,_0x1c1560){return _0x14212f!==_0x1c1560;}};if(!_0x1a30d2&&_0x1a30d2!==0x0){_0x1a30d2='';}if(Array['isArray'](_0x1a30d2)){_0x1a30d2=_0x1a30d2['join']('\x0a');}if(_0x494ea0['GhyHu'](_0x1a30d2,this['_text'])){this['_text']=_0x1a30d2['toString']();this['updateText']();}return this;},'setStyle':function(_0x2bee8c){return this['style']['setStyle'](_0x2bee8c);},'setFont':function(_0x419933){return this['style']['setFont'](_0x419933);},'setFontFamily':function(_0x436483){return this['style']['setFontFamily'](_0x436483);},'setFontSize':function(_0x2ae020){return this['style']['setFontSize'](_0x2ae020);},'setFontStyle':function(_0x28f34c){return this['style']['setFontStyle'](_0x28f34c);},'setFixedSize':function(_0x4759ba,_0x46147c){return this['style']['setFixedSize'](_0x4759ba,_0x46147c);},'setBackgroundColor':function(_0x122e25){return this['style']['setBackgroundColor'](_0x122e25);},'setFill':function(_0x54b6ac){return this['style']['setFill'](_0x54b6ac);},'setColor':function(_0x5ec996){return this['style']['setColor'](_0x5ec996);},'setStroke':function(_0x4aac97,_0x22fe43){return this['style']['setStroke'](_0x4aac97,_0x22fe43);},'setShadow':function(_0x5b2e80,_0x8bf30c,_0x481da6,_0x13ba7a,_0x5e0680,_0x2dc855){return this['style']['setShadow'](_0x5b2e80,_0x8bf30c,_0x481da6,_0x13ba7a,_0x5e0680,_0x2dc855);},'setShadowOffset':function(_0x44f6ec,_0x4789a3){return this['style']['setShadowOffset'](_0x44f6ec,_0x4789a3);},'setShadowColor':function(_0x12ee13){return this['style']['setShadowColor'](_0x12ee13);},'setShadowBlur':function(_0x20edb1){return this['style']['setShadowBlur'](_0x20edb1);},'setShadowStroke':function(_0x3e5129){return this['style']['setShadowStroke'](_0x3e5129);},'setShadowFill':function(_0x34da91){return this['style']['setShadowFill'](_0x34da91);},'setWordWrapWidth':function(_0x32d855,_0x456f17){return this['style']['setWordWrapWidth'](_0x32d855,_0x456f17);},'setWordWrapCallback':function(_0x295ecd,_0x2421f0){return this['style']['setWordWrapCallback'](_0x295ecd,_0x2421f0);},'setAlign':function(_0x47304f){return this['style']['setAlign'](_0x47304f);},'setResolution':function(_0x28e89b){return this['style']['setResolution'](_0x28e89b);},'setLineSpacing':function(_0x55a364){this['lineSpacing']=_0x55a364;return this['updateText']();},'setPadding':function(_0x17159d,_0x318dbb,_0x5c9f6a,_0x383621){var _0x17fca3={'IbdPA':'This text\'s wordWrapWidth setting is less than a single character!','WQnhB':function(_0x97380a,_0x1fb178){return _0x97380a===_0x1fb178;},'PxrVq':'object','cQUYV':function(_0x187ab5,_0x32ed70,_0x1e8da9,_0x4341bf){return _0x187ab5(_0x32ed70,_0x1e8da9,_0x4341bf);},'GLIXa':function(_0x353d2a,_0x13b3a1){return _0x353d2a===_0x13b3a1;},'HjUvS':'KxeNy','oNeMo':'XWKlm','qmmNx':'left','EdKvw':function(_0x53f1ed,_0x380d02,_0x5e686f,_0x164f85){return _0x53f1ed(_0x380d02,_0x5e686f,_0x164f85);},'HoFsi':'right','zkjJA':function(_0x4b9646,_0x50c6be){return _0x4b9646!==_0x50c6be;},'asgCS':function(_0x36b988,_0x4d78b7){return _0x36b988===_0x4d78b7;},'XJTJL':'top','eLDqF':'bottom','HXvCl':function(_0xc965c1,_0x24d02d){return _0xc965c1!==_0x24d02d;},'nQIKf':'Ufbyz','LWqrA':function(_0x5ed9f4,_0x14664c){return _0x5ed9f4===_0x14664c;},'DdATr':'IUbaK'};if(_0x17fca3['WQnhB'](typeof _0x17159d,_0x17fca3['PxrVq'])){var _0x425828=_0x17159d;var _0x23103b=_0x17fca3['cQUYV'](GetValue,_0x425828,'x',null);if(_0x23103b!==null){if(_0x17fca3['GLIXa'](_0x17fca3['HjUvS'],_0x17fca3['oNeMo'])){return this['style']['setFontStyle'](style);}else{_0x17159d=_0x23103b;_0x5c9f6a=_0x23103b;}}else{_0x17159d=_0x17fca3['cQUYV'](GetValue,_0x425828,_0x17fca3['qmmNx'],0x0);_0x5c9f6a=_0x17fca3['EdKvw'](GetValue,_0x425828,_0x17fca3['HoFsi'],_0x17159d);}var _0x2fa587=GetValue(_0x425828,'y',null);if(_0x17fca3['zkjJA'](_0x2fa587,null)){if(_0x17fca3['asgCS']('gPxhB','nxRus')){throw new Error(_0x17fca3['IbdPA']);}else{_0x318dbb=_0x2fa587;_0x383621=_0x2fa587;}}else{_0x318dbb=_0x17fca3['EdKvw'](GetValue,_0x425828,_0x17fca3['XJTJL'],0x0);_0x383621=_0x17fca3['EdKvw'](GetValue,_0x425828,_0x17fca3['eLDqF'],_0x318dbb);}}else{if(_0x17159d===undefined){if(_0x17fca3['HXvCl'](_0x17fca3['nQIKf'],'rcqqa')){_0x17159d=0x0;}else{this['setLineSpacing'](style['lineSpacing']);}}if(_0x17fca3['asgCS'](_0x318dbb,undefined)){_0x318dbb=_0x17159d;}if(_0x17fca3['LWqrA'](_0x5c9f6a,undefined)){_0x5c9f6a=_0x17159d;}if(_0x383621===undefined){if(_0x17fca3['LWqrA'](_0x17fca3['DdATr'],_0x17fca3['DdATr'])){_0x383621=_0x318dbb;}else{textWidth=textSize['width'];}}}this['padding']['left']=_0x17159d;this['padding']['top']=_0x318dbb;this['padding']['right']=_0x5c9f6a;this['padding']['bottom']=_0x383621;return this['updateText']();},'setMaxLines':function(_0x17b142){return this['style']['setMaxLines'](_0x17b142);},'updateText':function(){var _0x2a87f5={'lPZnO':function(_0x5b39af,_0x15d029){return _0x5b39af%_0x15d029;},'QIyiv':function(_0x1749f8,_0x4d7fdb){return _0x1749f8-_0x4d7fdb;},'EJXFZ':function(_0x32e0c0,_0x1c6321,_0x19b8e0,_0x4762d5){return _0x32e0c0(_0x1c6321,_0x19b8e0,_0x4762d5);},'IHEPR':function(_0x30de46,_0x5be4e){return _0x30de46+_0x5be4e;},'lNTrw':function(_0x44287e,_0x3bc40c){return _0x44287e<_0x3bc40c;},'kvBqW':function(_0x2e1e0a,_0x173c2a){return _0x2e1e0a===_0x173c2a;},'iUMaJ':'QgEVx','dYDpP':function(_0x5b25d5,_0x39b604){return _0x5b25d5===_0x39b604;},'YSwpw':function(_0x1bb1d6,_0x2f6a3e){return _0x1bb1d6+_0x2f6a3e;},'BUIut':function(_0x296db7,_0x586027){return _0x296db7!==_0x586027;},'MoUqD':function(_0x34d7eb,_0x468413){return _0x34d7eb!==_0x468413;},'CFcek':'Ewgkh','eLnyp':'tncqn','UtxES':'alphabetic','XYMBK':'Lqxcf','MmEyN':'Leqgs','sQQvi':function(_0x4b04fa,_0x2f3c6c){return _0x4b04fa-_0x2f3c6c;},'YCfCr':function(_0x1cf4fe,_0x5410f6){return _0x1cf4fe===_0x5410f6;},'VQOHV':function(_0x1da855,_0x2d06bd){return _0x1da855-_0x2d06bd;},'vxvwA':function(_0x1d025a,_0x36d8a0){return _0x1d025a>=_0x36d8a0;},'ZvPGw':function(_0x14063c,_0x14fb5a){return _0x14063c/_0x14fb5a;},'HTnEs':function(_0x167a6d,_0x36d154){return _0x167a6d>_0x36d154;},'bzRiG':function(_0x448a2a,_0x1f6c5e){return _0x448a2a*_0x1f6c5e;}};var _0x112f90=this['canvas'];var _0x3720d7=this['context'];var _0x316bb9=this['style'];var _0x1390b4=_0x316bb9['resolution'];var _0x715b63=_0x316bb9['metrics'];_0x316bb9['syncFont'](_0x112f90,_0x3720d7);var _0x6b1d63=this['_text'];if(_0x316bb9['wordWrapWidth']||_0x316bb9['wordWrapCallback']){_0x6b1d63=this['runWordWrap'](this['_text']);}var _0x4925ce=_0x6b1d63['split'](this['splitRegExp']);var _0x33f236=_0x2a87f5['EJXFZ'](GetTextSize,this,_0x715b63,_0x4925ce);var _0xed94b2=this['padding'];var _0x267d6a;if(_0x316bb9['fixedWidth']===0x0){this['width']=_0x2a87f5['IHEPR'](_0x33f236['width']+_0xed94b2['left'],_0xed94b2['right']);_0x267d6a=_0x33f236['width'];}else{this['width']=_0x316bb9['fixedWidth'];_0x267d6a=_0x2a87f5['QIyiv'](this['width']-_0xed94b2['left'],_0xed94b2['right']);if(_0x2a87f5['lNTrw'](_0x267d6a,_0x33f236['width'])){if(_0x2a87f5['kvBqW']('JhmvX',_0x2a87f5['iUMaJ'])){bottom=top;}else{_0x267d6a=_0x33f236['width'];}}}if(_0x2a87f5['dYDpP'](_0x316bb9['fixedHeight'],0x0)){this['height']=_0x2a87f5['YSwpw'](_0x2a87f5['YSwpw'](_0x33f236['height'],_0xed94b2['top']),_0xed94b2['bottom']);}else{this['height']=_0x316bb9['fixedHeight'];}var _0x1e1aed=this['width'];var _0x527d1f=this['height'];this['updateDisplayOrigin']();_0x1e1aed*=_0x1390b4;_0x527d1f*=_0x1390b4;_0x1e1aed=Math['max'](_0x1e1aed,0x1);_0x527d1f=Math['max'](_0x527d1f,0x1);if(_0x2a87f5['BUIut'](_0x112f90['width'],_0x1e1aed)||_0x2a87f5['BUIut'](_0x112f90['height'],_0x527d1f)){if(_0x2a87f5['MoUqD'](_0x2a87f5['CFcek'],'kntGj')){_0x112f90['width']=_0x1e1aed;_0x112f90['height']=_0x527d1f;this['frame']['setSize'](_0x1e1aed,_0x527d1f);_0x316bb9['syncFont'](_0x112f90,_0x3720d7);}else{return this['style']['setWordWrapWidth'](width,useAdvancedWrap);}}else{if(_0x2a87f5['dYDpP']('tncqn',_0x2a87f5['eLnyp'])){_0x3720d7['clearRect'](0x0,0x0,_0x1e1aed,_0x527d1f);}else{return this['style']['setStroke'](color,thickness);}}_0x3720d7['save']();_0x3720d7['scale'](_0x1390b4,_0x1390b4);if(_0x316bb9['backgroundColor']){_0x3720d7['fillStyle']=_0x316bb9['backgroundColor'];_0x3720d7['fillRect'](0x0,0x0,_0x1e1aed,_0x527d1f);}_0x316bb9['syncStyle'](_0x112f90,_0x3720d7);_0x3720d7['textBaseline']=_0x2a87f5['UtxES'];_0x3720d7['translate'](_0xed94b2['left'],_0xed94b2['top']);var _0x13a37b;var _0x49883b;for(var _0x5271e2=0x0;_0x2a87f5['lNTrw'](_0x5271e2,_0x33f236['lines']);_0x5271e2++){if(_0x2a87f5['XYMBK']!==_0x2a87f5['MmEyN']){var _0x572d69='0|5|2|4|6|3|1'['split']('|'),_0x14ddf8=0x0;while(!![]){switch(_0x572d69[_0x14ddf8++]){case'0':_0x13a37b=_0x316bb9['strokeThickness']/0x2;continue;case'1':if(_0x316bb9['color']){this['style']['syncShadow'](_0x3720d7,_0x316bb9['shadowFill']);_0x3720d7['fillText'](_0x4925ce[_0x5271e2],_0x13a37b,_0x49883b);}continue;case'2':if(_0x5271e2>0x0){_0x49883b+=_0x33f236['lineSpacing']*_0x5271e2;}continue;case'3':if(_0x316bb9['strokeThickness']){this['style']['syncShadow'](_0x3720d7,_0x316bb9['shadowStroke']);_0x3720d7['strokeText'](_0x4925ce[_0x5271e2],_0x13a37b,_0x49883b);}continue;case'4':if(_0x316bb9['rtl']){_0x13a37b=_0x2a87f5['sQQvi'](_0x1e1aed,_0x13a37b);}else if(_0x316bb9['align']==='right'){_0x13a37b+=_0x267d6a-_0x33f236['lineWidths'][_0x5271e2];}else if(_0x2a87f5['YCfCr'](_0x316bb9['align'],'center')){_0x13a37b+=_0x2a87f5['VQOHV'](_0x267d6a,_0x33f236['lineWidths'][_0x5271e2])/0x2;}else if(_0x316bb9['align']==='justify'){var _0x105414=0.85;if(_0x2a87f5['vxvwA'](_0x2a87f5['ZvPGw'](_0x33f236['lineWidths'][_0x5271e2],_0x33f236['width']),_0x105414)){var _0x1b082a=_0x2a87f5['VQOHV'](_0x33f236['width'],_0x33f236['lineWidths'][_0x5271e2]);var _0x63b705=_0x3720d7['measureText']('\x20')['width'];var _0x59bc5b=_0x4925ce[_0x5271e2]['trim']();var _0x3b377d=_0x59bc5b['split']('\x20');_0x1b082a+=_0x2a87f5['VQOHV'](_0x4925ce[_0x5271e2]['length'],_0x59bc5b['length'])*_0x63b705;var _0x333ca0=Math['floor'](_0x1b082a/_0x63b705);var _0x5cbde8=0x0;while(_0x2a87f5['HTnEs'](_0x333ca0,0x0)){_0x3b377d[_0x5cbde8]+='\x20';_0x5cbde8=_0x2a87f5['YSwpw'](_0x5cbde8,0x1)%(_0x3b377d['length']-0x1||0x1);--_0x333ca0;}_0x4925ce[_0x5271e2]=_0x3b377d['join']('\x20');}}continue;case'5':_0x49883b=_0x2a87f5['YSwpw'](_0x2a87f5['ZvPGw'](_0x316bb9['strokeThickness'],0x2)+_0x2a87f5['bzRiG'](_0x5271e2,_0x33f236['lineHeight']),_0x715b63['ascent']);continue;case'6':if(this['autoRound']){_0x13a37b=Math['round'](_0x13a37b);_0x49883b=Math['round'](_0x49883b);}continue;}break;}}else{_0x3b377d[_0x5cbde8]+='\x20';_0x5cbde8=_0x2a87f5['lPZnO'](_0x5cbde8+0x1,_0x2a87f5['QIyiv'](_0x3b377d['length'],0x1)||0x1);--_0x333ca0;}}_0x3720d7['restore']();if(this['renderer']&&this['renderer']['gl']){this['frame']['source']['glTexture']=this['renderer']['canvasToTexture'](_0x112f90,this['frame']['source']['glTexture'],!![]);this['frame']['glTexture']=this['frame']['source']['glTexture'];}this['dirty']=!![];var _0x19d9cc=this['input'];if(_0x19d9cc&&!_0x19d9cc['customHitArea']){_0x19d9cc['hitArea']['width']=this['width'];_0x19d9cc['hitArea']['height']=this['height'];}return this;},'getTextMetrics':function(){return this['style']['getTextMetrics']();},'text':{'get':function(){return this['_text'];},'set':function(_0x1573d1){this['setText'](_0x1573d1);}},'toJSON':function(){var _0x2e62e0=Components['ToJSON'](this);var _0x5042a4={'autoRound':this['autoRound'],'text':this['_text'],'style':this['style']['toJSON'](),'padding':{'left':this['padding']['left'],'right':this['padding']['right'],'top':this['padding']['top'],'bottom':this['padding']['bottom']}};_0x2e62e0['data']=_0x5042a4;return _0x2e62e0;},'preDestroy':function(){var _0x2c108e={'bXAGT':function(_0xa1cd6a,_0x5a5e5a){return _0xa1cd6a+_0x5a5e5a;},'VBaUb':function(_0xbd624e,_0x3913d1){return _0xbd624e+_0x3913d1;},'zUDRy':function(_0x35a4cf,_0x4cd9ed){return _0x35a4cf===_0x4cd9ed;}};if(this['style']['rtl']){if(_0x2c108e['zUDRy']('dgHiy','YNqJq')){this['width']=_0x2c108e['bXAGT'](_0x2c108e['VBaUb'](textSize['width'],padding['left']),padding['right']);textWidth=textSize['width'];}else{RemoveFromDOM(this['canvas']);}}CanvasPool['remove'](this['canvas']);this['texture']['destroy']();}});module['exports']=Text;