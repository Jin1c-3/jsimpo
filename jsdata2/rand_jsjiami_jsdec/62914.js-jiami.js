load('test/mjsunit/wasm/wasm-module-builder.js');function assertMemoryIsValid(_0x1ab438,_0x30260d){var _0x4286fb={'jGHTo':'4|2|1|3|0','milUD':function(_0x2ee0cc,_0x183402){return _0x2ee0cc(_0x183402);},'rUXse':function(_0x1637d4,_0x1a18b3){return _0x1637d4 instanceof _0x1a18b3;},'rQZTh':function(_0x24584c,_0x1f53bc){return _0x24584c(_0x1f53bc);},'XlKDF':function(_0x4f0322,_0x56895f,_0x2fcf84){return _0x4f0322(_0x56895f,_0x2fcf84);}};var _0x10a230=_0x4286fb['jGHTo']['split']('|'),_0x42be86=0x0;while(!![]){switch(_0x10a230[_0x42be86++]){case'0':if(_0x30260d){_0x4286fb['milUD'](assertTrue,_0x4286fb['rUXse'](_0x1ab438['buffer'],SharedArrayBuffer));_0x4286fb['rQZTh'](assertTrue,Object['isFrozen'](_0x1ab438['buffer']));}continue;case'1':assertTrue(_0x4286fb['rUXse'](_0x1ab438,Object));continue;case'2':_0x4286fb['XlKDF'](assertSame,WebAssembly['Memory'],_0x1ab438['constructor']);continue;case'3':_0x4286fb['rQZTh'](assertTrue,_0x1ab438 instanceof WebAssembly['Memory']);continue;case'4':assertSame(WebAssembly['Memory']['prototype'],_0x1ab438['__proto__']);continue;}break;}}(function TestConstructorWithShared(){var _0x48fcc8={'sIGlY':function(_0x47bd7f,_0x100c4b){return _0x47bd7f(_0x100c4b);},'dkErL':'TestConstructorWithShared','TdlKx':function(_0x18bb5d,_0x565a72,_0x53012){return _0x18bb5d(_0x565a72,_0x53012);}};_0x48fcc8['sIGlY'](print,_0x48fcc8['dkErL']);let _0x4def31=new WebAssembly[('Memory')]({'initial':0x0,'maximum':0xa,'shared':!![]});_0x48fcc8['TdlKx'](assertMemoryIsValid,_0x4def31,!![]);}());(function TestConstructorWithUndefinedShared(){var _0x1b8190={'KRvPP':'TestConstructorWithUndefinedShared','cBkCS':function(_0x6e9f08,_0x21f330){return _0x6e9f08(_0x21f330);}};print(_0x1b8190['KRvPP']);let _0x559e2e=new WebAssembly[('Memory')]({'initial':0x0,'maximum':undefined,'shared':undefined});_0x1b8190['cBkCS'](assertMemoryIsValid,_0x559e2e);}());(function TestConstructorWithNumericShared(){var _0x238b68={'TRFaD':function(_0x3490f5,_0x35462b){return _0x3490f5(_0x35462b);},'BQxZj':'TestConstructorWithNumericShared'};_0x238b68['TRFaD'](print,_0x238b68['BQxZj']);let _0xc8965=new WebAssembly[('Memory')]({'initial':0x0,'maximum':0xa,'shared':0x2005e9});assertMemoryIsValid(_0xc8965,!![]);}());(function TestConstructorWithEmptyStringShared(){var _0x2cdf01={'dECMR':function(_0x1a5e0f,_0x4c6e8b){return _0x1a5e0f(_0x4c6e8b);},'WzeLB':'TestConstructorWithEmptyStringShared'};_0x2cdf01['dECMR'](print,_0x2cdf01['WzeLB']);let _0x2a2e85=new WebAssembly[('Memory')]({'initial':0x0,'maximum':undefined,'shared':''});_0x2cdf01['dECMR'](assertMemoryIsValid,_0x2a2e85);}());(function TestConstructorWithUndefinedMaxShared(){var _0x506b65={'YzzoS':function(_0x49de66,_0x5b868e){return _0x49de66(_0x5b868e);},'hDPzE':'TestConstructorWithUndefinedMaxShared'};_0x506b65['YzzoS'](print,_0x506b65['hDPzE']);assertThrows(()=>new WebAssembly['Memory']({'initial':0x0,'shared':!![]}),TypeError);}());(function TestCompileWithUndefinedShared(){var _0x9bc6f2={'RuQRM':function(_0x873202,_0x5c3658){return _0x873202(_0x5c3658);},'ZqxKT':'TestCompileWithUndefinedShared','WakXu':'shared'};_0x9bc6f2['RuQRM'](print,_0x9bc6f2['ZqxKT']);let _0x446929=new WebAssembly['Memory']({'initial':0x0,'maximum':0xa,'shared':!![]});let _0x4a7293=new WasmModuleBuilder();_0x4a7293['addImportedMemory']('m','imported_mem',0x0,undefined,_0x9bc6f2['WakXu']);assertThrows(()=>new WebAssembly['Module'](_0x4a7293['toBuffer']()),WebAssembly['CompileError']);}());(function TestCompileAtomicOpUndefinedShared(){var _0x5b498f={'yEBrF':'TestCompileAtomicOpUndefinedShared','nXkDI':'main','dkGja':'imported_mem','eNEeg':function(_0x1f6085,_0x2a3e0c,_0x87b8c9){return _0x1f6085(_0x2a3e0c,_0x87b8c9);}};print(_0x5b498f['yEBrF']);let _0x421673=new WebAssembly['Memory']({'initial':0x0,'maximum':0xa,'shared':!![]});let _0x3bce4a=new WasmModuleBuilder();_0x3bce4a['addFunction'](_0x5b498f['nXkDI'],kSig_i_ii)['addBody']([kExprLocalGet,0x0,kExprLocalGet,0x1,kAtomicPrefix,kExprI32AtomicAdd]);_0x3bce4a['addImportedMemory']('m',_0x5b498f['dkGja']);_0x5b498f['eNEeg'](assertThrows,()=>new WebAssembly[('Module')](_0x3bce4a['toBuffer']()),WebAssembly['CompileError']);}());(function TestInstantiateWithUndefinedShared(){var _0x4ad661={'QiSJF':function(_0x29691d,_0x172490){return _0x29691d(_0x172490);},'ydIEd':'TestInstantiateWithUndefinedShared','LRMlN':'imported_mem','zTVOp':function(_0x4f3d96,_0x2c4096,_0x15b671){return _0x4f3d96(_0x2c4096,_0x15b671);}};_0x4ad661['QiSJF'](print,_0x4ad661['ydIEd']);let _0x58f91e=new WebAssembly[('Memory')]({'initial':0x0,'maximum':0xa,'shared':!![]});let _0x52e924=new WasmModuleBuilder();_0x52e924['addImportedMemory']('m',_0x4ad661['LRMlN']);let _0x2c0e48=new WebAssembly[('Module')](_0x52e924['toBuffer']());_0x4ad661['zTVOp'](assertThrows,()=>new WebAssembly['Instance'](_0x2c0e48,{'m':{'imported_mem':_0x58f91e}}),WebAssembly['LinkError']);}());(function TestInstantiateWithImportNotSharedDefined(){var _0x4fbdc6={'uXBxo':'TestInstantiateWithImportNotSharedDefined','fTLJb':'imported_mem','ProBe':'shared','zvmEH':function(_0x420ee9,_0x31a751,_0x3ca852){return _0x420ee9(_0x31a751,_0x3ca852);}};print(_0x4fbdc6['uXBxo']);let _0xcb5c7f=new WebAssembly[('Memory')]({'initial':0x0,'maximum':0xa,'shared':![]});let _0x550795=new WasmModuleBuilder();_0x550795['addImportedMemory']('m',_0x4fbdc6['fTLJb'],0x0,0xa,_0x4fbdc6['ProBe']);let _0x206812=new WebAssembly[('Module')](_0x550795['toBuffer']());_0x4fbdc6['zvmEH'](assertThrows,()=>new WebAssembly[('Instance')](_0x206812,{'m':{'imported_mem':_0xcb5c7f}}),WebAssembly['LinkError']);}());(function TestInstantiateWithSharedDefined(){var _0x3223b3={'mbIew':function(_0x42a6e1,_0x41a3fd){return _0x42a6e1(_0x41a3fd);},'wkNWd':'TestInstantiateWithSharedDefined','SNQRs':'shared'};_0x3223b3['mbIew'](print,_0x3223b3['wkNWd']);let _0x49b24f=new WasmModuleBuilder();_0x49b24f['addMemory'](0x2,0xa,!![],_0x3223b3['SNQRs']);let _0x28f47a=new WebAssembly[('Module')](_0x49b24f['toBuffer']());let _0x47425d=new WebAssembly[('Instance')](_0x28f47a);assertMemoryIsValid(_0x47425d['exports']['memory'],!![]);}());(function TestAtomicOpWithSharedMemoryDefined(){var _0x299ebc={'vnhhc':function(_0x1e906a,_0x5e8f7a){return _0x1e906a(_0x5e8f7a);},'hqsIy':'TestAtomicOpWithSharedMemoryDefined','XiRKU':function(_0x228b90,_0x43f47e,_0x1b3c35){return _0x228b90(_0x43f47e,_0x1b3c35);},'YckPc':function(_0x28400f,_0x316309,_0x1da05e){return _0x28400f(_0x316309,_0x1da05e);}};_0x299ebc['vnhhc'](print,_0x299ebc['hqsIy']);let _0x1b515d=new WasmModuleBuilder();_0x1b515d['addMemory'](0x2,0xa,![],'shared');_0x1b515d['addFunction']('main',kSig_i_ii)['addBody']([kExprLocalGet,0x0,kExprLocalGet,0x1,kAtomicPrefix,kExprI32AtomicAdd,0x2,0x0])['exportFunc']();let _0x16e996=new WebAssembly['Module'](_0x1b515d['toBuffer']());let _0x382bf4=new WebAssembly[('Instance')](_0x16e996);_0x299ebc['XiRKU'](assertEquals,0x0,_0x382bf4['exports']['main'](0x0,0x11111111));_0x299ebc['YckPc'](assertEquals,0x11111111,_0x382bf4['exports']['main'](0x0,0x11111111));}());(function TestMemoryConstructorShouldNotCallHasProperty(){var _0x405a0f={'KihFr':'aZXev','RRGmV':'SaFGM'};print(arguments['callee']['name']);const _0x5ed633=new Proxy({},{'has'(_0x59a3e2,_0x3f2fdb){if(_0x405a0f['KihFr']===_0x405a0f['RRGmV']){print(arguments['callee']['name']);const _0x3a8773=new Proxy({},{'has'(_0x4a35d3,_0x3430df){throw new Error('Should\x20not\x20call\x20[[HasProperty]]\x20with\x20'+_0x3430df);},'get'(_0xc30488,_0xad5bb9){return 0x0;}});new WebAssembly[('Memory')](_0x3a8773);}else{throw new Error('Should\x20not\x20call\x20[[HasProperty]]\x20with\x20'+_0x3f2fdb);}},'get'(_0x4962e6,_0x2a10fa){return 0x0;}});new WebAssembly['Memory'](_0x5ed633);}());