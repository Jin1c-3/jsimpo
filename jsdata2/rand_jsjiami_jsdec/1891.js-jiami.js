import _0x531084 from'../../shared/dom.js';import _0x1b983f from'../../shared/effect-init.js';export default function EffectCube({swiper,extendParams,on}){var ekfhSn={'RCIjM':'.swiper-cube-shadow','EOgei':function(x,y){return x===y;},'Podyx':function(callee,param1){return callee(param1);},'ywaAg':'<div class="swiper-cube-shadow"></div>','NrCPr':'.swiper-slide-shadow-left','tYQZi':'.swiper-slide-shadow-top','nscBR':'.swiper-slide-shadow-right','ZzdVF':'.swiper-slide-shadow-bottom','CmFdh':function(callee,param1){return callee(param1);},'Sytzj':'left','jBEdq':'top','Xdbrc':'bottom','GOYJo':function(x,y){return x*y;},'ykiAp':function(x,y){return x/y;},'bKUPw':function(x,y){return x!==y;},'NAopO':'ndZRn','WXvRF':'ZqxKs','LmxUc':function(x,y){return x===y;},'AouzL':'LkGrM','yZznn':function(x,y){return x<y;},'DybhP':function(x,y){return x!==y;},'INIqM':'jTUfU','DCcxC':function(x,y){return x===y;},'YsxEu':'GlVKd','WdFSI':function(callee,param1,param2){return callee(param1,param2);},'abBTs':'data-swiper-slide-index','NANJT':function(x,y){return x/y;},'ntlGS':function(x,y){return x/y;},'UdqeK':function(x,y){return x%y;},'mboVd':function(x,y){return x-y;},'wsecp':function(x,y){return x===y;},'nhbYk':function(x,y){return x%y;},'OgNwt':function(x,y){return x-y;},'jLoGs':function(x,y){return x+y;},'IuAhS':function(x,y){return x*y;},'sVgPE':function(x,y){return x*y;},'olbgk':function(x,y){return x+y;},'fcazO':function(x,y){return x<=y;},'DsYdM':function(x,y){return x>y;},'ncABw':'fPCrO','qVRxW':'wlDsn','Ocwhr':function(x,y){return x*y;},'tvcNC':function(x,y){return x*y;},'ISINm':function(x,y){return x*y;},'KcvmE':function(x,y){return x*y;},'pPYMe':function(x,y){return x!==y;},'FOvJH':'FLIYK','irgLv':'izUdg','Ewedb':'right','RQLbc':function(x,y){return x===y;},'VijOJ':'ftvJJ','SYjuL':'nDYsH','jRgVu':'VBGjT','kLpWd':function(x,y){return x+y;},'JvwwD':function(x,y){return x/y;},'ofVYk':function(x,y){return x/y;},'EoiUt':'goeuF','mlFdc':function(x,y){return x-y;},'EQyrO':function(x,y){return x/y;},'pkjxf':function(x,y){return x/y;},'RwIDB':function(x,y){return x+y;},'HcbML':function(x,y){return x/y;},'zFNTs':function(x,y){return x/y;},'dgKGR':function(x,y){return x/y;},'GpbWb':function(x,y){return x!==y;},'kjzpD':'nAUVL'};ekfhSn['CmFdh'](extendParams,{'cubeEffect':{'slideShadows':!![],'shadow':!![],'shadowOffset':0x14,'shadowScale':0.94}});const setTranslate=()=>{var Phrbri={'wtSbO':function(x,y){return ekfhSn['GOYJo'](x,y);},'yXNLo':function(x,y){return x-y;},'npJHj':function(x,y){return ekfhSn['GOYJo'](x,y);},'weHxm':function(callee,param1){return ekfhSn['CmFdh'](callee,param1);},'WfROY':ekfhSn['Sytzj'],'rZMkP':ekfhSn['jBEdq'],'fRRLN':function(x,y){return ekfhSn['GOYJo'](x,y);},'SkEvg':'.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left','EKSjq':function(x,y){return ekfhSn['ykiAp'](x,y);}};const {$el,$wrapperEl,slides,width:swiperWidth,height:swiperHeight,rtlTranslate:rtl,size:swiperSize,browser}=swiper;const params=swiper['params']['cubeEffect'];const isHorizontal=swiper['isHorizontal']();const isVirtual=swiper['virtual']&&swiper['params']['virtual']['enabled'];let wrapperRotate=0x0;let $cubeShadowEl;if(params['shadow']){if(ekfhSn['bKUPw'](ekfhSn['NAopO'],ekfhSn['WXvRF'])){if(isHorizontal){$cubeShadowEl=$wrapperEl['find']('.swiper-cube-shadow');if($cubeShadowEl['length']===0x0){if(ekfhSn['LmxUc'](ekfhSn['AouzL'],'LkGrM')){$cubeShadowEl=_0x531084('<div\x20class=\x22swiper-cube-shadow\x22></div>');$wrapperEl['append']($cubeShadowEl);}else{wrapperRotate=slideIndex*0x5a+Phrbri['wtSbO'](progress,0x5a);if(rtl)wrapperRotate=Phrbri['yXNLo'](Phrbri['npJHj'](-slideIndex,0x5a),Phrbri['npJHj'](progress,0x5a));}}$cubeShadowEl['css']({'height':swiperWidth+'px'});}else{$cubeShadowEl=$el['find']('.swiper-cube-shadow');if(ekfhSn['LmxUc']($cubeShadowEl['length'],0x0)){$cubeShadowEl=_0x531084('<div\x20class=\x22swiper-cube-shadow\x22></div>');$el['append']($cubeShadowEl);}}}else{$cubeShadowEl=$el['find'](ekfhSn['RCIjM']);if(ekfhSn['EOgei']($cubeShadowEl['length'],0x0)){$cubeShadowEl=ekfhSn['Podyx'](_0x531084,ekfhSn['ywaAg']);$el['append']($cubeShadowEl);}}}for(let i=0x0;ekfhSn['yZznn'](i,slides['length']);i+=0x1){if(ekfhSn['DybhP'](ekfhSn['INIqM'],ekfhSn['INIqM'])){tx=0x0;tz=-round*0x4*swiperSize;}else{const $slideEl=slides['eq'](i);let slideIndex=i;if(isVirtual){if(ekfhSn['DCcxC']('GlVKd',ekfhSn['YsxEu'])){slideIndex=ekfhSn['WdFSI'](parseInt,$slideEl['attr'](ekfhSn['abBTs']),0xa);}else{shadowBefore=Phrbri['weHxm'](_0x531084,'<div\x20class=\x22swiper-slide-shadow-'+(isHorizontal?Phrbri['WfROY']:Phrbri['rZMkP'])+'"></div>');$slideEl['append'](shadowBefore);}}let slideAngle=slideIndex*0x5a;let round=Math['floor'](ekfhSn['NANJT'](slideAngle,0x168));if(rtl){slideAngle=-slideAngle;round=Math['floor'](ekfhSn['ntlGS'](-slideAngle,0x168));}const progress=Math['max'](Math['min']($slideEl[0x0]['progress'],0x1),-0x1);let tx=0x0;let ty=0x0;let tz=0x0;if(ekfhSn['DCcxC'](ekfhSn['UdqeK'](slideIndex,0x4),0x0)){tx=ekfhSn['GOYJo'](ekfhSn['GOYJo'](-round,0x4),swiperSize);tz=0x0;}else if(ekfhSn['DCcxC'](ekfhSn['UdqeK'](ekfhSn['mboVd'](slideIndex,0x1),0x4),0x0)){tx=0x0;tz=ekfhSn['GOYJo'](ekfhSn['GOYJo'](-round,0x4),swiperSize);}else if(ekfhSn['wsecp'](ekfhSn['nhbYk'](ekfhSn['OgNwt'](slideIndex,0x2),0x4),0x0)){tx=ekfhSn['jLoGs'](swiperSize,ekfhSn['IuAhS'](ekfhSn['sVgPE'](round,0x4),swiperSize));tz=swiperSize;}else if(ekfhSn['OgNwt'](slideIndex,0x3)%0x4===0x0){tx=-swiperSize;tz=ekfhSn['olbgk'](ekfhSn['sVgPE'](0x3,swiperSize),ekfhSn['sVgPE'](ekfhSn['sVgPE'](swiperSize,0x4),round));}if(rtl){tx=-tx;}if(!isHorizontal){ty=tx;tx=0x0;}const transform='rotateX('+(isHorizontal?0x0:-slideAngle)+'deg)\x20rotateY('+(isHorizontal?slideAngle:0x0)+'deg) translate3d('+tx+'px, '+ty+'px, '+tz+'px)';if(ekfhSn['fcazO'](progress,0x1)&&ekfhSn['DsYdM'](progress,-0x1)){if(ekfhSn['wsecp'](ekfhSn['ncABw'],ekfhSn['qVRxW'])){tx=Phrbri['fRRLN'](Phrbri['fRRLN'](-round,0x4),swiperSize);tz=0x0;}else{wrapperRotate=ekfhSn['Ocwhr'](slideIndex,0x5a)+ekfhSn['tvcNC'](progress,0x5a);if(rtl)wrapperRotate=ekfhSn['ISINm'](-slideIndex,0x5a)-ekfhSn['KcvmE'](progress,0x5a);}}$slideEl['transform'](transform);if(params['slideShadows']){if(ekfhSn['pPYMe'](ekfhSn['FOvJH'],ekfhSn['irgLv'])){let shadowBefore=isHorizontal?$slideEl['find'](ekfhSn['NrCPr']):$slideEl['find']('.swiper-slide-shadow-top');let shadowAfter=isHorizontal?$slideEl['find'](ekfhSn['nscBR']):$slideEl['find']('.swiper-slide-shadow-bottom');if(ekfhSn['wsecp'](shadowBefore['length'],0x0)){shadowBefore=_0x531084('<div\x20class=\x22swiper-slide-shadow-'+(isHorizontal?'left':ekfhSn['jBEdq'])+'"></div>');$slideEl['append'](shadowBefore);}if(ekfhSn['wsecp'](shadowAfter['length'],0x0)){shadowAfter=_0x531084('<div\x20class=\x22swiper-slide-shadow-'+(isHorizontal?ekfhSn['Ewedb']:'bottom')+'\x22></div>');$slideEl['append'](shadowAfter);}if(shadowBefore['length'])shadowBefore[0x0]['style']['opacity']=Math['max'](-progress,0x0);if(shadowAfter['length'])shadowAfter[0x0]['style']['opacity']=Math['max'](progress,0x0);}else{const {$el,slides}=swiper;slides['transition'](duration)['find'](Phrbri['SkEvg'])['transition'](duration);if(swiper['params']['cubeEffect']['shadow']&&!swiper['isHorizontal']()){$el['find']('.swiper-cube-shadow')['transition'](duration);}}}}}$wrapperEl['css']({'-webkit-transform-origin':'50%\x2050%\x20-'+swiperSize/0x2+'px','transform-origin':'50%\x2050%\x20-'+swiperSize/0x2+'px'});if(params['shadow']){if(ekfhSn['RQLbc'](ekfhSn['VijOJ'],'ftvJJ')){if(isHorizontal){if(ekfhSn['SYjuL']!==ekfhSn['jRgVu']){$cubeShadowEl['transform']('translate3d(0px,\x20'+ekfhSn['kLpWd'](ekfhSn['JvwwD'](swiperWidth,0x2),params['shadowOffset'])+'px, '+ekfhSn['ofVYk'](-swiperWidth,0x2)+'px) rotateX(90deg) rotateZ(0deg) scale('+params['shadowScale']+')');}else{$cubeShadowEl=$wrapperEl['find'](ekfhSn['RCIjM']);if($cubeShadowEl['length']===0x0){$cubeShadowEl=_0x531084(ekfhSn['ywaAg']);$wrapperEl['append']($cubeShadowEl);}$cubeShadowEl['css']({'height':swiperWidth+'px'});}}else{if(ekfhSn['EoiUt']!==ekfhSn['EoiUt']){slideAngle=-slideAngle;round=Math['floor'](Phrbri['EKSjq'](-slideAngle,0x168));}else{const shadowAngle=ekfhSn['mlFdc'](Math['abs'](wrapperRotate),Math['floor'](Math['abs'](wrapperRotate)/0x5a)*0x5a);const multiplier=ekfhSn['mlFdc'](1.5,ekfhSn['kLpWd'](ekfhSn['ofVYk'](Math['sin'](ekfhSn['EQyrO'](ekfhSn['KcvmE'](ekfhSn['KcvmE'](shadowAngle,0x2),Math['PI']),0x168)),0x2),Math['cos'](ekfhSn['pkjxf'](ekfhSn['KcvmE'](shadowAngle,0x2)*Math['PI'],0x168))/0x2));const scale1=params['shadowScale'];const scale2=params['shadowScale']/multiplier;const offset=params['shadowOffset'];$cubeShadowEl['transform']('scale3d('+scale1+', 1, '+scale2+')\x20translate3d(0px,\x20'+ekfhSn['RwIDB'](ekfhSn['HcbML'](swiperHeight,0x2),offset)+'px,\x20'+ekfhSn['zFNTs'](-swiperHeight/0x2,scale2)+'px)\x20rotateX(-90deg)');}}}else{let _0x167ffb=isHorizontal?$slideEl['find'](ekfhSn['NrCPr']):$slideEl['find'](ekfhSn['tYQZi']);let _0x3ea71b=isHorizontal?$slideEl['find'](ekfhSn['nscBR']):$slideEl['find'](ekfhSn['ZzdVF']);if(ekfhSn['EOgei'](_0x167ffb['length'],0x0)){_0x167ffb=ekfhSn['CmFdh'](_0x531084,'<div class="swiper-slide-shadow-'+(isHorizontal?ekfhSn['Sytzj']:ekfhSn['jBEdq'])+'\x22></div>');$slideEl['append'](_0x167ffb);}if(ekfhSn['EOgei'](_0x3ea71b['length'],0x0)){_0x3ea71b=_0x531084('<div class="swiper-slide-shadow-'+(isHorizontal?'right':ekfhSn['Xdbrc'])+'"></div>');$slideEl['append'](_0x3ea71b);}if(_0x167ffb['length'])_0x167ffb[0x0]['style']['opacity']=Math['max'](-progress,0x0);if(_0x3ea71b['length'])_0x3ea71b[0x0]['style']['opacity']=Math['max'](progress,0x0);}}const zFactor=browser['isSafari']||browser['isWebView']?ekfhSn['dgKGR'](-swiperSize,0x2):0x0;$wrapperEl['transform']('translate3d(0px,0,'+zFactor+'px) rotateX('+(swiper['isHorizontal']()?0x0:wrapperRotate)+'deg) rotateY('+(swiper['isHorizontal']()?-wrapperRotate:0x0)+'deg)');};const setTransition=duration=>{var rQYrHZ={'ChgsM':function(callee,param1){return ekfhSn['CmFdh'](callee,param1);}};if(ekfhSn['GpbWb']('nAUVL',ekfhSn['kjzpD'])){$cubeShadowEl=rQYrHZ['ChgsM'](_0x531084,'<div class="swiper-cube-shadow"></div>');$el['append']($cubeShadowEl);}else{const {$el,slides}=swiper;slides['transition'](duration)['find']('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')['transition'](duration);if(swiper['params']['cubeEffect']['shadow']&&!swiper['isHorizontal']()){$el['find']('.swiper-cube-shadow')['transition'](duration);}}};ekfhSn['CmFdh'](_0x1b983f,{'effect':'cube','swiper':swiper,'on':on,'setTranslate':setTranslate,'setTransition':setTransition,'perspective':()=>!![],'overwriteParams':()=>({'slidesPerView':0x1,'slidesPerGroup':0x1,'watchSlidesProgress':!![],'resistanceRatio':0x0,'spaceBetween':0x0,'centeredSlides':![],'virtualTranslate':!![]})});}