/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var Vector4=require('../../math/Vector4');var GetLineToPolygon=require('./GetLineToPolygon');var Line=require('../line/Line');var segment=new Line();function CheckIntersects(_0x430eb4,_0x15ebfa,_0x1720b1,_0x2c3173,_0x53f55b){var _0x4aa337={'yUjbm':function(_0x15ebfa,_0x1720b1){return _0x15ebfa+_0x1720b1;},'obJmH':function(_0x15ebfa,_0x1720b1){return _0x15ebfa+_0x1720b1;},'MtzkL':function(_0x439083,_0x17d2f2,_0x5df1d7){return _0x439083(_0x17d2f2,_0x5df1d7);}};var _0x21ead2='4|1|2|3|0'['split']('|'),_0x507cce=0x0;while(!![]){switch(_0x21ead2[_0x507cce++]){case'0':if(_0x4181b9){_0x53f55b['push'](new Vector4(_0x4181b9['x'],_0x4181b9['y'],_0x430eb4,_0x4181b9['w']));}continue;case'1':var _0x37e603=Math['sin'](_0x430eb4);continue;case'2':segment['setTo'](_0x15ebfa,_0x1720b1,_0x4aa337['yUjbm'](_0x15ebfa,_0x2015fc),_0x4aa337['obJmH'](_0x1720b1,_0x37e603));continue;case'3':var _0x4181b9=_0x4aa337['MtzkL'](GetLineToPolygon,segment,_0x2c3173);continue;case'4':var _0x2015fc=Math['cos'](_0x430eb4);continue;}break;}}function SortIntersects(_0x4d8fbb,_0x48f017){var _0x2e1a96={'CJFAz':function(_0x211526,_0x5516c4){return _0x211526-_0x5516c4;}};return _0x2e1a96['CJFAz'](_0x4d8fbb['z'],_0x48f017['z']);}var GetRaysFromPointToPolygon=function(_0x52afd7,_0x1bc89b,_0x4e003a){var _0x5cde37={'lZqkM':function(_0x52afd7,_0x1bc89b){return _0x52afd7-_0x1bc89b;},'AhXiI':function(_0x52afd7,_0x1bc89b){return _0x52afd7-_0x1bc89b;},'KHhuy':function(_0x11e082,_0x34dff5,_0x5b3758,_0x34b229,_0x57695c,_0x37b018){return _0x11e082(_0x34dff5,_0x5b3758,_0x34b229,_0x57695c,_0x37b018);},'udKhe':function(_0x18d1a0,_0x4c8d06,_0x1f80c4,_0x27da1a,_0x5c1746,_0x2bd6d1){return _0x18d1a0(_0x4c8d06,_0x1f80c4,_0x27da1a,_0x5c1746,_0x2bd6d1);},'fMRpL':function(_0x52afd7,_0x1bc89b){return _0x52afd7+_0x1bc89b;},'qqLzf':function(_0x52afd7,_0x1bc89b){return _0x52afd7!==_0x1bc89b;},'Ekjtg':'AifBv','hdwkF':function(_0x52afd7,_0x1bc89b){return _0x52afd7<_0x1bc89b;},'dyEBo':function(_0x52afd7,_0x1bc89b){return _0x52afd7<_0x1bc89b;},'orpmp':function(_0x52afd7,_0x1bc89b){return _0x52afd7===_0x1bc89b;},'pAGrL':'mByDB','jyxyG':'rofUJ','CyvCT':function(_0x52afd7,_0x1bc89b){return _0x52afd7-_0x1bc89b;},'nkBOc':function(_0x52afd7,_0x1bc89b){return _0x52afd7-_0x1bc89b;},'iNmLe':function(_0x3c7874,_0x13254e,_0x171403,_0x1e2126,_0x52f6f3,_0x2e40c8){return _0x3c7874(_0x13254e,_0x171403,_0x1e2126,_0x52f6f3,_0x2e40c8);}};if(!Array['isArray'](_0x4e003a)){if(_0x5cde37['qqLzf'](_0x5cde37['Ekjtg'],_0x5cde37['Ekjtg'])){var _0x82621f=Math['atan2'](_0x5cde37['lZqkM'](_0x54ac71[_0x1129b7]['y'],_0x1bc89b),_0x5cde37['AhXiI'](_0x54ac71[_0x1129b7]['x'],_0x52afd7));if(_0x286e47['indexOf'](_0x82621f)===-0x1){_0x5cde37['KHhuy'](CheckIntersects,_0x82621f,_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);_0x5cde37['udKhe'](CheckIntersects,_0x82621f-0.00001,_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);CheckIntersects(_0x5cde37['fMRpL'](_0x82621f,0.00001),_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);_0x286e47['push'](_0x82621f);}}else{_0x4e003a=[_0x4e003a];}}var _0x3c7df3=[];var _0x286e47=[];for(var _0x56d1d9=0x0;_0x5cde37['hdwkF'](_0x56d1d9,_0x4e003a['length']);_0x56d1d9++){var _0x54ac71=_0x4e003a[_0x56d1d9]['points'];for(var _0x1129b7=0x0;_0x5cde37['dyEBo'](_0x1129b7,_0x54ac71['length']);_0x1129b7++){if(_0x5cde37['orpmp'](_0x5cde37['pAGrL'],_0x5cde37['jyxyG'])){_0x3c7df3['push'](new Vector4(closestIntersect['x'],closestIntersect['y'],_0x1f66fa,closestIntersect['w']));}else{var _0x1f66fa=Math['atan2'](_0x5cde37['CyvCT'](_0x54ac71[_0x1129b7]['y'],_0x1bc89b),_0x5cde37['nkBOc'](_0x54ac71[_0x1129b7]['x'],_0x52afd7));if(_0x286e47['indexOf'](_0x1f66fa)===-0x1){CheckIntersects(_0x1f66fa,_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);_0x5cde37['udKhe'](CheckIntersects,_0x5cde37['nkBOc'](_0x1f66fa,0.00001),_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);_0x5cde37['iNmLe'](CheckIntersects,_0x5cde37['fMRpL'](_0x1f66fa,0.00001),_0x52afd7,_0x1bc89b,_0x4e003a,_0x3c7df3);_0x286e47['push'](_0x1f66fa);}}}}return _0x3c7df3['sort'](SortIntersects);};module['exports']=GetRaysFromPointToPolygon;