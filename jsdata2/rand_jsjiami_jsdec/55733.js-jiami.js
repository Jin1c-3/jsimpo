// Flags: --expose-internals --dns-result-order=ipv4first
'use strict';const common=require('../common');const assert=require('assert');const {internalBinding}=require('internal/test/binding');const cares=internalBinding('cares_wrap');const {promisify}=require('util');const originalGetaddrinfo=cares['getaddrinfo'];const calls=[];cares['getaddrinfo']=common['mustCallAtLeast']((..._0x56d6b5)=>{calls['push'](_0x56d6b5);originalGetaddrinfo(..._0x56d6b5);},0x1);const dns=require('dns');const dnsPromises=dns['promises'];let verbatim;function allowFailed(_0x4c5cc2){return _0x4c5cc2['catch'](_0x5e68bd=>{});}(async()=>{var _0x208e12={'YOGfI':function(_0x164dfc,_0x3d7753){return _0x164dfc+_0x3d7753;},'tFKrd':'example.org','QTfJM':function(_0x352a8c,_0x2a6430){return _0x352a8c(_0x2a6430);},'nFRKc':function(_0x164255,_0x371406){return _0x164255(_0x371406);},'GdCUV':function(_0x597051,_0x52db79){return _0x597051(_0x52db79);}};let _0x3821bb=0x0;const _0x84f3db=_0xfe5427=>{assert['strictEqual'](calls['length'],_0x208e12['YOGfI'](_0x3821bb,0x1));verbatim=calls[_0x3821bb][0x4];assert['strictEqual'](verbatim,_0xfe5427);_0x3821bb+=0x1;};await allowFailed(promisify(dns['lookup'])(_0x208e12['tFKrd']));_0x84f3db(![]);await allowFailed(dnsPromises['lookup']('example.org'));_0x84f3db(![]);await allowFailed(_0x208e12['QTfJM'](promisify,dns['lookup'])(_0x208e12['tFKrd'],{}));_0x208e12['nFRKc'](_0x84f3db,![]);await _0x208e12['GdCUV'](allowFailed,dnsPromises['lookup'](_0x208e12['tFKrd'],{}));_0x84f3db(![]);})()['then'](common['mustCall']());