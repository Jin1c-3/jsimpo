const errors=require('@tryghost/errors');const sinon=require('sinon');const Promise=require('bluebird');const markdownToMobiledoc=require('../../utils/fixtures/data-generator')['markdownToMobiledoc'];const helpers=require('../../../core/frontend/helpers');const api=require('../../../core/server/api');helpers['next_post']=helpers['prev_post'];describe('{{next_post}} helper',function(){var _0x4a6db5={'Upfyq':'post','qciNK':'postsPublic','maGwJ':'Something wasn\'t found','mWszv':function(_0x2025b5,_0x4a7f22){return _0x2025b5!==_0x4a7f22;},'yDlqR':'OrwnX','KXujV':'content','WoLou':'published','MzFCM':function(_0x191395,_0x5453de){return _0x191395(_0x5453de);},'aPsJm':'post2','iPSAC':'/current/','IzPTS':function(_0xbd3a57,_0x671ab9){return _0xbd3a57>_0x671ab9;},'BXMTS':'published_at:>','eaWpq':'4|1|3|7|5|6|0|2','ckBhm':'title','zXKYJ':function(_0x10b850,_0x161b2e,_0x211cf4){return _0x10b850(_0x161b2e,_0x211cf4);},'Txewn':'next_post','KXbDX':function(_0x58f6f5,_0x2c4c4c){return _0x58f6f5(_0x2c4c4c);},'ttquz':'current','VNrGr':'/previous/','yXYQx':'post\x201','YJtRz':'page','lHinQ':'lUoQP','mleHk':'author','kOFoT':'error','tihlf':'poRcL','EfOaV':'slug','goYRL':'data','VxmUr':'4|2|3|1|5|0','ewqmI':'OmnDw','qIias':'WwZyq','XgGIE':'magic','mFgMV':function(_0x4c3a7e,_0x2b1a8d){return _0x4c3a7e(_0x2b1a8d);},'lmafn':'author-name','UxRbb':'2|6|0|4|1|3|8|5|7','aDuTW':'author,authors,tags','BEIUS':function(_0xb7e820){return _0xb7e820();},'ClASm':function(_0x1641ec,_0x451960){return _0x1641ec!==_0x451960;},'kDkcP':'CnAKG','ipGCm':function(_0x1b40c2,_0x2dfdcc,_0x5a355d){return _0x1b40c2(_0x2dfdcc,_0x5a355d);},'KbbBF':'shows \'else\' template','guAze':'4|8|1|7|3|2|0|5|6','UZqYJ':'tVJfm','PAEzl':function(_0x5c7eac,_0x482705){return _0x5c7eac(_0x482705);},'yGSei':function(_0x3c18aa,_0x161a58,_0x3c3e30){return _0x3c18aa(_0x161a58,_0x3c3e30);},'tvDJQ':'uGYBT','LjWSG':'draft','dRCaX':'post\x203','OvDsX':function(_0x5e2d24){return _0x5e2d24();},'uMAMW':'primary_author','xtpjF':function(_0x51bcf2,_0x494f7b){return _0x51bcf2(_0x494f7b);},'CNQFk':function(_0x4316ca,_0x16bc65){return _0x4316ca!==_0x16bc65;},'cXeZX':'agUok','ZPcas':function(_0x52214f){return _0x52214f();},'UjmXY':function(_0x25f65b){return _0x25f65b();},'TXYNm':'8|2|3|7|4|5|6|0|1','PmjsO':'6|4|7|1|8|5|2|3|0','eOIgX':function(_0x519b3e){return _0x519b3e();},'ngftZ':function(_0x99f16c,_0x2306f9){return _0x99f16c===_0x2306f9;},'qupNO':'pXgYF','NGTXu':function(_0x3500cb,_0x99d377){return _0x3500cb(_0x99d377);},'eAsMA':function(_0x594380,_0x76fab6,_0x22fab6){return _0x594380(_0x76fab6,_0x22fab6);},'YgquX':'shows \'if\' template with prev post data with primary_tag set','JIecS':'shows\x20\x27if\x27\x20template\x20with\x20prev\x20post\x20data\x20with\x20primary_author\x20set','Vsxkw':function(_0x5b2c4d,_0x9a509,_0x4629b1){return _0x5b2c4d(_0x9a509,_0x4629b1);},'WLENW':'shows\x20\x27if\x27\x20template\x20with\x20prev\x20post\x20data\x20with\x20author\x20set','hipcZ':function(_0x24a417,_0x4750f7,_0x31dc6f){return _0x24a417(_0x4750f7,_0x31dc6f);},'yLYia':'shows\x20\x27if\x27\x20template\x20with\x20prev\x20post\x20data\x20&\x20ignores\x20in\x20author\x20if\x20author\x20isnt\x20present','xMYTQ':'eDnvI','uFXTl':'primary_tag','apxfv':'test','QnLJF':'JknlL','olqxp':'yjnYr','DnjRV':'/next/','kMOyu':'TWpXH','obZYt':'xBHKM','MmyLo':function(_0xea89ea,_0x149339){return _0xea89ea(_0x149339);},'ESuNj':'should handle error from the API','uLFCN':function(_0x26c9e5,_0x265c7e,_0xa91c53){return _0x26c9e5(_0x265c7e,_0xa91c53);},'ENIYK':'canary','soPnq':'with\x20valid\x20post\x20data\x20-\x20','SXyPc':'for valid post with no next post','rnmPJ':'for\x20invalid\x20post\x20data','IALBv':function(_0x47bcf5,_0xb40787,_0x195879){return _0x47bcf5(_0xb40787,_0x195879);},'KGhTF':'for\x20page','seLHL':'for unpublished post','hCPhY':'with "in" option','BgFvH':'general error handling'};const _0x346c96=_0x4a6db5['ENIYK'];let _0x2d2a7a;let _0x1acb6b;beforeEach(function(){_0x2d2a7a={'root':{'_locals':{'apiVersion':_0x346c96},'context':[_0x4a6db5['Upfyq']]}};sinon['stub'](api,_0x4a6db5['qciNK'])['get'](()=>{return{'browse':_0x1acb6b};});});afterEach(function(){var _0xda5f93={'VwYZI':_0x4a6db5['maGwJ']};if(_0x4a6db5['mWszv'](_0x4a6db5['yDlqR'],_0x4a6db5['yDlqR'])){_0x1acb6b=sinon['stub']()['callsFake'](function(){return Promise['reject'](new errors['NotFoundError']({'message':_0xda5f93['VwYZI']}));});}else{sinon['restore']();}});_0x4a6db5['uLFCN'](describe,_0x4a6db5['soPnq'],function(){var _0x13559a={'GIJXx':function(_0x2d5bb5,_0x4a9c50){return _0x4a6db5['IzPTS'](_0x2d5bb5,_0x4a9c50);},'RtgTS':_0x4a6db5['BXMTS'],'RHWQp':'post\x203','vreVf':_0x4a6db5['eaWpq'],'zcxIM':'data','FJBxV':'slug','VgXCt':_0x4a6db5['ckBhm']};beforeEach(function(){var _0x2426a0={'IcfmA':function(_0x52af3c,_0x903b3e){return _0x13559a['GIJXx'](_0x52af3c,_0x903b3e);},'acebW':_0x13559a['RtgTS'],'czCPQ':function(_0x14dac3,_0x160a50){return _0x14dac3===_0x160a50;},'erGUG':'XFaWu','CzjGT':_0x13559a['RHWQp']};_0x1acb6b=sinon['stub']()['callsFake'](function(_0x56a1fe){if(_0x2426a0['IcfmA'](_0x56a1fe['filter']['indexOf'](_0x2426a0['acebW']),-0x1)){if(_0x2426a0['czCPQ']('HqVQh',_0x2426a0['erGUG'])){return Promise['resolve']({});}else{return Promise['resolve']({'posts':[{'slug':'/next/','title':_0x2426a0['CzjGT']}]});}}});});_0x4a6db5['zXKYJ'](it,'shows\x20\x27if\x27\x20template\x20with\x20next\x20post\x20data',function(_0x5b7a12){const _0x4cd25b=sinon['spy']();const _0xcb3ec7=sinon['spy']();const _0x4cf694={'name':'next_post','data':_0x2d2a7a,'fn':_0x4cd25b,'inverse':_0xcb3ec7};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':_0x4a6db5['WoLou'],'mobiledoc':_0x4a6db5['MzFCM'](markdownToMobiledoc,'ff'),'title':_0x4a6db5['aPsJm'],'slug':'current','published_at':new Date(0x0),'url':_0x4a6db5['iPSAC']},_0x4cf694)['then'](function(){var _0x1dff7a=_0x13559a['vreVf']['split']('|'),_0x3de682=0x0;while(!![]){switch(_0x1dff7a[_0x3de682++]){case'0':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');continue;case'1':_0xcb3ec7['calledOnce']['should']['be']['false']();continue;case'2':_0x5b7a12();continue;case'3':_0x4cd25b['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'4':_0x4cd25b['calledOnce']['should']['be']['true']();continue;case'5':_0x4cd25b['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x13559a['zcxIM']);continue;case'6':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'7':_0x4cd25b['firstCall']['args'][0x0]['should']['have']['properties'](_0x13559a['FJBxV'],_0x13559a['VgXCt']);continue;}break;}})['catch'](_0x5b7a12);});});describe(_0x4a6db5['SXyPc'],function(){var _0x226fdf={'fzmPX':_0x4a6db5['VNrGr'],'dFDuW':_0x4a6db5['yXYQx'],'duLum':_0x4a6db5['YJtRz'],'hcVxv':_0x4a6db5['lHinQ'],'uswiX':'gJgRp','TfTeo':_0x4a6db5['mleHk'],'tivjp':_0x4a6db5['iPSAC'],'yUuxf':_0x4a6db5['kOFoT'],'yMEuD':_0x4a6db5['WoLou'],'QWWPw':_0x4a6db5['tihlf'],'oiNto':_0x4a6db5['EfOaV'],'uDaPE':_0x4a6db5['ckBhm'],'QFMdL':_0x4a6db5['goYRL'],'nMCoA':'next_post','WzfFi':'content','pvxtR':function(_0x21125d,_0x4aa38d){return _0x4a6db5['KXbDX'](_0x21125d,_0x4aa38d);},'dYvDd':'post2','pVhrJ':_0x4a6db5['VxmUr']};if(_0x4a6db5['ewqmI']!==_0x4a6db5['qIias']){_0x4a6db5['KXbDX'](beforeEach,function(){var _0x7b793e={'nzACT':'slug','YguHJ':function(_0x456cad){return _0x456cad();},'vGwLQ':'next_post','lZbGw':_0x226fdf['TfTeo'],'zsplu':'content','olKpQ':function(_0x1eabbd,_0x4887bd){return _0x1eabbd(_0x4887bd);},'lIPeZ':_0x226fdf['tivjp'],'aJCrf':'0|4|3|2|5|1','OUsBm':function(_0x470a24){return _0x470a24();},'dguso':_0x226fdf['yUuxf'],'Mbrjc':_0x226fdf['yMEuD'],'sRmlQ':'current'};if('xqDxn'!==_0x226fdf['QWWPw']){_0x1acb6b=sinon['stub']()['callsFake'](function(_0x3607fb){var _0x5843eb={'Zrjpi':'published_at:>','yfYvJ':_0x226fdf['fzmPX'],'quSds':_0x226fdf['dFDuW'],'pDTXK':_0x226fdf['duLum']};if(_0x226fdf['hcVxv']!==_0x226fdf['hcVxv']){var _0x2335bc={'BMHYV':'4|5|6|2|8|7|0|1|3','giRHg':'author,authors,tags','oJomC':_0x7b793e['nzACT'],'biRjm':function(_0x185909){return _0x7b793e['YguHJ'](_0x185909);},'PZhwg':'data'};const _0x3a8da7=sinon['spy']();const _0x92d753=sinon['spy']();const _0x4a3eff={'name':_0x7b793e['vGwLQ'],'data':_0x2d2a7a,'fn':_0x3a8da7,'inverse':_0x92d753,'hash':{'in':_0x7b793e['lZbGw']}};helpers['next_post']['call']({'html':_0x7b793e['zsplu'],'status':'published','mobiledoc':_0x7b793e['olKpQ'](markdownToMobiledoc,'ff'),'title':'post2','slug':'current','published_at':new Date(0x0),'url':_0x7b793e['lIPeZ']},_0x4a3eff)['then'](function(){var _0x4af426=_0x2335bc['BMHYV']['split']('|'),_0x443ee7=0x0;while(!![]){switch(_0x4af426[_0x443ee7++]){case'0':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql'](_0x2335bc['giRHg']);continue;case'1':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['not']['match'](/\+author:/);continue;case'2':_0x3a8da7['firstCall']['args'][0x0]['should']['have']['properties'](_0x2335bc['oJomC'],'title');continue;case'3':_0x2335bc['biRjm'](done);continue;case'4':_0x3a8da7['calledOnce']['should']['be']['true']();continue;case'5':_0x92d753['calledOnce']['should']['be']['false']();continue;case'6':_0x3a8da7['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'7':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'8':_0x3a8da7['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x2335bc['PZhwg']);continue;}break;}})['catch'](done);}else{if(_0x3607fb['filter']['indexOf']('published_at:>')>-0x1){if(_0x226fdf['uswiX']!=='gJgRp'){var _0x42ed43={'trGQQ':_0x5843eb['Zrjpi'],'ERBDu':_0x5843eb['yfYvJ'],'cEasW':_0x5843eb['quSds']};_0x2d2a7a={'root':{'_locals':{'apiVersion':_0x346c96},'context':[_0x5843eb['pDTXK']]}};_0x1acb6b=sinon['stub']()['callsFake'](function(_0x111ace){if(_0x111ace['filter']['indexOf'](_0x42ed43['trGQQ'])>-0x1){return Promise['resolve']({'posts':[{'slug':_0x42ed43['ERBDu'],'title':_0x42ed43['cEasW']}]});}});}else{return Promise['resolve']({'posts':[]});}}}});}else{var _0x493e9d={'LxmLz':_0x7b793e['aJCrf'],'ZvUVY':function(_0x2faec9){return _0x7b793e['OUsBm'](_0x2faec9);},'fgZPz':_0x7b793e['dguso'],'oHldr':'data'};const _0xa50d8c=sinon['spy']();const _0x1495bc=sinon['spy']();const _0x53b58d={'name':_0x7b793e['vGwLQ'],'data':_0x2d2a7a,'fn':_0xa50d8c,'inverse':_0x1495bc};helpers['next_post']['call']({'html':_0x7b793e['zsplu'],'status':_0x7b793e['Mbrjc'],'mobiledoc':_0x7b793e['olKpQ'](markdownToMobiledoc,'ff'),'title':'post2','slug':_0x7b793e['sRmlQ'],'published_at':new Date(0x0),'url':_0x7b793e['lIPeZ']},_0x53b58d)['then'](function(){var _0x3db255=_0x493e9d['LxmLz']['split']('|'),_0xc59242=0x0;while(!![]){switch(_0x3db255[_0xc59242++]){case'0':_0xa50d8c['called']['should']['be']['false']();continue;case'1':_0x493e9d['ZvUVY'](done);continue;case'2':_0x1495bc['firstCall']['args'][0x1]['data']['should']['be']['an']['Object']()['and']['have']['property'](_0x493e9d['fgZPz']);continue;case'3':_0x1495bc['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x493e9d['oHldr']);continue;case'4':_0x1495bc['calledOnce']['should']['be']['true']();continue;case'5':_0x1495bc['firstCall']['args'][0x1]['data']['error']['should']['match'](/^Something wasn't found/);continue;}break;}})['catch'](done);}});_0x4a6db5['zXKYJ'](it,'shows \'else\' template',function(_0x2f4e0e){var _0xc62153={'UMUCo':_0x226fdf['oiNto'],'TbUsF':_0x226fdf['uDaPE'],'epLck':_0x226fdf['QFMdL']};const _0x3ba80b=sinon['spy']();const _0x27e132=sinon['spy']();const _0xc0b7e1={'name':_0x226fdf['nMCoA'],'data':_0x2d2a7a,'fn':_0x3ba80b,'inverse':_0x27e132};helpers['next_post']['call']({'html':_0x226fdf['WzfFi'],'status':_0x226fdf['yMEuD'],'mobiledoc':_0x226fdf['pvxtR'](markdownToMobiledoc,'ff'),'title':_0x226fdf['dYvDd'],'slug':'current','published_at':new Date(0x0),'url':_0x226fdf['tivjp']},_0xc0b7e1)['then'](function(){_0x3ba80b['called']['should']['be']['false']();_0x27e132['called']['should']['be']['true']();_0x27e132['firstCall']['args']['should']['have']['lengthOf'](0x2);_0x27e132['firstCall']['args'][0x0]['should']['have']['properties'](_0xc62153['UMUCo'],_0xc62153['TbUsF']);_0x27e132['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0xc62153['epLck']);_0x2f4e0e();})['catch'](_0x2f4e0e);});}else{const _0x3ebac1=sinon['spy']();const _0x20306e=sinon['spy']();const _0x2de557={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x3ebac1,'inverse':_0x20306e};helpers['next_post']['call']({'html':'content','status':'published','mobiledoc':_0x4a6db5['KXbDX'](markdownToMobiledoc,'ff'),'title':_0x4a6db5['aPsJm'],'slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'url':_0x4a6db5['iPSAC']},_0x2de557)['then'](function(){var _0x11c7b9=_0x226fdf['pVhrJ']['split']('|'),_0x2ba42f=0x0;while(!![]){switch(_0x11c7b9[_0x2ba42f++]){case'0':done();continue;case'1':_0x20306e['firstCall']['args'][0x0]['should']['have']['properties']('slug','title');continue;case'2':_0x20306e['called']['should']['be']['true']();continue;case'3':_0x20306e['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'4':_0x3ebac1['called']['should']['be']['false']();continue;case'5':_0x20306e['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property']('data');continue;}break;}})['catch'](done);}});_0x4a6db5['uLFCN'](describe,_0x4a6db5['rnmPJ'],function(){var _0x376e9d={'WgSJn':_0x4a6db5['UxRbb'],'HwKUp':'data','rsZzz':_0x4a6db5['EfOaV'],'MHagY':_0x4a6db5['aDuTW'],'lPhyl':function(_0x31327b,_0x2f797c){return _0x4a6db5['mWszv'](_0x31327b,_0x2f797c);},'gXEss':'rqQhu','hoWsY':'YEHyR','hZmIp':function(_0x175a6c){return _0x4a6db5['BEIUS'](_0x175a6c);}};if(_0x4a6db5['ClASm'](_0x4a6db5['kDkcP'],_0x4a6db5['kDkcP'])){const _0x4bbeff=sinon['spy']();const _0x313224=sinon['spy']();const _0x2f7daa={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x4bbeff,'inverse':_0x313224,'hash':{'in':_0x4a6db5['XgGIE']}};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':_0x4a6db5['WoLou'],'mobiledoc':_0x4a6db5['mFgMV'](markdownToMobiledoc,'ff'),'title':_0x4a6db5['aPsJm'],'slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'author':{'slug':_0x4a6db5['lmafn']},'url':_0x4a6db5['iPSAC']},_0x2f7daa)['then'](function(){var _0x105a88=_0x376e9d['WgSJn']['split']('|'),_0x2a403f=0x0;while(!![]){switch(_0x105a88[_0x2a403f++]){case'0':_0x4bbeff['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'1':_0x4bbeff['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x376e9d['HwKUp']);continue;case'2':_0x4bbeff['calledOnce']['should']['be']['true']();continue;case'3':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'4':_0x4bbeff['firstCall']['args'][0x0]['should']['have']['properties'](_0x376e9d['rsZzz'],'title');continue;case'5':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['not']['match'](/\+magic/);continue;case'6':_0x313224['calledOnce']['should']['be']['false']();continue;case'7':done();continue;case'8':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql'](_0x376e9d['MHagY']);continue;}break;}})['catch'](done);}else{beforeEach(function(){_0x1acb6b=sinon['stub']()['callsFake'](function(_0x557dee){if(_0x557dee['filter']['indexOf']('published_at:>')>-0x1){return Promise['resolve']({});}});});_0x4a6db5['ipGCm'](it,_0x4a6db5['KbbBF'],function(_0x127626){var _0x366809={'OIEhJ':function(_0x287d07,_0x47f0d3){return _0x376e9d['lPhyl'](_0x287d07,_0x47f0d3);},'UIbIs':_0x376e9d['gXEss'],'PEUpk':_0x376e9d['hoWsY'],'XFgyX':function(_0x57083e){return _0x376e9d['hZmIp'](_0x57083e);}};const _0x484c74=sinon['spy']();const _0x2e9728=sinon['spy']();const _0x23c0f6={'name':'next_post','data':_0x2d2a7a,'fn':_0x484c74,'inverse':_0x2e9728};helpers['next_post']['call']({},_0x23c0f6)['then'](function(){var _0x513955={'ZFeUR':'4|1|0|3|2|5','TOrfN':'data','uptof':'title'};if(_0x366809['OIEhJ'](_0x366809['UIbIs'],_0x366809['PEUpk'])){_0x484c74['called']['should']['be']['false']();_0x2e9728['called']['should']['be']['true']();_0x1acb6b['called']['should']['be']['false']();_0x366809['XFgyX'](_0x127626);}else{var _0x5ae5b0=_0x513955['ZFeUR']['split']('|'),_0x3bb72c=0x0;while(!![]){switch(_0x5ae5b0[_0x3bb72c++]){case'0':_0x2e9728['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'1':_0x2e9728['called']['should']['be']['true']();continue;case'2':_0x2e9728['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x513955['TOrfN']);continue;case'3':_0x2e9728['firstCall']['args'][0x0]['should']['have']['properties']('slug',_0x513955['uptof']);continue;case'4':_0x484c74['called']['should']['be']['false']();continue;case'5':_0x127626();continue;}break;}}})['catch'](_0x127626);});}});_0x4a6db5['IALBv'](describe,_0x4a6db5['KGhTF'],function(){var _0x3f720e={'NoeOs':function(_0x4c74af,_0x5e03f8){return _0x4a6db5['IzPTS'](_0x4c74af,_0x5e03f8);},'oYhsu':function(_0x21b63b,_0x5eb999){return _0x4a6db5['ClASm'](_0x21b63b,_0x5eb999);},'yipoY':_0x4a6db5['UZqYJ'],'CpGRO':_0x4a6db5['yXYQx']};_0x4a6db5['PAEzl'](beforeEach,function(){var _0xe581f4={'uNkzL':_0x4a6db5['guAze'],'RCGrt':function(_0x473325){return _0x473325();}};_0x2d2a7a={'root':{'_locals':{'apiVersion':_0x346c96},'context':['page']}};_0x1acb6b=sinon['stub']()['callsFake'](function(_0x211a74){if(_0x3f720e['NoeOs'](_0x211a74['filter']['indexOf']('published_at:>'),-0x1)){if(_0x3f720e['oYhsu']('tVJfm',_0x3f720e['yipoY'])){var _0x139a3e=_0xe581f4['uNkzL']['split']('|'),_0x2d91ca=0x0;while(!![]){switch(_0x139a3e[_0x2d91ca++]){case'0':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');continue;case'1':fn['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'2':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'3':fn['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property']('data');continue;case'4':fn['calledOnce']['should']['be']['true']();continue;case'5':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['match'](/\+author:author-name/);continue;case'6':_0xe581f4['RCGrt'](done);continue;case'7':fn['firstCall']['args'][0x0]['should']['have']['properties']('slug','title');continue;case'8':inverse['calledOnce']['should']['be']['false']();continue;}break;}}else{return Promise['resolve']({'posts':[{'slug':'/previous/','title':_0x3f720e['CpGRO']}]});}}});});_0x4a6db5['yGSei'](it,_0x4a6db5['KbbBF'],function(_0xf7f0bf){var _0x5e54d0={'ynhDr':function(_0xc6b23c,_0x2d90ee){return _0xc6b23c!==_0x2d90ee;},'gPekM':'IcnXL','WGsHX':function(_0x4a51a1){return _0x4a6db5['BEIUS'](_0x4a51a1);}};const _0x3d10de=sinon['spy']();const _0x3dc86f=sinon['spy']();const _0x59fefa={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x3d10de,'inverse':_0x3dc86f};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':'published','mobiledoc':markdownToMobiledoc('ff'),'title':_0x4a6db5['aPsJm'],'slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'url':_0x4a6db5['iPSAC'],'page':!![]},_0x59fefa)['then'](function(){var _0x39f0f6={'mkhFi':'Something wasn\'t found'};if(_0x5e54d0['ynhDr'](_0x5e54d0['gPekM'],_0x5e54d0['gPekM'])){return Promise['reject'](new errors[('NotFoundError')]({'message':_0x39f0f6['mkhFi']}));}else{_0x3d10de['called']['should']['be']['false']();_0x3dc86f['called']['should']['be']['true']();_0x5e54d0['WGsHX'](_0xf7f0bf);}})['catch'](_0xf7f0bf);});});_0x4a6db5['IALBv'](describe,_0x4a6db5['seLHL'],function(){var _0x5f488b={'wzzTH':function(_0x3e73c0,_0x5101d5){return _0x3e73c0>_0x5101d5;},'BBzci':_0x4a6db5['BXMTS'],'wVPlv':_0x4a6db5['dRCaX'],'sgSzW':'preview','lONMB':_0x4a6db5['Upfyq'],'tLLLM':'VSsOI','maGvM':function(_0x541094){return _0x4a6db5['OvDsX'](_0x541094);},'Rwiel':_0x4a6db5['Txewn']};beforeEach(function(){var _0x11791f={'vKMHg':function(_0x57592f,_0x1aac87){return _0x5f488b['wzzTH'](_0x57592f,_0x1aac87);},'pCBoB':_0x5f488b['BBzci'],'qGiDw':_0x5f488b['wVPlv']};_0x2d2a7a={'root':{'_locals':{'apiVersion':_0x346c96},'context':[_0x5f488b['sgSzW'],_0x5f488b['lONMB']]}};_0x1acb6b=sinon['stub']()['callsFake'](function(_0x4aff2e){if(_0x11791f['vKMHg'](_0x4aff2e['filter']['indexOf'](_0x11791f['pCBoB']),-0x1)){return Promise['resolve']({'posts':[{'slug':'/next/','title':_0x11791f['qGiDw']}]});}});});it('shows \'else\' template',function(_0x5cda7d){if(_0x4a6db5['tvDJQ']!=='yTfYw'){const _0x374077=sinon['spy']();const _0x59e055=sinon['spy']();const _0x7332a1={'name':'next_post','data':_0x2d2a7a,'fn':_0x374077,'inverse':_0x59e055};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':_0x4a6db5['LjWSG'],'mobiledoc':markdownToMobiledoc('ff'),'title':_0x4a6db5['aPsJm'],'slug':'current','created_at':new Date(0x0),'url':_0x4a6db5['iPSAC']},_0x7332a1)['then'](function(){if(_0x5f488b['tLLLM']!==_0x5f488b['tLLLM']){return{'browse':_0x1acb6b};}else{_0x374077['called']['should']['be']['false']();_0x59e055['called']['should']['be']['true']();_0x5f488b['maGvM'](_0x5cda7d);}})['catch'](_0x5cda7d);}else{const _0x11d0d1=sinon['spy']();const _0x402dde=sinon['spy']();const _0x23971a={'name':_0x5f488b['Rwiel'],'data':{'root':{}}};helpers['next_post']['call']({},_0x23971a)['then'](function(){_0x11d0d1['called']['should']['be']['false']();_0x402dde['called']['should']['be']['false']();_0x5cda7d();})['catch'](_0x5cda7d);}});});_0x4a6db5['IALBv'](describe,_0x4a6db5['hCPhY'],function(){var _0xbb52b4={'KOHqt':function(_0x5841e7,_0x33cb51){return _0x5841e7>_0x33cb51;},'tWHHr':'/next/','ktsDl':'post\x201','QjmGe':_0x4a6db5['ckBhm'],'xblul':_0x4a6db5['goYRL'],'oAkHi':function(_0x51731e){return _0x4a6db5['OvDsX'](_0x51731e);},'PiGeE':function(_0x2cdee8,_0x1bdc3c){return _0x4a6db5['CNQFk'](_0x2cdee8,_0x1bdc3c);},'SZtnm':function(_0xd851,_0x190361){return _0xd851===_0x190361;},'yAclk':_0x4a6db5['cXeZX'],'hLeXI':'author,authors,tags','RRKxI':function(_0x29e203){return _0x4a6db5['ZPcas'](_0x29e203);},'izNdm':_0x4a6db5['EfOaV'],'ZfIqs':'4|0|6|8|2|5|3|1|7','QVUyQ':function(_0x710363){return _0x4a6db5['UjmXY'](_0x710363);},'JBcuj':_0x4a6db5['Txewn'],'AiKZm':_0x4a6db5['KXujV'],'qtppO':_0x4a6db5['WoLou'],'WJGco':function(_0x139d39,_0xd01165){return _0x4a6db5['xtpjF'](_0x139d39,_0xd01165);},'AXrul':_0x4a6db5['ttquz'],'nAbZZ':'author-name','ZxBxN':_0x4a6db5['iPSAC'],'deaqG':_0x4a6db5['TXYNm'],'qiGWg':_0x4a6db5['mleHk'],'dcCFH':_0x4a6db5['aPsJm'],'hoIgB':_0x4a6db5['Upfyq'],'ktkNS':_0x4a6db5['PmjsO'],'pbJvp':function(_0x1a68ee){return _0x4a6db5['eOIgX'](_0x1a68ee);}};if(_0x4a6db5['ngftZ'](_0x4a6db5['qupNO'],_0x4a6db5['qupNO'])){_0x4a6db5['NGTXu'](beforeEach,function(){if(_0xbb52b4['PiGeE']('EqMFe','tKVzS')){_0x1acb6b=sinon['stub']()['callsFake'](function(_0x1d5054){if(_0xbb52b4['KOHqt'](_0x1d5054['filter']['indexOf']('published_at:>'),-0x1)){return Promise['resolve']({'posts':[{'slug':_0xbb52b4['tWHHr'],'title':_0xbb52b4['ktsDl']}]});}});}else{fn['calledOnce']['should']['be']['true']();inverse['calledOnce']['should']['be']['false']();fn['firstCall']['args']['should']['have']['lengthOf'](0x2);fn['firstCall']['args'][0x0]['should']['have']['properties']('slug',_0xbb52b4['QjmGe']);fn['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0xbb52b4['xblul']);_0x1acb6b['calledOnce']['should']['be']['true']();_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');_0xbb52b4['oAkHi'](done);}});_0x4a6db5['eAsMA'](it,_0x4a6db5['YgquX'],function(_0x11427e){var _0x453fe9={'KQAwf':'5|4|0|3|2|6|8|7|1','vsKup':'data','MRIlS':_0x4a6db5['EfOaV'],'wWfwi':'title'};const _0x1dc958=sinon['spy']();const _0x5cf1b0=sinon['spy']();const _0x1691ba={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x1dc958,'inverse':_0x5cf1b0,'hash':{'in':'primary_tag'}};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':_0x4a6db5['WoLou'],'mobiledoc':_0x4a6db5['PAEzl'](markdownToMobiledoc,'ff'),'title':'post2','slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'primary_tag':{'slug':'test'},'url':_0x4a6db5['iPSAC']},_0x1691ba)['then'](function(){var _0x3e557a=_0x453fe9['KQAwf']['split']('|'),_0x4ef7b1=0x0;while(!![]){switch(_0x3e557a[_0x4ef7b1++]){case'0':_0x1dc958['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'1':_0x11427e();continue;case'2':_0x1dc958['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x453fe9['vsKup']);continue;case'3':_0x1dc958['firstCall']['args'][0x0]['should']['have']['properties'](_0x453fe9['MRIlS'],_0x453fe9['wWfwi']);continue;case'4':_0x5cf1b0['calledOnce']['should']['be']['false']();continue;case'5':_0x1dc958['calledOnce']['should']['be']['true']();continue;case'6':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'7':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['match'](/\+primary_tag:test/);continue;case'8':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');continue;}break;}})['catch'](_0x11427e);});_0x4a6db5['eAsMA'](it,_0x4a6db5['JIecS'],function(_0x4a5b8e){var _0x5ed5e8={'ZEuKE':'/next/','uLrbW':'post 3'};const _0x45a44f=sinon['spy']();const _0xf31a43=sinon['spy']();const _0x576aec={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x45a44f,'inverse':_0xf31a43,'hash':{'in':_0x4a6db5['uMAMW']}};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':'published','mobiledoc':_0x4a6db5['xtpjF'](markdownToMobiledoc,'ff'),'title':_0x4a6db5['aPsJm'],'slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'primary_author':{'slug':'hans'},'url':'/current/'},_0x576aec)['then'](function(){if(_0xbb52b4['SZtnm']('xBOqA',_0xbb52b4['yAclk'])){return Promise['resolve']({'posts':[{'slug':_0x5ed5e8['ZEuKE'],'title':_0x5ed5e8['uLrbW']}]});}else{var _0x312722='5|2|4|6|1|7|0|8|3'['split']('|'),_0x2379e6=0x0;while(!![]){switch(_0x312722[_0x2379e6++]){case'0':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql'](_0xbb52b4['hLeXI']);continue;case'1':_0x45a44f['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0xbb52b4['xblul']);continue;case'2':_0xf31a43['calledOnce']['should']['be']['false']();continue;case'3':_0xbb52b4['RRKxI'](_0x4a5b8e);continue;case'4':_0x45a44f['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'5':_0x45a44f['calledOnce']['should']['be']['true']();continue;case'6':_0x45a44f['firstCall']['args'][0x0]['should']['have']['properties'](_0xbb52b4['izNdm'],'title');continue;case'7':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'8':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['match'](/\+primary_author:hans/);continue;}break;}}})['catch'](_0x4a5b8e);});_0x4a6db5['Vsxkw'](it,_0x4a6db5['WLENW'],function(_0xe15a76){var _0x2894d0={'wvsVp':_0xbb52b4['ZfIqs'],'wdGof':'data','flhcN':'author,authors,tags','rftHU':function(_0x177f31){return _0xbb52b4['QVUyQ'](_0x177f31);},'CdhMs':_0xbb52b4['izNdm']};const _0x48ab7e=sinon['spy']();const _0x3cc6a6=sinon['spy']();const _0x10ec4e={'name':_0xbb52b4['JBcuj'],'data':_0x2d2a7a,'fn':_0x48ab7e,'inverse':_0x3cc6a6,'hash':{'in':'author'}};helpers['next_post']['call']({'html':_0xbb52b4['AiKZm'],'status':_0xbb52b4['qtppO'],'mobiledoc':_0xbb52b4['WJGco'](markdownToMobiledoc,'ff'),'title':'post2','slug':_0xbb52b4['AXrul'],'published_at':new Date(0x0),'author':{'slug':_0xbb52b4['nAbZZ']},'url':_0xbb52b4['ZxBxN']},_0x10ec4e)['then'](function(){var _0x47bb32=_0x2894d0['wvsVp']['split']('|'),_0x3d67f1=0x0;while(!![]){switch(_0x47bb32[_0x3d67f1++]){case'0':_0x3cc6a6['calledOnce']['should']['be']['false']();continue;case'1':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['match'](/\+author:author-name/);continue;case'2':_0x48ab7e['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x2894d0['wdGof']);continue;case'3':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql'](_0x2894d0['flhcN']);continue;case'4':_0x48ab7e['calledOnce']['should']['be']['true']();continue;case'5':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'6':_0x48ab7e['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'7':_0x2894d0['rftHU'](_0xe15a76);continue;case'8':_0x48ab7e['firstCall']['args'][0x0]['should']['have']['properties'](_0x2894d0['CdhMs'],'title');continue;}break;}})['catch'](_0xe15a76);});_0x4a6db5['hipcZ'](it,_0x4a6db5['yLYia'],function(_0x555c29){var _0x14d48d={'oZmDr':_0xbb52b4['deaqG'],'NASNF':function(_0x816359){return _0x816359();},'yvKTP':_0xbb52b4['xblul'],'BYsnt':_0xbb52b4['izNdm'],'svdXE':_0xbb52b4['QjmGe']};const _0x47facd=sinon['spy']();const _0x57bad8=sinon['spy']();const _0x4dd9db={'name':_0xbb52b4['JBcuj'],'data':_0x2d2a7a,'fn':_0x47facd,'inverse':_0x57bad8,'hash':{'in':_0xbb52b4['qiGWg']}};helpers['next_post']['call']({'html':_0xbb52b4['AiKZm'],'status':_0xbb52b4['qtppO'],'mobiledoc':markdownToMobiledoc('ff'),'title':_0xbb52b4['dcCFH'],'slug':'current','published_at':new Date(0x0),'url':'/current/'},_0x4dd9db)['then'](function(){var _0x45f47f=_0x14d48d['oZmDr']['split']('|'),_0xfe3c76=0x0;while(!![]){switch(_0x45f47f[_0xfe3c76++]){case'0':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['not']['match'](/\+author:/);continue;case'1':_0x14d48d['NASNF'](_0x555c29);continue;case'2':_0x57bad8['calledOnce']['should']['be']['false']();continue;case'3':_0x47facd['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'4':_0x47facd['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x14d48d['yvKTP']);continue;case'5':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'6':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');continue;case'7':_0x47facd['firstCall']['args'][0x0]['should']['have']['properties'](_0x14d48d['BYsnt'],_0x14d48d['svdXE']);continue;case'8':_0x47facd['calledOnce']['should']['be']['true']();continue;}break;}})['catch'](_0x555c29);});it('shows \'if\' template with prev post data & ignores unknown in value',function(_0x40adc6){var _0x4c7707={'KqnKd':_0xbb52b4['hoIgB'],'fGzbG':function(_0x3b6356,_0x390ce8){return _0xbb52b4['PiGeE'](_0x3b6356,_0x390ce8);},'ZwbqU':_0xbb52b4['ktkNS'],'zWkDy':function(_0x5dc64c){return _0xbb52b4['pbJvp'](_0x5dc64c);},'qwSid':_0xbb52b4['QjmGe']};const _0xef8b74=sinon['spy']();const _0x5bece9=sinon['spy']();const _0x823aed={'name':'next_post','data':_0x2d2a7a,'fn':_0xef8b74,'inverse':_0x5bece9,'hash':{'in':'magic'}};helpers['next_post']['call']({'html':_0xbb52b4['AiKZm'],'status':_0xbb52b4['qtppO'],'mobiledoc':_0xbb52b4['WJGco'](markdownToMobiledoc,'ff'),'title':_0xbb52b4['dcCFH'],'slug':_0xbb52b4['AXrul'],'published_at':new Date(0x0),'author':{'slug':_0xbb52b4['nAbZZ']},'url':_0xbb52b4['ZxBxN']},_0x823aed)['then'](function(){var _0x2cde97={'MNkGJ':_0x4c7707['KqnKd']};if(_0x4c7707['fGzbG']('IVDXi','IVDXi')){_0x2d2a7a={'root':{'_locals':{'apiVersion':_0x346c96},'context':[_0x2cde97['MNkGJ']]}};sinon['stub'](api,'postsPublic')['get'](()=>{return{'browse':_0x1acb6b};});}else{var _0x1f96ec=_0x4c7707['ZwbqU']['split']('|'),_0x127eb4=0x0;while(!![]){switch(_0x1f96ec[_0x127eb4++]){case'0':_0x4c7707['zWkDy'](_0x40adc6);continue;case'1':_0xef8b74['firstCall']['args'][0x0]['should']['have']['properties']('slug',_0x4c7707['qwSid']);continue;case'2':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql']('author,authors,tags');continue;case'3':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['not']['match'](/\+magic/);continue;case'4':_0x5bece9['calledOnce']['should']['be']['false']();continue;case'5':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'6':_0xef8b74['calledOnce']['should']['be']['true']();continue;case'7':_0xef8b74['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'8':_0xef8b74['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property']('data');continue;}break;}}})['catch'](_0x40adc6);});}else{fn['called']['should']['be']['false']();inverse['called']['should']['be']['true']();done();}});describe(_0x4a6db5['BgFvH'],function(){var _0x59de0d={'cPOXM':function(_0x438344){return _0x438344();},'kXbcS':'content','DjBXO':_0x4a6db5['ttquz'],'ihxjJ':'/current/','tKsxb':_0x4a6db5['Txewn'],'wEtvi':'aZGaV','hqNVH':_0x4a6db5['maGwJ'],'QvGQZ':_0x4a6db5['BXMTS'],'GrJFo':_0x4a6db5['DnjRV'],'HBvJj':_0x4a6db5['dRCaX'],'yhgCD':function(_0x46cea9,_0xe37e2f){return _0x46cea9===_0xe37e2f;},'zsOsZ':_0x4a6db5['kMOyu']};if('ZQvxw'===_0x4a6db5['obZYt']){const _0x2071d9=sinon['spy']();const _0x13048b=sinon['spy']();const _0x1ad360={'name':'next_post','data':_0x2d2a7a,'fn':_0x2071d9,'inverse':_0x13048b};helpers['next_post']['call']({'html':_0x59de0d['kXbcS'],'status':'draft','mobiledoc':markdownToMobiledoc('ff'),'title':'post2','slug':_0x59de0d['DjBXO'],'created_at':new Date(0x0),'url':_0x59de0d['ihxjJ']},_0x1ad360)['then'](function(){_0x2071d9['called']['should']['be']['false']();_0x13048b['called']['should']['be']['true']();_0x59de0d['cPOXM'](done);})['catch'](done);}else{_0x4a6db5['MmyLo'](beforeEach,function(){var _0x114528={'jUVgl':_0x59de0d['tKsxb'],'CVwIm':'hwaIK','ksAek':_0x59de0d['wEtvi'],'rhlfw':_0x59de0d['hqNVH']};_0x1acb6b=sinon['stub']()['callsFake'](function(){if(_0x114528['CVwIm']!==_0x114528['ksAek']){return Promise['reject'](new errors[('NotFoundError')]({'message':_0x114528['rhlfw']}));}else{const _0x5e6a2b=sinon['spy']();const _0x30ceb1=sinon['spy']();const _0x442d92={'name':_0x114528['jUVgl'],'data':_0x2d2a7a,'fn':_0x5e6a2b,'inverse':_0x30ceb1};helpers['next_post']['call']({},_0x442d92)['then'](function(){_0x5e6a2b['called']['should']['be']['false']();_0x30ceb1['called']['should']['be']['true']();_0x1acb6b['called']['should']['be']['false']();done();})['catch'](done);}});});it(_0x4a6db5['ESuNj'],function(_0x32bc17){var _0x334076={'ayHJk':function(_0x339f9f,_0x17c5f4){return _0x4a6db5['CNQFk'](_0x339f9f,_0x17c5f4);},'kvomt':'AqBVl','zBqQd':_0x4a6db5['xMYTQ'],'LStuF':'1|4|0|3|2|5','tjuQg':_0x4a6db5['goYRL'],'ZsNby':_0x4a6db5['kOFoT'],'nyXiu':function(_0x4653d0){return _0x4653d0();},'UuqwR':_0x4a6db5['aDuTW'],'FJTRc':_0x4a6db5['EfOaV'],'JHOae':_0x4a6db5['ckBhm'],'WFyOC':_0x4a6db5['Txewn'],'xnqsX':_0x4a6db5['uFXTl'],'IWXMT':_0x4a6db5['KXujV'],'RSMnF':function(_0x28711f,_0x3044ba){return _0x28711f(_0x3044ba);},'JfwfO':_0x4a6db5['aPsJm'],'ATTjS':_0x4a6db5['apxfv']};if(_0x4a6db5['CNQFk']('KoGwP',_0x4a6db5['QnLJF'])){const _0x221d86=sinon['spy']();const _0x22728b=sinon['spy']();const _0x475c56={'name':_0x4a6db5['Txewn'],'data':_0x2d2a7a,'fn':_0x221d86,'inverse':_0x22728b};helpers['next_post']['call']({'html':_0x4a6db5['KXujV'],'status':_0x4a6db5['WoLou'],'mobiledoc':_0x4a6db5['NGTXu'](markdownToMobiledoc,'ff'),'title':_0x4a6db5['aPsJm'],'slug':_0x4a6db5['ttquz'],'published_at':new Date(0x0),'url':_0x4a6db5['iPSAC']},_0x475c56)['then'](function(){if(_0x334076['ayHJk'](_0x334076['kvomt'],_0x334076['zBqQd'])){var _0x37e4ba=_0x334076['LStuF']['split']('|'),_0x5e0ccb=0x0;while(!![]){switch(_0x37e4ba[_0x5e0ccb++]){case'0':_0x22728b['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x334076['tjuQg']);continue;case'1':_0x221d86['called']['should']['be']['false']();continue;case'2':_0x22728b['firstCall']['args'][0x1]['data']['error']['should']['match'](/^Something wasn't found/);continue;case'3':_0x22728b['firstCall']['args'][0x1]['data']['should']['be']['an']['Object']()['and']['have']['property'](_0x334076['ZsNby']);continue;case'4':_0x22728b['calledOnce']['should']['be']['true']();continue;case'5':_0x334076['nyXiu'](_0x32bc17);continue;}break;}}else{if(options['filter']['indexOf']('published_at:>')>-0x1){return Promise['resolve']({'posts':[]});}}})['catch'](_0x32bc17);}else{const _0x46b3a2=sinon['spy']();const _0x329c07=sinon['spy']();const _0x5ea956={'name':_0x334076['WFyOC'],'data':_0x2d2a7a,'fn':_0x46b3a2,'inverse':_0x329c07,'hash':{'in':_0x334076['xnqsX']}};helpers['next_post']['call']({'html':_0x334076['IWXMT'],'status':'published','mobiledoc':_0x334076['RSMnF'](markdownToMobiledoc,'ff'),'title':_0x334076['JfwfO'],'slug':'current','published_at':new Date(0x0),'primary_tag':{'slug':_0x334076['ATTjS']},'url':'/current/'},_0x5ea956)['then'](function(){var _0x202763='4|0|3|7|5|2|1|8|6'['split']('|'),_0x152305=0x0;while(!![]){switch(_0x202763[_0x152305++]){case'0':_0x329c07['calledOnce']['should']['be']['false']();continue;case'1':_0x1acb6b['firstCall']['args'][0x0]['include']['should']['eql'](_0x334076['UuqwR']);continue;case'2':_0x1acb6b['calledOnce']['should']['be']['true']();continue;case'3':_0x46b3a2['firstCall']['args']['should']['have']['lengthOf'](0x2);continue;case'4':_0x46b3a2['calledOnce']['should']['be']['true']();continue;case'5':_0x46b3a2['firstCall']['args'][0x1]['should']['be']['an']['Object']()['and']['have']['property'](_0x334076['tjuQg']);continue;case'6':_0x32bc17();continue;case'7':_0x46b3a2['firstCall']['args'][0x0]['should']['have']['properties'](_0x334076['FJTRc'],_0x334076['JHOae']);continue;case'8':_0x1acb6b['firstCall']['args'][0x0]['filter']['should']['match'](/\+primary_tag:test/);continue;}break;}})['catch'](_0x32bc17);}});_0x4a6db5['uLFCN'](it,'should\x20show\x20warning\x20for\x20call\x20without\x20any\x20options',function(_0x3a578f){var _0x22c056={'FcYLB':_0x4a6db5['dRCaX']};if(_0x4a6db5['ngftZ']('yjnYr',_0x4a6db5['olqxp'])){const _0x1fc8e9=sinon['spy']();const _0x553330=sinon['spy']();const _0xa82d00={'name':_0x4a6db5['Txewn'],'data':{'root':{}}};helpers['next_post']['call']({},_0xa82d00)['then'](function(){var _0x122f3b={'rkzNb':_0x59de0d['QvGQZ'],'TwLvY':_0x59de0d['GrJFo'],'ZGCly':_0x59de0d['HBvJj']};if(_0x59de0d['yhgCD'](_0x59de0d['zsOsZ'],_0x59de0d['zsOsZ'])){_0x1fc8e9['called']['should']['be']['false']();_0x553330['called']['should']['be']['false']();_0x3a578f();}else{_0x1acb6b=sinon['stub']()['callsFake'](function(_0x1d4782){if(_0x1d4782['filter']['indexOf'](_0x122f3b['rkzNb'])>-0x1){return Promise['resolve']({'posts':[{'slug':_0x122f3b['TwLvY'],'title':_0x122f3b['ZGCly']}]});}});}})['catch'](_0x3a578f);}else{if(options['filter']['indexOf']('published_at:>')>-0x1){return Promise['resolve']({'posts':[{'slug':'/next/','title':_0x22c056['FcYLB']}]});}}});}});});