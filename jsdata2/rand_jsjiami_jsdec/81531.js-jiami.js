const errors=require('@tryghost/errors');const i18n=require('../../../../../shared/i18n');const auth=require('../../../../services/auth');const shared=require('../../../shared');const apiMw=require('../../middleware');const notImplemented=function(_0x56ea6d,_0x2cb0a3,_0x57f9aa){var _0x4fde2e={'QGLlX':function(_0x90e08e){return _0x90e08e();},'TUTGa':'GET','DyUdz':'PUT','dTHHx':'DELETE','YAWhC':'POST','DqahP':function(_0x434c95){return _0x434c95();},'hNqKM':function(_0x48c776,_0x5af0ef){return _0x48c776(_0x5af0ef);},'gmJgf':'NotImplementedError','ccMcj':'errors.api.common.notImplemented'};if(!_0x56ea6d['api_key']){return _0x4fde2e['QGLlX'](_0x57f9aa);}const _0x10f5f9={'site':[_0x4fde2e['TUTGa']],'posts':[_0x4fde2e['TUTGa'],_0x4fde2e['DyUdz'],_0x4fde2e['dTHHx'],_0x4fde2e['YAWhC']],'pages':['GET',_0x4fde2e['DyUdz'],'DELETE',_0x4fde2e['YAWhC']],'images':[_0x4fde2e['YAWhC']],'webhooks':['POST',_0x4fde2e['DyUdz'],_0x4fde2e['dTHHx']],'actions':[_0x4fde2e['TUTGa']],'tags':[_0x4fde2e['TUTGa'],_0x4fde2e['DyUdz'],_0x4fde2e['dTHHx'],_0x4fde2e['YAWhC']],'labels':[_0x4fde2e['TUTGa'],'PUT',_0x4fde2e['dTHHx'],'POST'],'users':[_0x4fde2e['TUTGa']],'themes':[_0x4fde2e['YAWhC'],'PUT'],'members':['GET','PUT',_0x4fde2e['dTHHx'],_0x4fde2e['YAWhC']],'config':[_0x4fde2e['TUTGa']],'schedules':['PUT'],'db':[_0x4fde2e['YAWhC']]};const _0x564561=_0x56ea6d['url']['match'](/^\/(\w+)\/?/);if(_0x564561){const _0xf1679a=_0x564561[0x1];if(_0x10f5f9[_0xf1679a]&&_0x10f5f9[_0xf1679a]['includes'](_0x56ea6d['method'])){return _0x4fde2e['DqahP'](_0x57f9aa);}}_0x4fde2e['hNqKM'](_0x57f9aa,new errors[('GhostError')]({'errorType':_0x4fde2e['gmJgf'],'message':i18n['t'](_0x4fde2e['ccMcj']),'statusCode':'501'}));};module['exports']['authAdminApi']=[auth['authenticate']['authenticateAdminApi'],auth['authorize']['authorizeAdminApi'],apiMw['updateUserLastSeen'],apiMw['cors'],shared['middlewares']['urlRedirects']['adminSSLAndHostRedirect'],shared['middlewares']['prettyUrls'],notImplemented];module['exports']['authAdminApiWithUrl']=[auth['authenticate']['authenticateAdminApiWithUrl'],auth['authorize']['authorizeAdminApi'],apiMw['updateUserLastSeen'],apiMw['cors'],shared['middlewares']['urlRedirects']['adminSSLAndHostRedirect'],shared['middlewares']['prettyUrls'],notImplemented];module['exports']['publicAdminApi']=[apiMw['cors'],shared['middlewares']['urlRedirects']['adminSSLAndHostRedirect'],shared['middlewares']['prettyUrls'],notImplemented];