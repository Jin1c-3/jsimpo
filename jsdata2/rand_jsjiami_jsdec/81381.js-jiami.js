const _=require('lodash');const crypto=require('crypto');const debug=require('@tryghost/debug')('frontend:services:settings:index');const SettingsLoader=require('./loader');const ensureSettingsFiles=require('./ensure-settings');const errors=require('@tryghost/errors');const defaultHashes={'routes':'3d180d52c663d173a6be791ef411ed01'};const calculateHash=_0x134da3=>{var _0x44b46f={'vuMJY':'md5','xoMBi':'binary'};return crypto['createHash'](_0x44b46f['vuMJY'])['update'](_0x134da3,_0x44b46f['xoMBi'])['digest']('hex');};module['exports']={'init':function(){var _0x3d7fb2={'fhEbZ':'init settings service for:','FDlAu':function(_0x4ba87b,_0x1e9f0d){return _0x4ba87b(_0x1e9f0d);}};const _0x46f338=this['knownSettings']();debug(_0x3d7fb2['fhEbZ'],_0x46f338);return _0x3d7fb2['FDlAu'](ensureSettingsFiles,_0x46f338);},'knownSettings':function knownSettings(){var _0x911a78={'RJrpo':'routes'};return[_0x911a78['RJrpo']];},'get':function get(_0xb83913){var _0x4b3fd8={'VZanN':function(_0x4d1ce0,_0x52dbbc){return _0x4d1ce0<_0x52dbbc;}};const _0x3629ae=this['knownSettings']();if(!_0xb83913||_0x4b3fd8['VZanN'](_['indexOf'](_0x3629ae,_0xb83913),0x0)){throw new errors[('IncorrectUsageError')]({'message':'Requested setting is not supported: \''+_0xb83913+'\x27.','help':'Please\x20use\x20only\x20the\x20supported\x20settings:\x20'+_0x3629ae+'.'});}return SettingsLoader(_0xb83913);},'getAll':function getAll(){const _0xe77ff2=this['knownSettings']();const _0x4d75aa={};_['each'](_0xe77ff2,function(_0x4840df){_0x4d75aa[_0x4840df]=SettingsLoader(_0x4840df);});return _0x4d75aa;},'getDefaulHash':_0x2a7f79=>{return defaultHashes[_0x2a7f79];},'getCurrentHash':async _0x30052b=>{var _0x5e7f2c={'xcCMZ':function(_0x524a8c,_0x5a0cb2){return _0x524a8c(_0x5a0cb2);}};const _0x5683e0=await SettingsLoader['loadSettings'](_0x30052b);return _0x5e7f2c['xcCMZ'](calculateHash,JSON['stringify'](_0x5683e0));}};