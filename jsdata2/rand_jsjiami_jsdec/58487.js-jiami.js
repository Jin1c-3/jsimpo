// Copyright 2014 the V8 project authors. All rights reserved.
// Copyright (C) 2005, 2006, 2007, 2008, 2009 Apple Inc. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions
// are met:
// 1.  Redistributions of source code must retain the above copyright
//     notice, this list of conditions and the following disclaimer.
// 2.  Redistributions in binary form must reproduce the above copyright
//     notice, this list of conditions and the following disclaimer in the
//     documentation and/or other materials provided with the distribution.
//
// THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS'' AND ANY
// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
// DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS BE LIABLE FOR ANY
// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
// ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
// Flags: --harmony --ignore-unhandled-promises
'use strict';description('Test Promise.all');var result=undefined;var p1=new Promise(function(_0x5d27a3){var _0x30c37a={'FVLQd':function(_0x205555,_0x2f0364){return _0x205555(_0x2f0364);}};_0x30c37a['FVLQd'](_0x5d27a3,'p1');});var p2=new Promise(function(_0x3bf3f4){_0x3bf3f4('p2');});var p3=new Promise(function(_0x11d48b){var _0x3258ee={'sZUhX':function(_0x4b7b66,_0x28c1a1){return _0x4b7b66(_0x28c1a1);}};_0x3258ee['sZUhX'](_0x11d48b,'p3');});var p4=new Promise(function(){});var p5=new Promise(function(){});var p6=new Promise(function(_0x383325,_0x49d9aa){var _0x76212={'EFiFU':function(_0x4b9845,_0x39b820){return _0x4b9845(_0x39b820);}};_0x76212['EFiFU'](_0x49d9aa,'p6');});var p7=new Promise(function(_0x34cfff,_0x5e241e){_0x5e241e('p7');});var p8=new Promise(function(_0x37791a,_0x4372f8){_0x4372f8('p8');});var p9=new Promise(function(_0x55b659){_0x55b659(p2);});Promise['all']([p1,p2,p5])['then'](function(_0x4df329){var _0x355f3c={'YUjeF':'Promise.all([p1, p2, p5]) is fulfilled.'};testFailed(_0x355f3c['YUjeF']);},function(){var _0x12f230={'JTOki':function(_0x57cd65,_0x124499){return _0x57cd65(_0x124499);},'Kccjt':'Promise.all([p1, p2, p5]) is rejected.'};_0x12f230['JTOki'](testFailed,_0x12f230['Kccjt']);});Promise['all']()['then'](function(){var _0x7d9cc0={'yWXgO':function(_0x25af46,_0x57b966){return _0x25af46(_0x57b966);},'upCVz':'Promise.all() is fulfilled.'};_0x7d9cc0['yWXgO'](testFailed,_0x7d9cc0['upCVz']);},function(){var _0x1e6b49={'OBXKp':'Promise.all([]) is fulfilled.','uYcRm':'result.length','IARHD':function(_0x354bff,_0x104e94){return _0x354bff!==_0x104e94;},'dBjVw':'PNjtD','PycZe':function(_0x44cbec,_0x5d4ea4){return _0x44cbec(_0x5d4ea4);},'ghAdU':'Promise.all([]) is rejected.','BvlOi':function(_0x30f001,_0x260ef6){return _0x30f001(_0x260ef6);}};_0x1e6b49['BvlOi'](testPassed,'Promise.all() is rejected.');return Promise['all']([])['then'](function(_0x3dbb6c){testPassed(_0x1e6b49['OBXKp']);result=_0x3dbb6c;shouldBe(_0x1e6b49['uYcRm'],'0');},function(){if(_0x1e6b49['IARHD'](_0x1e6b49['dBjVw'],_0x1e6b49['dBjVw'])){testFailed('Promise.all([p1, p2, p5]) is rejected.');}else{_0x1e6b49['PycZe'](testFailed,_0x1e6b49['ghAdU']);}});})['then'](function(){var _0x9e3b37={'URKsc':'result[0]','WLMkj':'result[2]','fymuz':'undefined','xpkqd':function(_0x1240af,_0x38f021,_0x518990){return _0x1240af(_0x38f021,_0x518990);},'dbcvB':'result[1]','fAOoO':function(_0x9eab9c,_0x25e31c){return _0x9eab9c(_0x25e31c);},'Wnzmw':function(_0x51835e,_0x5227d0){return _0x51835e!==_0x5227d0;},'AjSFp':'dyMqk','YOtsD':'Promise.all([p1, p2, p3]) is fulfilled.','dMHrM':function(_0x232641,_0x43f8d6,_0x4a0cda){return _0x232641(_0x43f8d6,_0x4a0cda);},'vuPXM':'result.length','sEvKq':function(_0xee9af9,_0x35dacf,_0x49185d){return _0xee9af9(_0x35dacf,_0x49185d);},'aUilA':'Promise.all([p1, p2, p3]) is rejected.'};return Promise['all']([p1,p2,p3])['then'](function(_0x3d3352){var _0x4b5f69={'ajBjU':'5|2|3|0|4|1','Khzwc':_0x9e3b37['URKsc'],'byuym':function(_0x488463,_0x418206,_0x3592ff){return _0x488463(_0x418206,_0x3592ff);},'bqasc':_0x9e3b37['WLMkj'],'VyrPa':_0x9e3b37['fymuz'],'dvIdN':function(_0x3d36dc,_0x342930,_0x423102){return _0x9e3b37['xpkqd'](_0x3d36dc,_0x342930,_0x423102);},'ftCOJ':'result.length','rDiPr':function(_0x16e88c,_0x285856,_0x1db054){return _0x9e3b37['xpkqd'](_0x16e88c,_0x285856,_0x1db054);},'UJdRN':_0x9e3b37['dbcvB'],'oGZRV':function(_0x165070,_0x371a9d){return _0x9e3b37['fAOoO'](_0x165070,_0x371a9d);}};if(_0x9e3b37['Wnzmw'](_0x9e3b37['AjSFp'],_0x9e3b37['AjSFp'])){var _0x2046e1=_0x4b5f69['ajBjU']['split']('|'),_0x111f0a=0x0;while(!![]){switch(_0x2046e1[_0x111f0a++]){case'0':shouldBeEqualToString(_0x4b5f69['Khzwc'],'p2');continue;case'1':_0x4b5f69['byuym'](shouldBe,_0x4b5f69['bqasc'],_0x4b5f69['VyrPa']);continue;case'2':result=_0x3d3352;continue;case'3':_0x4b5f69['dvIdN'](shouldBe,_0x4b5f69['ftCOJ'],'3');continue;case'4':_0x4b5f69['rDiPr'](shouldBe,_0x4b5f69['UJdRN'],'undefined');continue;case'5':_0x4b5f69['oGZRV'](testPassed,'Promise.all([p9,,,]) is fulfilled.');continue;}break;}}else{_0x9e3b37['fAOoO'](testPassed,_0x9e3b37['YOtsD']);result=_0x3d3352;_0x9e3b37['dMHrM'](shouldBe,_0x9e3b37['vuPXM'],'3');shouldBeEqualToString(_0x9e3b37['URKsc'],'p1');_0x9e3b37['sEvKq'](shouldBeEqualToString,'result[1]','p2');_0x9e3b37['sEvKq'](shouldBeEqualToString,_0x9e3b37['WLMkj'],'p3');}},function(){testFailed(_0x9e3b37['aUilA']);});})['then'](function(){var _0x54ee06={'nWilB':'Promise.all({}) is fulfilled.','zvqjQ':'LMsck','iEYtJ':'GgaZj','uvbOY':function(_0x2f9b42,_0x1b340){return _0x2f9b42(_0x1b340);},'pxgbm':function(_0x3b87ed,_0x2e221d,_0x328e0c){return _0x3b87ed(_0x2e221d,_0x328e0c);},'YiqrJ':'Promise.all([p1, p6, p5]) is fulfilled.','zxHlC':'fWEJu','EEYqF':'Promise.all([p1,\x20p6,\x20p5])\x20is\x20rejected.','ayoYn':function(_0xed0496,_0x959fd9,_0x3ecd40){return _0xed0496(_0x959fd9,_0x3ecd40);}};return Promise['all']([p1,p6,p5])['then'](function(_0x2fd375){var _0x51f255={'XEMTk':_0x54ee06['nWilB']};if(_0x54ee06['zvqjQ']!==_0x54ee06['iEYtJ']){_0x54ee06['uvbOY'](testFailed,'Promise.all([p1,\x20p6,\x20p5])\x20is\x20fulfilled.');}else{testFailed(_0x51f255['XEMTk']);}},function(_0x68f798){var _0x12f5ec={'tKtBs':_0x54ee06['YiqrJ']};if(_0x54ee06['zxHlC']!==_0x54ee06['zxHlC']){var _0x38af0f={'Yhyod':function(_0x5c2eb0,_0x12b6a8){return _0x5c2eb0(_0x12b6a8);},'yHDad':function(_0x3352a4,_0x48a5c5,_0x56e4de){return _0x54ee06['pxgbm'](_0x3352a4,_0x48a5c5,_0x56e4de);}};return Promise['all']([p1,p6,p5])['then'](function(_0x38dc17){testFailed(_0x12f5ec['tKtBs']);},function(_0x5d816f){_0x38af0f['Yhyod'](testPassed,'Promise.all([p1, p6, p5]) is rejected.');result=_0x5d816f;_0x38af0f['yHDad'](shouldBeEqualToString,'result','p6');});}else{_0x54ee06['uvbOY'](testPassed,_0x54ee06['EEYqF']);result=_0x68f798;_0x54ee06['ayoYn'](shouldBeEqualToString,'result','p6');}});})['then'](function(){var _0x4d398a={'OeQBm':function(_0x869750,_0x4af733){return _0x869750(_0x4af733);},'lYvxo':function(_0x490a81,_0x50f93c){return _0x490a81!==_0x50f93c;},'YqDfS':'Fptoc','AtEnm':'HaNGu','ideVl':'Promise.all([p9]) is fulfilled.','BfUIa':'result.length','JPewM':function(_0x44dd15,_0x3003cf,_0xfe8af0){return _0x44dd15(_0x3003cf,_0xfe8af0);},'Qhhsm':'result[0]','aRxMG':function(_0x54db18,_0x554338){return _0x54db18(_0x554338);},'dlLtz':'Promise.all([p9]) is rejected.'};return Promise['all']([p9])['then'](function(_0xfc8264){var _0x257ada={'CmmaC':function(_0x2a135b,_0x44b070){return _0x4d398a['OeQBm'](_0x2a135b,_0x44b070);},'zNLjZ':'Promise.all([p9,,,]) is rejected.'};if(_0x4d398a['lYvxo'](_0x4d398a['YqDfS'],_0x4d398a['AtEnm'])){_0x4d398a['OeQBm'](testPassed,_0x4d398a['ideVl']);result=_0xfc8264;shouldBe(_0x4d398a['BfUIa'],'1');_0x4d398a['JPewM'](shouldBeEqualToString,_0x4d398a['Qhhsm'],'p2');}else{_0x257ada['CmmaC'](testFailed,_0x257ada['zNLjZ']);}},function(_0x3d24b2){_0x4d398a['aRxMG'](testFailed,_0x4d398a['dlLtz']);});})['then'](function(){var _0xc6ea9c={'mNqBF':'5|2|4|0|1|3','QgNuc':function(_0x5a7049,_0x3e4358,_0x4cfafd){return _0x5a7049(_0x3e4358,_0x4cfafd);},'aHWvX':'result[0]','PugGJ':function(_0x19f42c,_0x117fb0,_0x8c4a37){return _0x19f42c(_0x117fb0,_0x8c4a37);},'DvKTB':'result[1]','PVDhS':'undefined','JaYwh':'result[2]','PqMRQ':function(_0x2791d4,_0x1d189d,_0x7f5e59){return _0x2791d4(_0x1d189d,_0x7f5e59);},'dgbLI':'result.length','frsqB':function(_0x4ece19,_0x24597d){return _0x4ece19(_0x24597d);},'jaTMG':'Promise.all([p9,,,]) is fulfilled.','MMIxh':'DfvMK','BVVeJ':function(_0x4e1d9d,_0x5d529e){return _0x4e1d9d(_0x5d529e);},'egRqv':'Promise.all([p9,,,])\x20is\x20rejected.'};return Promise['all']([p9,,,])['then'](function(_0xd099a){var _0x47af71=_0xc6ea9c['mNqBF']['split']('|'),_0x19cde1=0x0;while(!![]){switch(_0x47af71[_0x19cde1++]){case'0':_0xc6ea9c['QgNuc'](shouldBeEqualToString,_0xc6ea9c['aHWvX'],'p2');continue;case'1':_0xc6ea9c['PugGJ'](shouldBe,_0xc6ea9c['DvKTB'],_0xc6ea9c['PVDhS']);continue;case'2':result=_0xd099a;continue;case'3':_0xc6ea9c['PugGJ'](shouldBe,_0xc6ea9c['JaYwh'],'undefined');continue;case'4':_0xc6ea9c['PqMRQ'](shouldBe,_0xc6ea9c['dgbLI'],'3');continue;case'5':_0xc6ea9c['frsqB'](testPassed,_0xc6ea9c['jaTMG']);continue;}break;}},function(_0x18a934){var _0x524344={'qLoHe':function(_0x379a58,_0x5018f9){return _0xc6ea9c['frsqB'](_0x379a58,_0x5018f9);}};if(_0xc6ea9c['MMIxh']!==_0xc6ea9c['MMIxh']){_0x524344['qLoHe'](testFailed,'Promise.all()\x20is\x20fulfilled.');}else{_0xc6ea9c['BVVeJ'](testFailed,_0xc6ea9c['egRqv']);}});})['then'](function(){var _0x5eacd5={'OLPDr':function(_0x527d7c,_0x2e3960,_0x55e637){return _0x527d7c(_0x2e3960,_0x55e637);},'gmtUc':'result','hSQZg':function(_0x3f8961,_0x22f4ee){return _0x3f8961!==_0x22f4ee;},'AlCSP':'gUnrd','SHjeT':'2|4|0|1|3','LQIPg':function(_0x327433,_0x23fe87,_0x3cd3d0){return _0x327433(_0x23fe87,_0x3cd3d0);},'LWgjb':'result.length','OgLlr':function(_0x50d69a,_0x2cf048,_0x284887){return _0x50d69a(_0x2cf048,_0x284887);},'HJKPd':'result[0]','MtGxs':'result[1]','ZVBPm':function(_0xf39486,_0x1d2368){return _0xf39486(_0x1d2368);},'eqSlD':'sGWYM','GGVDb':function(_0x394240,_0xc0460b){return _0x394240(_0xc0460b);},'PeWZm':'Promise.all([p9,42]) is rejected.'};return Promise['all']([p9,0x2a])['then'](function(_0x165767){if(_0x5eacd5['hSQZg'](_0x5eacd5['AlCSP'],_0x5eacd5['AlCSP'])){testPassed('Promise.all([p1,\x20p6,\x20p5])\x20is\x20rejected.');result=_0x165767;_0x5eacd5['OLPDr'](shouldBeEqualToString,_0x5eacd5['gmtUc'],'p6');}else{var _0x483ff4=_0x5eacd5['SHjeT']['split']('|'),_0x1b3178=0x0;while(!![]){switch(_0x483ff4[_0x1b3178++]){case'0':_0x5eacd5['LQIPg'](shouldBe,_0x5eacd5['LWgjb'],'2');continue;case'1':_0x5eacd5['OgLlr'](shouldBeEqualToString,_0x5eacd5['HJKPd'],'p2');continue;case'2':testPassed('Promise.all([p9,42])\x20is\x20fulfilled.');continue;case'3':_0x5eacd5['OgLlr'](shouldBe,_0x5eacd5['MtGxs'],'42');continue;case'4':result=_0x165767;continue;}break;}}},function(_0x1ec40a){var _0x55c199={'fExgC':function(_0x164224,_0x3714c5){return _0x5eacd5['ZVBPm'](_0x164224,_0x3714c5);}};if(_0x5eacd5['eqSlD']===_0x5eacd5['eqSlD']){_0x5eacd5['GGVDb'](testFailed,_0x5eacd5['PeWZm']);}else{_0x55c199['fExgC'](reject,'p6');}});})['then'](function(){var _0x5b1604={'gIUHn':'Promise.all({}) is fulfilled.','sBuWa':function(_0x44411a,_0x283ba6){return _0x44411a(_0x283ba6);},'ygwhI':'Promise.all({}) is rejected.'};return Promise['all']({})['then'](function(_0x8a5181){testFailed(_0x5b1604['gIUHn']);},function(_0x5202db){_0x5b1604['sBuWa'](testPassed,_0x5b1604['ygwhI']);});})['then'](finishJSTest,finishJSTest);shouldBe('result','undefined');