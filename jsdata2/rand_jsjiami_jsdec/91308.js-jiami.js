import*as _0x5e238e from'./directory';import _0x4db32e from'../resource-schema';import _0x3152f6 from'@hapi/joi';import _0x4176de from'fs-extra';import _0x3f0ba from'path';jest['mock']('fs-extra');const root='fakeDir';describe('directory resource',()=>{var HtKxRc={'KLwgN':function(callee,param1){return callee(param1);},'qMvKf':function(callee,param1){return callee(param1);},'osZBu':function(callee,param1,param2){return callee(param1,param2);}};HtKxRc['osZBu'](test,'e2e directory resource test',async()=>{const context={'root':root};const initialObject={'path':'directory'};const partialUpdate={'path':'directory1'};const fullPath=_0x3f0ba['join'](root,initialObject['path']);const createPlan=await _0x5e238e['plan'](context,initialObject);expect(createPlan)['toBeTruthy']();expect(createPlan)['toMatchInlineSnapshot']('\n      Object {\n        "describe": "Create directory \"directory\"",\n      }\n    ');const createResponse=await _0x5e238e['create'](context,initialObject);const validateResult=_0x3152f6['validate'](createResponse,{..._0x5e238e['schema'],..._0x4db32e});expect(validateResult['error'])['toBeNull']();HtKxRc['KLwgN'](expect,_0x4176de['ensureDir'])['toHaveBeenCalledWith'](fullPath);HtKxRc['qMvKf'](expect,createResponse)['toMatchInlineSnapshot']('\n      Object {\n        "_message": "Created directory \"directory\"",\n        "id": "directory",\n        "path": "directory",\n      }\n    ');const readResponse=await _0x5e238e['read'](context,createResponse['id']);HtKxRc['qMvKf'](expect,readResponse)['toEqual'](createResponse);const updatedResource={...readResponse,...partialUpdate};const updatePlan=await _0x5e238e['plan'](context,updatedResource);expect(updatePlan)['toMatchInlineSnapshot']('\n      Object {\n        "describe": "Create directory \"directory1\"",\n      }\n    ');_0x4176de['ensureDir']['mockReset']();const updateResponse=await _0x5e238e['update'](context,updatedResource);expect(_0x4176de['ensureDir'])['toHaveBeenCalledWith'](fullPath);await _0x5e238e['destroy'](context,updateResponse);expect(_0x4176de['rmdir'])['toHaveBeenCalledWith'](fullPath);});});