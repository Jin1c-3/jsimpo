// Throughput benchmark
// creates a single hasher, then pushes a bunch of data through it
'use strict';const common=require('../common.js');const crypto=require('crypto');const bench=common['createBenchmark'](main,{'writes':[0x1f4],'algo':['sha256','md5'],'type':['asc','utf','buf'],'out':['hex','binary','buffer'],'len':[0x2,0x400,0x19000,0x400*0x400],'api':['legacy','stream']});function main({api,type,len,out,writes,algo}){var _0x38d2c8={'QSIok':function(_0x44ea9a,_0x50a6f2){return _0x44ea9a!==_0x50a6f2;},'BVGjr':function(_0x38f7a1,_0x4e0950){return _0x38f7a1===_0x4e0950;},'sIODD':'stream','jyTww':function(_0x2bf9cb,_0xb597de){return _0x2bf9cb!==_0xb597de;},'rhsIP':'Crypto streams not available until v0.10','TeqNs':'legacy','nriEU':'asc','fOajO':'ascii','csxJK':'utf8','keXQd':'buf','RNWup':function(_0x4af7ff,_0x3d21e4,_0x481e06,_0x29f135,_0x584ae7,_0x217268,_0x462de0){return _0x4af7ff(_0x3d21e4,_0x481e06,_0x29f135,_0x584ae7,_0x217268,_0x462de0);}};if(_0x38d2c8['BVGjr'](api,_0x38d2c8['sIODD'])&&/^v0\.[0-8]\./['test'](process['version'])){if(_0x38d2c8['jyTww']('EHbGT','EHbGT')){const _0x177d06=crypto['createHash'](algo);if(_0x38d2c8['QSIok'](outEnc,'buffer'))_0x177d06['setEncoding'](outEnc);_0x177d06['write'](_0x4b314c,_0x2b416c);_0x177d06['end']();_0x177d06['read']();}else{console['error'](_0x38d2c8['rhsIP']);api=_0x38d2c8['TeqNs'];}}let _0x4b314c;let _0x2b416c;switch(type){case _0x38d2c8['nriEU']:_0x4b314c='a'['repeat'](len);_0x2b416c=_0x38d2c8['fOajO'];break;case'utf':_0x4b314c='Ã¼'['repeat'](len/0x2);_0x2b416c=_0x38d2c8['csxJK'];break;case _0x38d2c8['keXQd']:_0x4b314c=Buffer['alloc'](len,'b');break;default:throw new Error('unknown message type: '+type);}const _0x431960=_0x38d2c8['BVGjr'](api,_0x38d2c8['sIODD'])?streamWrite:legacyWrite;bench['start']();_0x38d2c8['RNWup'](_0x431960,algo,_0x4b314c,_0x2b416c,writes,len,out);}function legacyWrite(_0x54f5b9,_0x256ecc,_0x265f13,_0x8bd2f9,_0x1b33cf,_0x484e00){var _0x5aa38c={'DWrzk':function(_0x3ba286,_0x169162){return _0x3ba286*_0x169162;},'GkjJv':function(_0x4ca6ef,_0x266db5){return _0x4ca6ef/_0x266db5;},'BrRuQ':function(_0x921c80,_0x2e529c){return _0x921c80*_0x2e529c;},'KIPGX':function(_0x49e034,_0x412c50){return _0x49e034>_0x412c50;},'hwlSP':function(_0x41c80f,_0x44ea30){return _0x41c80f===_0x44ea30;},'Xuhcw':function(_0x5d1def,_0x151c81){return _0x5d1def*_0x151c81;},'gdcDf':function(_0x1b8eae,_0x3dea91){return _0x1b8eae/_0x3dea91;},'QLsBq':function(_0x1561ec,_0x5a7679){return _0x1561ec*_0x5a7679;},'FMgIY':function(_0xa085c4,_0x494709){return _0xa085c4>_0x494709;},'BrYfz':function(_0x2b0a5e,_0x42ec1d){return _0x2b0a5e!==_0x42ec1d;},'XekHw':'pTTlB','wveTm':function(_0x48d9ee,_0x3b4433){return _0x48d9ee===_0x3b4433;},'PHyMh':'buffer','VTwEe':'string'};const _0x205186=_0x5aa38c['BrRuQ'](_0x8bd2f9,_0x1b33cf);const _0x2a14a7=_0x5aa38c['Xuhcw'](_0x205186,0x8);const _0x5768a3=_0x5aa38c['gdcDf'](_0x2a14a7,_0x5aa38c['QLsBq'](0x400,0x400)*0x400);while(_0x5aa38c['FMgIY'](_0x8bd2f9--,0x0)){if(_0x5aa38c['BrYfz'](_0x5aa38c['XekHw'],_0x5aa38c['XekHw'])){const _0x1f0283=_0x5aa38c['DWrzk'](_0x8bd2f9,_0x1b33cf);const _0x43dd29=_0x5aa38c['DWrzk'](_0x1f0283,0x8);const _0x53bc1b=_0x5aa38c['GkjJv'](_0x43dd29,_0x5aa38c['BrRuQ'](0x400,0x400)*0x400);while(_0x5aa38c['KIPGX'](_0x8bd2f9--,0x0)){const _0x1d2cec=crypto['createHash'](_0x54f5b9);_0x1d2cec['update'](_0x256ecc,_0x265f13);let _0x3fae46=_0x1d2cec['digest'](_0x484e00);if(_0x5aa38c['hwlSP'](_0x484e00,'buffer')&&_0x5aa38c['hwlSP'](typeof _0x3fae46,'string'))_0x3fae46=Buffer['from'](_0x3fae46,'binary');}bench['end'](_0x53bc1b);}else{const _0x496efd=crypto['createHash'](_0x54f5b9);_0x496efd['update'](_0x256ecc,_0x265f13);let _0x47f2e4=_0x496efd['digest'](_0x484e00);if(_0x5aa38c['wveTm'](_0x484e00,_0x5aa38c['PHyMh'])&&_0x5aa38c['wveTm'](typeof _0x47f2e4,_0x5aa38c['VTwEe']))_0x47f2e4=Buffer['from'](_0x47f2e4,'binary');}}bench['end'](_0x5768a3);}function streamWrite(_0x1bc8e5,_0x734752,_0x4543e5,_0x421d89,_0x2835d3,_0x23e66f){var _0x18362a={'FRLSZ':function(_0x432674,_0x394700){return _0x432674*_0x394700;},'WMnlJ':function(_0x13fb1d,_0x1c7b65){return _0x13fb1d*_0x1c7b65;},'eIJHT':function(_0x3c2a26,_0x6f3496){return _0x3c2a26/_0x6f3496;},'MFHBa':function(_0x46a63b,_0x41324f){return _0x46a63b*_0x41324f;},'vJCjh':function(_0x3da902,_0x34afa7){return _0x3da902*_0x34afa7;},'TSqwp':function(_0x1cef4a,_0x54258e){return _0x1cef4a>_0x54258e;},'Enito':function(_0x521aa2,_0x572e11){return _0x521aa2!==_0x572e11;},'MLKZb':'buffer'};const _0x357d7f=_0x18362a['FRLSZ'](_0x421d89,_0x2835d3);const _0x1f4736=_0x18362a['WMnlJ'](_0x357d7f,0x8);const _0x1002ef=_0x18362a['eIJHT'](_0x1f4736,_0x18362a['MFHBa'](_0x18362a['vJCjh'](0x400,0x400),0x400));while(_0x18362a['TSqwp'](_0x421d89--,0x0)){const _0x5d76d6=crypto['createHash'](_0x1bc8e5);if(_0x18362a['Enito'](_0x23e66f,_0x18362a['MLKZb']))_0x5d76d6['setEncoding'](_0x23e66f);_0x5d76d6['write'](_0x734752,_0x4543e5);_0x5d76d6['end']();_0x5d76d6['read']();}bench['end'](_0x1002ef);}