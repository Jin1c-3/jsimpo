'use strict';const Select=require('./select');const highlight=(_0x17abde,_0x1f1842)=>{var _0x2aa903={'OjZOC':function(_0xc754e2,_0xc6dfbd){return _0xc754e2(_0xc6dfbd);},'frVBF':function(_0x5325e9,_0x18c7e3){return _0x5325e9+_0x18c7e3;},'AcGEf':function(_0x2c2cad,_0x4c41b9){return _0x2c2cad>=_0x4c41b9;}};let _0x3d3c6d=_0x17abde['toLowerCase']();return _0xc283b6=>{let _0x58ea86=_0xc283b6['toLowerCase']();let _0x5d1077=_0x58ea86['indexOf'](_0x3d3c6d);let _0x53cf04=_0x2aa903['OjZOC'](_0x1f1842,_0xc283b6['slice'](_0x5d1077,_0x2aa903['frVBF'](_0x5d1077,_0x3d3c6d['length'])));return _0x2aa903['AcGEf'](_0x5d1077,0x0)?_0x2aa903['frVBF'](_0xc283b6['slice'](0x0,_0x5d1077),_0x53cf04)+_0xc283b6['slice'](_0x2aa903['frVBF'](_0x5d1077,_0x3d3c6d['length'])):_0xc283b6;};};class AutoComplete extends Select{constructor(_0x1e83e2){super(_0x1e83e2);this['cursorShow']();}['moveCursor'](_0x45ae24){this['state']['cursor']+=_0x45ae24;}['dispatch'](_0x6f2c52){return this['append'](_0x6f2c52);}['space'](_0x172de8){return this['options']['multiple']?super['space'](_0x172de8):this['append'](_0x172de8);}['append'](_0x43f630){var _0x49330e={'Yxxbo':function(_0x4c09f8,_0x17d9a9){return _0x4c09f8+_0x17d9a9;},'UaFUt':function(_0xf38871,_0x3afa8a){return _0xf38871+_0x3afa8a;}};let {cursor,input}=this['state'];this['input']=_0x49330e['Yxxbo'](_0x49330e['UaFUt'](input['slice'](0x0,cursor),_0x43f630),input['slice'](cursor));this['moveCursor'](0x1);return this['complete']();}['delete'](){var _0x2c235d={'tPAzQ':function(_0x13b8ed,_0x5d71da){return _0x13b8ed+_0x5d71da;},'TRArV':function(_0x22be79,_0xd7be07){return _0x22be79-_0xd7be07;}};let {cursor,input}=this['state'];if(!input)return this['alert']();this['input']=_0x2c235d['tPAzQ'](input['slice'](0x0,_0x2c235d['TRArV'](cursor,0x1)),input['slice'](cursor));this['moveCursor'](-0x1);return this['complete']();}['deleteForward'](){var _0x40a34a={'EOrvt':function(_0x506a92,_0xda1a80){return _0x506a92===_0xda1a80;},'TQdJk':function(_0xcdf516,_0xe2fd07){return _0xcdf516+_0xe2fd07;}};let {cursor,input}=this['state'];if(_0x40a34a['EOrvt'](input[cursor],void 0x0))return this['alert']();this['input']=_0x40a34a['TQdJk']((''+input)['slice'](0x0,cursor),(''+input)['slice'](cursor+0x1));return this['complete']();}['number'](_0x49cd5d){return this['append'](_0x49cd5d);}async['complete'](){var _0x43fc73={'BDADu':function(_0x32c99a,_0x26cdb7){return _0x32c99a-_0x26cdb7;}};this['completing']=!![];this['choices']=await this['suggest'](this['input'],this['state']['_choices']);this['state']['limit']=void 0x0;this['index']=Math['min'](Math['max'](_0x43fc73['BDADu'](this['visible']['length'],0x1),0x0),this['index']);await this['render']();this['completing']=![];}['suggest'](_0x39a987=this['input'],_0x41935b=this['state']['_choices']){var _0x358892={'QJAhr':function(_0x47edd9,_0x4187a5){return _0x47edd9===_0x4187a5;},'lRUIO':function(_0x174fa8,_0x360ff5){return _0x174fa8===_0x360ff5;},'MglwO':'Cmrds'};if(_0x358892['QJAhr'](typeof this['options']['suggest'],'function')){if(_0x358892['lRUIO']('GctSC',_0x358892['MglwO'])){return this['options']['suggest']['call'](this,_0x39a987,_0x41935b);}else{return this['options']['suggest']['call'](this,_0x39a987,_0x41935b);}}let _0x22148a=_0x39a987['toLowerCase']();return _0x41935b['filter'](_0x221d1b=>_0x221d1b['message']['toLowerCase']()['includes'](_0x22148a));}['pointer'](){return'';}['format'](){var _0x317127={'ZgqPe':function(_0x3abd21,_0x3117bb){return _0x3abd21===_0x3117bb;},'uBLck':'WzAGk'};if(!this['focused'])return this['input'];if(this['options']['multiple']&&this['state']['submitted']){if(_0x317127['ZgqPe'](_0x317127['uBLck'],_0x317127['uBLck'])){return this['selected']['map'](_0x564267=>this['styles']['primary'](_0x564267['message']))['join'](',\x20');}else{return this['append'](ch);}}if(this['state']['submitted']){let _0x172c8d=this['value']=this['input']=this['focused']['value'];return this['styles']['primary'](_0x172c8d);}return this['input'];}async['render'](){var _0xf3571b={'wruKE':'pending','IsLqW':function(_0x5b10f9,_0x5948a3,_0x4b2cfd){return _0x5b10f9(_0x5948a3,_0x4b2cfd);}};if(this['state']['status']!==_0xf3571b['wruKE'])return super['render']();let _0x2e990c=this['options']['highlight']?this['options']['highlight']['bind'](this):this['styles']['placeholder'];let _0x1d2116=_0xf3571b['IsLqW'](highlight,this['input'],_0x2e990c);let _0x40279f=this['choices'];this['choices']=_0x40279f['map'](_0x52f047=>({..._0x52f047,'message':_0x1d2116(_0x52f047['message'])}));await super['render']();this['choices']=_0x40279f;}['submit'](){var _0x5227b0={'eNPFa':'UMYfZ'};if(this['options']['multiple']){if(_0x5227b0['eNPFa']==='LLtgg'){let {cursor,input}=this['state'];if(!input)return this['alert']();this['input']=input['slice'](0x0,cursor-0x1)+input['slice'](cursor);this['moveCursor'](-0x1);return this['complete']();}else{this['value']=this['selected']['map'](_0x27c8ea=>_0x27c8ea['name']);}}return super['submit']();}}module['exports']=AutoComplete;