import{findPort,killApp,launchApp,nextBuild,nextStart}from'next-test-utils';import _0x134488 from'next-webdriver';import{join}from'path';jest['setTimeout'](0x3e8*0x3c);const appDir=join(__dirname,'../');let appPort;let app;let browser;function runTests(){var EYCOSI={'OqFnu':'src','CrmxP':function(callee,param1){return callee(param1);},'eGUSE':'internal','AgobU':'/_next/image?url=%2F%C3%A4%C3%B6%C3%BC.png','SMeJi':function(callee,param1){return callee(param1);},'lOxCO':'external','hHDaJ':function(callee,param1){return callee(param1);},'BiUHN':function(callee,param1){return callee(param1);},'YoosA':'internal-space','jNopI':function(callee,param1){return callee(param1);},'LYlbD':'/_next/image?url=%2Fhello%2520world.jpg','cVmkU':'external-space','wrdUy':'/_next/image?url=https%3A%2F%2Fimage-optimization-test.vercel.app%2Fhello%2520world.jpg','dSVxu':function(callee,param1){return callee(param1);},'cevwS':function(callee,param1,param2){return callee(param1,param2);},'JOcqE':'should load static unicode image','RTtDH':'should load internal unicode image','rkyjW':'should load external unicode image','DBNFN':function(callee,param1,param2){return callee(param1,param2);},'Lwvfc':'should load internal image with space'};EYCOSI['cevwS'](it,EYCOSI['JOcqE'],async()=>{const src=await browser['elementById']('static')['getAttribute'](EYCOSI['OqFnu']);EYCOSI['CrmxP'](expect,src)['toMatch'](/_next%2Fstatic%2Fimage%2Fpublic%2F%C3%A4%C3%B6%C3%BC(.+)png/);const res=await fetch(src);expect(res['status'])['toBe'](0xc8);});EYCOSI['cevwS'](it,EYCOSI['RTtDH'],async()=>{const src=await browser['elementById'](EYCOSI['eGUSE'])['getAttribute'](EYCOSI['OqFnu']);EYCOSI['CrmxP'](expect,src)['toMatch'](EYCOSI['AgobU']);const res=await EYCOSI['CrmxP'](fetch,src);EYCOSI['SMeJi'](expect,res['status'])['toBe'](0xc8);});it(EYCOSI['rkyjW'],async()=>{const src=await browser['elementById'](EYCOSI['lOxCO'])['getAttribute'](EYCOSI['OqFnu']);EYCOSI['hHDaJ'](expect,src)['toMatch']('/_next/image?url=https%3A%2F%2Fimage-optimization-test.vercel.app%2F%C3%A4%C3%B6%C3%BC.png');const res=await fetch(src);EYCOSI['BiUHN'](expect,res['status'])['toBe'](0xc8);});EYCOSI['DBNFN'](it,EYCOSI['Lwvfc'],async()=>{const src=await browser['elementById'](EYCOSI['YoosA'])['getAttribute'](EYCOSI['OqFnu']);EYCOSI['jNopI'](expect,src)['toMatch'](EYCOSI['LYlbD']);const res=await EYCOSI['jNopI'](fetch,src);expect(res['status'])['toBe'](0xc8);});EYCOSI['DBNFN'](it,'should load external image with space',async()=>{const src=await browser['elementById'](EYCOSI['cVmkU'])['getAttribute'](EYCOSI['OqFnu']);EYCOSI['jNopI'](expect,src)['toMatch'](EYCOSI['wrdUy']);const res=await EYCOSI['jNopI'](fetch,src);EYCOSI['dSVxu'](expect,res['status'])['toBe'](0xc8);});}describe('Image Component Unicode Image URL',()=>{var aqBNxl={'aagDm':function(callee,param1,param2){return callee(param1,param2);},'rYakA':function(callee,param1){return callee(param1);},'vQBaa':function(callee){return callee();},'KweMr':function(callee,param1){return callee(param1);},'WNVXy':function(callee){return callee();},'BWbRl':function(callee,param1){return callee(param1);},'GEQco':function(callee,param1){return callee(param1);},'lrPFu':'dev mode','mRanm':function(callee,param1,param2){return callee(param1,param2);},'IDCEm':'server mode'};aqBNxl['aagDm'](describe,aqBNxl['lrPFu'],()=>{var egkdyf={'NOWzp':function(callee,param1){return callee(param1);}};aqBNxl['rYakA'](beforeAll,async()=>{appPort=await findPort();app=await aqBNxl['aagDm'](launchApp,appDir,appPort);browser=await aqBNxl['aagDm'](_0x134488,appPort,'/');});aqBNxl['rYakA'](afterAll,()=>{egkdyf['NOWzp'](killApp,app);if(browser){browser['close']();}});aqBNxl['vQBaa'](runTests);});aqBNxl['mRanm'](describe,aqBNxl['IDCEm'],()=>{var DjMoUY={'yvmjP':function(callee,param1){return aqBNxl['KweMr'](callee,param1);},'uyShx':function(callee){return aqBNxl['WNVXy'](callee);},'LpJak':function(callee,param1,param2){return callee(param1,param2);}};aqBNxl['BWbRl'](beforeAll,async()=>{await DjMoUY['yvmjP'](nextBuild,appDir);appPort=await DjMoUY['uyShx'](findPort);app=await DjMoUY['LpJak'](nextStart,appDir,appPort);browser=await DjMoUY['LpJak'](_0x134488,appPort,'/');});aqBNxl['GEQco'](afterAll,()=>{DjMoUY['yvmjP'](killApp,app);if(browser){browser['close']();}});runTests();});});