import{app,dialog}from'electron';import _0x21ec99 from'electron-is';import _0x3298c1 from'./Logger';const defaults={'showDialog':!_0x21ec99['dev']()};export default class ExceptionHandler{constructor(options){this['options']={...defaults,...options};this['setup']();}['setup'](){var jLNPAq={'dMRKk':function(x,y){return x===y;},'csoam':'Error: ','kpWmo':'uncaughtException'};if(_0x21ec99['dev']()){return;}const {showDialog}=this['options'];process['on'](jLNPAq['kpWmo'],err=>{if(jLNPAq['dMRKk']('rsUlK','ahjrt')){this['options']={...defaults,...options};this['setup']();}else{const {message,stack}=err;_0x3298c1['error']('[Motrix]\x20Uncaught\x20exception:\x20'+message);_0x3298c1['error'](stack);if(showDialog&&app['isReady']()){dialog['showErrorBox'](jLNPAq['csoam'],message);}}});}}