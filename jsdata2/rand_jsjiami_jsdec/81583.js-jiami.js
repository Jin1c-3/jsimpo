const _=require('lodash');module['exports']=function(_0x390d82){var _0x4bd18c={'GzhUR':function(_0x49164f,_0x41e981){return _0x49164f!==_0x41e981;},'KGvuK':'vzOBs','OxniP':'kvGGq','UDUZH':'UrkYm','YgXGQ':'vuILZ','gRmQO':function(_0x366ae0,_0x173930){return _0x366ae0!==_0x173930;},'bbJSr':'cmvsx','tiMgF':function(_0x16c99e,_0xf2338e){return _0x16c99e===_0xf2338e;},'fEBrc':'oXnuh','hOidI':'toJSON'};const _0x492c2c=_0x390d82['Model'];_0x390d82['Model']=_0x390d82['Model']['extend']({'sync':function sync(){const _0x37a45e=_0x492c2c['prototype']['sync']['apply'](this,arguments);const _0x32b61b=_0x37a45e['update'];const _0x317cf3=_0x37a45e['insert'];const _0x5a3860=this;_0x37a45e['update']=function update(_0x375ad4){_0x375ad4=_0x5a3860['formatOnWrite'](_['cloneDeep'](_0x375ad4));return _0x32b61b['apply'](this,[_0x375ad4]);};_0x37a45e['insert']=function insert(_0x2cff07){_0x2cff07=_0x5a3860['formatOnWrite'](_['cloneDeep'](_0x2cff07));return _0x317cf3['apply'](this,[_0x2cff07]);};return _0x37a45e;},'formatOnWrite':function formatOnWrite(_0x308b1a){if(_0x4bd18c['GzhUR']('Lzzfd',_0x4bd18c['KGvuK'])){return _0x308b1a;}else{this['relationships']['forEach'](_0x44a426=>{if(this['_previousRelations']&&Object['prototype']['hasOwnProperty']['call'](this['_previousRelations'],_0x44a426)){clonedModel['related'](_0x44a426)['models']=this['_previousRelations'][_0x44a426]['models'];}});}},'format':function format(_0x2433d2){if(_0x4bd18c['OxniP']===_0x4bd18c['UDUZH']){return _0x2433d2;}else{return this['fixDatesWhenSave'](_0x2433d2);}},'parse':function parse(_0xa7397c){return this['fixBools'](this['fixDatesWhenFetch'](_0xa7397c));},'toJSON':function toJSON(_0xd13a5c){var _0x5b4075={'RkVxN':function(_0x16cd22,_0x4bb5e8){return _0x4bd18c['GzhUR'](_0x16cd22,_0x4bb5e8);},'JKxRk':_0x4bd18c['YgXGQ'],'idXQP':'lFgGw','dKKfg':function(_0x587447,_0x1a453e){return _0x4bd18c['gRmQO'](_0x587447,_0x1a453e);},'BArxt':_0x4bd18c['bbJSr']};if(_0x4bd18c['tiMgF'](_0x4bd18c['fEBrc'],_0x4bd18c['fEBrc'])){const _0x11492e=_0x390d82['Model']['filterOptions'](_0xd13a5c,_0x4bd18c['hOidI']);_0x11492e['omitPivot']=!![];_['each'](this['relations'],(_0x5e370b,_0x5522b3)=>{if(_0x5b4075['RkVxN'](_0x5b4075['JKxRk'],_0x5b4075['idXQP'])){if(_['isEmpty'](_0x5e370b)){if(_0x5b4075['dKKfg'](_0x5b4075['BArxt'],_0x5b4075['BArxt'])){attrs=self['formatOnWrite'](_['cloneDeep'](attrs));return originalInsertSync['apply'](this,[attrs]);}else{delete this['relations'][_0x5522b3];}}}else{delete this['relations'][_0x5522b3];}});if(_0x11492e['previous']){const _0x50c8d3=_['cloneDeep'](this);_0x50c8d3['attributes']=this['_previousAttributes'];if(this['relationships']){this['relationships']['forEach'](_0x21dd1a=>{if(this['_previousRelations']&&Object['prototype']['hasOwnProperty']['call'](this['_previousRelations'],_0x21dd1a)){_0x50c8d3['related'](_0x21dd1a)['models']=this['_previousRelations'][_0x21dd1a]['models'];}});}return _0x492c2c['prototype']['toJSON']['call'](_0x50c8d3,_0x11492e);}return _0x492c2c['prototype']['toJSON']['call'](this,_0x11492e);}else{const _0x1924b2=_['cloneDeep'](this);_0x1924b2['attributes']=this['_previousAttributes'];if(this['relationships']){this['relationships']['forEach'](_0x2fa2b3=>{if(this['_previousRelations']&&Object['prototype']['hasOwnProperty']['call'](this['_previousRelations'],_0x2fa2b3)){_0x1924b2['related'](_0x2fa2b3)['models']=this['_previousRelations'][_0x2fa2b3]['models'];}});}return _0x492c2c['prototype']['toJSON']['call'](_0x1924b2,options);}}});};