const express = require('../../../../../shared/express');
const api = require('../../../../api')['v2'];
const mw = require('./middleware');
const apiMw = require('../../middleware');
const shared = require('../../../shared');
module['exports'] = function apiRoutes() {
    const _0x2bc5e6 = express['Router']('v2 admin');
    _0x2bc5e6['del'] = _0x2bc5e6['delete'];
    _0x2bc5e6['use'](apiMw['cors']);
    const _0x5c36ce = api['http'];
    _0x2bc5e6['get']('/site', mw['publicAdminApi'], _0x5c36ce(api['site']['read']));
    _0x2bc5e6['get']('/config', mw['authAdminApi'], _0x5c36ce(api['config']['read']));
    _0x2bc5e6['get']('/posts', mw['authAdminApi'], _0x5c36ce(api['posts']['browse']));
    _0x2bc5e6['post']('/posts', mw['authAdminApi'], _0x5c36ce(api['posts']['add']));
    _0x2bc5e6['get']('/posts/:id', mw['authAdminApi'], _0x5c36ce(api['posts']['read']));
    _0x2bc5e6['get']('/posts/slug/:slug', mw['authAdminApi'], _0x5c36ce(api['posts']['read']));
    _0x2bc5e6['put']('/posts/:id', mw['authAdminApi'], _0x5c36ce(api['posts']['edit']));
    _0x2bc5e6['del']('/posts/:id', mw['authAdminApi'], _0x5c36ce(api['posts']['destroy']));
    _0x2bc5e6['get']('/pages', mw['authAdminApi'], _0x5c36ce(api['pages']['browse']));
    _0x2bc5e6['post']('/pages', mw['authAdminApi'], _0x5c36ce(api['pages']['add']));
    _0x2bc5e6['get']('/pages/:id', mw['authAdminApi'], _0x5c36ce(api['pages']['read']));
    _0x2bc5e6['get']('/pages/slug/:slug', mw['authAdminApi'], _0x5c36ce(api['pages']['read']));
    _0x2bc5e6['put']('/pages/:id', mw['authAdminApi'], _0x5c36ce(api['pages']['edit']));
    _0x2bc5e6['del']('/pages/:id', mw['authAdminApi'], _0x5c36ce(api['pages']['destroy']));
    _0x2bc5e6['get']('/integrations', mw['authAdminApi'], _0x5c36ce(api['integrations']['browse']));
    _0x2bc5e6['get']('/integrations/:id', mw['authAdminApi'], _0x5c36ce(api['integrations']['read']));
    _0x2bc5e6['post']('/integrations', mw['authAdminApi'], _0x5c36ce(api['integrations']['add']));
    _0x2bc5e6['put']('/integrations/:id', mw['authAdminApi'], _0x5c36ce(api['integrations']['edit']));
    _0x2bc5e6['del']('/integrations/:id', mw['authAdminApi'], _0x5c36ce(api['integrations']['destroy']));
    _0x2bc5e6['put']('/schedules/:resource/:id', mw['authAdminApiWithUrl'], _0x5c36ce(api['schedules']['publish']));
    _0x2bc5e6['get']('/settings/routes/yaml', mw['authAdminApi'], _0x5c36ce(api['settings']['download']));
    _0x2bc5e6['post']('/settings/routes/yaml', mw['authAdminApi'], apiMw['upload']['single']('routes'), apiMw['upload']['validation']({ 'type': 'routes' }), _0x5c36ce(api['settings']['upload']));
    _0x2bc5e6['get']('/settings', mw['authAdminApi'], _0x5c36ce(api['settings']['browse']));
    _0x2bc5e6['get']('/settings/:key', mw['authAdminApi'], _0x5c36ce(api['settings']['read']));
    _0x2bc5e6['put']('/settings', mw['authAdminApi'], _0x5c36ce(api['settings']['edit']));
    _0x2bc5e6['get']('/users', mw['authAdminApi'], _0x5c36ce(api['users']['browse']));
    _0x2bc5e6['get']('/users/:id', mw['authAdminApi'], _0x5c36ce(api['users']['read']));
    _0x2bc5e6['get']('/users/slug/:slug', mw['authAdminApi'], _0x5c36ce(api['users']['read']));
    _0x2bc5e6['get']('/users/email/:email', mw['authAdminApi'], _0x5c36ce(api['users']['read']));
    _0x2bc5e6['put']('/users/password', mw['authAdminApi'], _0x5c36ce(api['users']['changePassword']));
    _0x2bc5e6['put']('/users/owner', mw['authAdminApi'], _0x5c36ce(api['users']['transferOwnership']));
    _0x2bc5e6['put']('/users/:id', mw['authAdminApi'], _0x5c36ce(api['users']['edit']));
    _0x2bc5e6['del']('/users/:id', mw['authAdminApi'], _0x5c36ce(api['users']['destroy']));
    _0x2bc5e6['get']('/tags', mw['authAdminApi'], _0x5c36ce(api['tags']['browse']));
    _0x2bc5e6['get']('/tags/:id', mw['authAdminApi'], _0x5c36ce(api['tags']['read']));
    _0x2bc5e6['get']('/tags/slug/:slug', mw['authAdminApi'], _0x5c36ce(api['tags']['read']));
    _0x2bc5e6['post']('/tags', mw['authAdminApi'], _0x5c36ce(api['tags']['add']));
    _0x2bc5e6['put']('/tags/:id', mw['authAdminApi'], _0x5c36ce(api['tags']['edit']));
    _0x2bc5e6['del']('/tags/:id', mw['authAdminApi'], _0x5c36ce(api['tags']['destroy']));
    _0x2bc5e6['get']('/roles/', mw['authAdminApi'], _0x5c36ce(api['roles']['browse']));
    _0x2bc5e6['get']('/slugs/:type/:name', mw['authAdminApi'], _0x5c36ce(api['slugs']['generate']));
    _0x2bc5e6['get']('/themes/', mw['authAdminApi'], _0x5c36ce(api['themes']['browse']));
    _0x2bc5e6['get']('/themes/:name/download', mw['authAdminApi'], _0x5c36ce(api['themes']['download']));
    _0x2bc5e6['post']('/themes/upload', mw['authAdminApi'], apiMw['upload']['single']('file'), apiMw['upload']['validation']({ 'type': 'themes' }), _0x5c36ce(api['themes']['upload']));
    _0x2bc5e6['put']('/themes/:name/activate', mw['authAdminApi'], _0x5c36ce(api['themes']['activate']));
    _0x2bc5e6['del']('/themes/:name', mw['authAdminApi'], _0x5c36ce(api['themes']['destroy']));
    _0x2bc5e6['get']('/notifications', mw['authAdminApi'], _0x5c36ce(api['notifications']['browse']));
    _0x2bc5e6['post']('/notifications', mw['authAdminApi'], _0x5c36ce(api['notifications']['add']));
    _0x2bc5e6['del']('/notifications/:notification_id', mw['authAdminApi'], _0x5c36ce(api['notifications']['destroy']));
    _0x2bc5e6['get']('/db', mw['authAdminApi'], _0x5c36ce(api['db']['exportContent']));
    _0x2bc5e6['post']('/db', mw['authAdminApi'], apiMw['upload']['single']('importfile'), apiMw['upload']['validation']({ 'type': 'db' }), _0x5c36ce(api['db']['importContent']));
    _0x2bc5e6['del']('/db', mw['authAdminApi'], _0x5c36ce(api['db']['deleteAllContent']));
    _0x2bc5e6['post']('/db/backup', mw['authAdminApi'], _0x5c36ce(api['db']['backupContent']));
    _0x2bc5e6['post']('/mail', mw['authAdminApi'], _0x5c36ce(api['mail']['send']));
    _0x2bc5e6['post']('/mail/test', mw['authAdminApi'], _0x5c36ce(api['mail']['sendTest']));
    _0x2bc5e6['post']('/slack/test', mw['authAdminApi'], _0x5c36ce(api['slack']['sendTest']));
    _0x2bc5e6['get']('/session', mw['authAdminApi'], _0x5c36ce(api['session']['read']));
    _0x2bc5e6['post']('/session', shared['middlewares']['brute']['globalBlock'], shared['middlewares']['brute']['userLogin'], _0x5c36ce(api['session']['add']));
    _0x2bc5e6['del']('/session', mw['authAdminApi'], _0x5c36ce(api['session']['delete']));
    _0x2bc5e6['post']('/authentication/passwordreset', shared['middlewares']['brute']['globalReset'], shared['middlewares']['brute']['userReset'], _0x5c36ce(api['authentication']['generateResetToken']));
    _0x2bc5e6['put']('/authentication/passwordreset', shared['middlewares']['brute']['globalBlock'], _0x5c36ce(api['authentication']['resetPassword']));
    _0x2bc5e6['post']('/authentication/invitation', _0x5c36ce(api['authentication']['acceptInvitation']));
    _0x2bc5e6['get']('/authentication/invitation', _0x5c36ce(api['authentication']['isInvitation']));
    _0x2bc5e6['post']('/authentication/setup', _0x5c36ce(api['authentication']['setup']));
    _0x2bc5e6['put']('/authentication/setup', mw['authAdminApi'], _0x5c36ce(api['authentication']['updateSetup']));
    _0x2bc5e6['get']('/authentication/setup', _0x5c36ce(api['authentication']['isSetup']));
    _0x2bc5e6['post']('/images/upload', mw['authAdminApi'], apiMw['upload']['single']('file'), apiMw['upload']['validation']({ 'type': 'images' }), apiMw['normalizeImage'], _0x5c36ce(api['images']['upload']));
    _0x2bc5e6['get']('/invites', mw['authAdminApi'], _0x5c36ce(api['invites']['browse']));
    _0x2bc5e6['get']('/invites/:id', mw['authAdminApi'], _0x5c36ce(api['invites']['read']));
    _0x2bc5e6['post']('/invites', mw['authAdminApi'], _0x5c36ce(api['invites']['add']));
    _0x2bc5e6['del']('/invites/:id', mw['authAdminApi'], _0x5c36ce(api['invites']['destroy']));
    _0x2bc5e6['get']('/redirects/json', mw['authAdminApi'], _0x5c36ce(api['redirects']['download']));
    _0x2bc5e6['post']('/redirects/json', mw['authAdminApi'], apiMw['upload']['single']('redirects'), apiMw['upload']['validation']({ 'type': 'redirects' }), _0x5c36ce(api['redirects']['upload']));
    _0x2bc5e6['post']('/webhooks', mw['authAdminApi'], _0x5c36ce(api['webhooks']['add']));
    _0x2bc5e6['put']('/webhooks/:id', mw['authAdminApi'], _0x5c36ce(api['webhooks']['edit']));
    _0x2bc5e6['del']('/webhooks/:id', mw['authAdminApi'], _0x5c36ce(api['webhooks']['destroy']));
    _0x2bc5e6['get']('/oembed', mw['authAdminApi'], _0x5c36ce(api['oembed']['read']));
    _0x2bc5e6['get']('/actions/:type/:id', mw['authAdminApi'], _0x5c36ce(api['actions']['browse']));
    return _0x2bc5e6;
};