const _0x225c = [
    'we\x20chose\x20the\x20one\x20middleware',
    'getMiddleware',
    'pop',
    'video/bar',
    'http://example.com/video.mp4',
    'video/mp4',
    'we\x20got\x20two\x20middleware',
    'foomw\x20is\x20the\x20first\x20middleware',
    'barmw\x20is\x20the\x20first\x20middleware',
    'setSource\x20will\x20select\x20all\x20middleware\x20of\x20a\x20given\x20type,\x20until\x20src\x20change',
    'bar',
    'pause',
    'pauseCalled\x20was\x20called\x20once\x20and\x20no\x20error\x20was\x20thrown',
    'the\x20factory\x20was\x20called\x20once',
    'the\x20factory\x20was\x20not\x20called\x20again',
    'a\x20middleware\x20factory\x20is\x20called\x20on\x20a\x20new\x20source\x20with\x20a\x20new\x20player',
    'vid2',
    'the\x20factory\x20was\x20called\x20again',
    'a\x20middleware\x20without\x20a\x20setSource\x20gets\x20chosen\x20implicitly',
    'we\x20have\x201\x20middleware\x20set',
    '52425VWMvTb',
    '32788SLnWRJ',
    '18bCCuFE',
    '535109DvzDzo',
    '2xlhlRy',
    '587182QYLfub',
    '1WtQmFE',
    '364531FsAhdv',
    '486361UolYNl',
    '339938HZQbaR',
    'clock',
    'useFakeTimers',
    'test',
    'middleware\x20can\x20be\x20added\x20with\x20the\x20use\x20method',
    'foo',
    'we\x20are\x20able\x20to\x20add\x20middleware',
    'middleware\x20get\x20iterates\x20through\x20the\x20middleware\x20array\x20in\x20the\x20right\x20order',
    'push',
    'get',
    'currentTime',
    'duration',
    'equal',
    'our\x20middleware\x20chain\x20return\x20currectly\x20for\x20',
    'we\x20got\x20called\x20in\x20the\x20correct\x20order\x20for\x20',
    'set',
    'deepEqual',
    'mediate',
    'play',
    'middleware\x20got\x20called\x20the\x20same\x20number\x20of\x20times',
    'both\x20middleware\x20got\x20called\x20before\x20the\x20tech',
    'the\x20tech\x20method\x20only\x20gets\x20called\x20once',
    'both\x20middleware\x20got\x20called\x20after\x20the\x20tech',
    'the\x20value\x20returned\x20by\x20the\x20tech\x20is\x20passed\x20through\x20the\x20middleware',
    'the\x20value\x20returned\x20to\x20the\x20player\x20is\x20the\x20value\x20returned\x20from\x20the\x20tech',
    'the\x20play\x20has\x20not\x20been\x20cancelled\x20in\x20middleware\x201',
    'the\x20play\x20has\x20not\x20been\x20cancelled\x20in\x20middleware\x202',
    'middleware\x20mediate\x20allows\x20and\x20can\x20detect\x20cancellation',
    'both\x20middleware\x20run\x20until\x20middleware\x20terminates',
    'both\x20middleware\x20run\x20after\x20the\x20tech',
    'null\x20is\x20returned\x20through\x20the\x20middleware\x20if\x20a\x20middleware\x20terminated\x20previously',
    'null\x20is\x20returned\x20to\x20the\x20player\x20if\x20a\x20middleware\x20terminated\x20previously',
    'the\x20play\x20has\x20been\x20cancelled\x20in\x20middleware\x201',
    'the\x20play\x20has\x20been\x20cancelled\x20in\x20middleware\x202',
    'setSource\x20is\x20run\x20asynchronously',
    'vid1',
    'setTimeout',
    'no\x20src\x20was\x20returned\x20yet',
    'no\x20accumulator\x20was\x20returned\x20yet',
    'tick',
    'we\x20got\x20the\x20same\x20source\x20back',
    'length',
    'setSource\x20selects\x20a\x20source\x20based\x20on\x20the\x20middleware\x20given',
    'use',
    'video/foo',
    'setSource',
    'type',
    'we\x20selected\x20a\x20new\x20type\x20of\x20video/mp4',
    'src',
    'we\x20selected\x20a\x20new\x20src\x20of\x20video.mp4',
    'we\x20got\x20one\x20middleware'
];
const _0x1fb3b8 = _0xa3eb;
(function (_0x7d561d, _0x3a1a48) {
    const _0x31bea1 = _0xa3eb;
    while (!![]) {
        try {
            const _0x4748f6 = -parseInt(_0x31bea1(0x129)) + parseInt(_0x31bea1(0x12a)) * -parseInt(_0x31bea1(0x12b)) + parseInt(_0x31bea1(0x12c)) * parseInt(_0x31bea1(0x12d)) + -parseInt(_0x31bea1(0x12e)) * -parseInt(_0x31bea1(0x12f)) + parseInt(_0x31bea1(0x130)) + -parseInt(_0x31bea1(0x131)) + -parseInt(_0x31bea1(0x132));
            if (_0x4748f6 === _0x3a1a48)
                break;
            else
                _0x7d561d['push'](_0x7d561d['shift']());
        } catch (_0xc9363c) {
            _0x7d561d['push'](_0x7d561d['shift']());
        }
    }
}(_0x225c, 0x8703f));
import * as _0x4d9f8a from '../../../src/js/tech/middleware.js';
import _0x5c184f from 'sinon';
import _0x58ec2f from 'global/window';
function _0xa3eb(_0x2c4bef, _0x369647) {
    return _0xa3eb = function (_0x225c4e, _0xa3ebbf) {
        _0x225c4e = _0x225c4e - 0x129;
        let _0x5dc368 = _0x225c[_0x225c4e];
        return _0x5dc368;
    }, _0xa3eb(_0x2c4bef, _0x369647);
}
QUnit['module']('Middleware', {
    'beforeEach'(_0x11c7b5) {
        const _0x4b4eae = _0xa3eb;
        this[_0x4b4eae(0x133)] = _0x5c184f[_0x4b4eae(0x134)]();
    },
    'afterEach'(_0xf50a50) {
        this['clock']['restore']();
    }
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x136), function (_0x55e9ec) {
    const _0x57721b = _0x1fb3b8, _0x298965 = {}, _0x217e55 = () => _0x298965;
    _0x4d9f8a['use'](_0x57721b(0x137), _0x217e55), _0x55e9ec['equal'](_0x4d9f8a['getMiddleware'](_0x57721b(0x137))['pop'](), _0x217e55, _0x57721b(0x138));
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x139), function (_0xeefaf4) {
    const _0x594e50 = _0x1fb3b8, _0x359c70 = [], _0x915693 = [], _0x1367b7 = [], _0x62fcc1 = [
            {
                'currentTime'(_0xdd18cf) {
                    const _0xd9c517 = _0xa3eb;
                    return _0x359c70[_0xd9c517(0x13a)](_0xdd18cf), _0xdd18cf * 0x2;
                },
                'duration'(_0x960138) {
                    const _0x562447 = _0xa3eb;
                    return _0x915693[_0x562447(0x13a)](_0x960138), _0x960138 + 0x2;
                },
                'foo'(_0x58da0d) {
                    const _0x391cab = _0xa3eb;
                    return _0x1367b7[_0x391cab(0x13a)](_0x58da0d), _0x58da0d / 0x2;
                }
            },
            {
                'currentTime'(_0x40f1a8) {
                    const _0x50adb0 = _0xa3eb;
                    return _0x359c70[_0x50adb0(0x13a)](_0x40f1a8), _0x40f1a8 + 0x2;
                },
                'duration'(_0x3684a2) {
                    const _0x282a7c = _0xa3eb;
                    return _0x915693[_0x282a7c(0x13a)](_0x3684a2), _0x3684a2 / 0x2;
                },
                'foo'(_0x45c259) {
                    const _0x11bd30 = _0xa3eb;
                    return _0x1367b7[_0x11bd30(0x13a)](_0x45c259), _0x45c259 + 0x3;
                }
            }
        ], _0x193118 = {
            'currentTime'(_0x3f8b56) {
                return 0x5;
            },
            'duration'(_0x18d302) {
                return 0x5;
            },
            'foo'(_0x416403) {
                return 0x5;
            }
        }, _0xc18664 = _0x4d9f8a[_0x594e50(0x13b)](_0x62fcc1, _0x193118, _0x594e50(0x13c)), _0x15a7a5 = _0x4d9f8a[_0x594e50(0x13b)](_0x62fcc1, _0x193118, _0x594e50(0x13d)), _0x12935b = _0x4d9f8a[_0x594e50(0x13b)](_0x62fcc1, _0x193118, _0x594e50(0x137)), _0x34d31e = (_0x312297, _0x49070c, _0x23332f, _0x3f3335, _0x407569) => {
            const _0x450c77 = _0x594e50;
            _0xeefaf4[_0x450c77(0x13e)](_0x312297, _0x49070c, _0x450c77(0x13f) + _0x407569), _0xeefaf4['deepEqual'](_0x23332f, _0x3f3335, _0x450c77(0x140) + _0x407569);
        };
    _0x34d31e(_0xc18664, 0xe, _0x359c70, [
        0x5,
        0x7
    ], _0x594e50(0x13c)), _0x34d31e(_0x15a7a5, 4.5, _0x915693, [
        0x5,
        2.5
    ], _0x594e50(0x13d)), _0x34d31e(_0x12935b, 0x4, _0x1367b7, [
        0x5,
        0x8
    ], _0x594e50(0x137));
}), QUnit['test']('middleware\x20set\x20iterates\x20through\x20the\x20middleware\x20array\x20in\x20the\x20right\x20order', function (_0x327ae0) {
    const _0x304757 = _0x1fb3b8, _0x643d86 = [], _0x189ddb = [], _0x2bf9de = [], _0x2df92e = [
            {
                'currentTime'(_0x4af700) {
                    return _0x643d86['push'](_0x4af700), _0x4af700 * 0x2;
                },
                'duration'(_0x5964a8) {
                    const _0x1df86f = _0xa3eb;
                    return _0x189ddb[_0x1df86f(0x13a)](_0x5964a8), _0x5964a8 + 0x2;
                },
                'foo'(_0x1a1116) {
                    const _0x36dbd3 = _0xa3eb;
                    return _0x2bf9de[_0x36dbd3(0x13a)](_0x1a1116), _0x1a1116 / 0x2;
                }
            },
            {
                'currentTime'(_0x27978a) {
                    const _0x10c0bc = _0xa3eb;
                    return _0x643d86[_0x10c0bc(0x13a)](_0x27978a), _0x27978a + 0x2;
                },
                'duration'(_0x2e4479) {
                    const _0x250436 = _0xa3eb;
                    return _0x189ddb[_0x250436(0x13a)](_0x2e4479), _0x2e4479 / 0x2;
                },
                'foo'(_0x1dd74b) {
                    return _0x2bf9de['push'](_0x1dd74b), _0x1dd74b + 0x3;
                }
            }
        ], _0x255a71 = {
            'currentTime'(_0x483109) {
                const _0x514ab7 = _0xa3eb;
                return _0x643d86[_0x514ab7(0x13a)](_0x483109), _0x483109 / 0x2;
            },
            'duration'(_0x53c5dc) {
                const _0x189c4a = _0xa3eb;
                return _0x189ddb[_0x189c4a(0x13a)](_0x53c5dc), _0x53c5dc;
            },
            'foo'(_0x2e40bc) {
                const _0x5a8fa5 = _0xa3eb;
                return _0x2bf9de[_0x5a8fa5(0x13a)](_0x2e40bc), _0x2e40bc;
            }
        }, _0x4bbfeb = _0x4d9f8a['set'](_0x2df92e, _0x255a71, 'currentTime', 0xa), _0x1f9999 = _0x4d9f8a[_0x304757(0x141)](_0x2df92e, _0x255a71, _0x304757(0x13d), 0xa), _0x24ed0a = _0x4d9f8a[_0x304757(0x141)](_0x2df92e, _0x255a71, 'foo', 0xa), _0x42481d = (_0x3fdfaf, _0xec62c8, _0x45fbea, _0xf91483, _0x2456d0) => {
            const _0x53e890 = _0x304757;
            _0x327ae0[_0x53e890(0x13e)](_0x3fdfaf, _0xec62c8, _0x53e890(0x13f) + _0x2456d0), _0x327ae0[_0x53e890(0x142)](_0x45fbea, _0xf91483, _0x53e890(0x140) + _0x2456d0);
        };
    _0x42481d(_0x4bbfeb, 0xb, _0x643d86, [
        0xa,
        0x14,
        0x16
    ], _0x304757(0x13c)), _0x42481d(_0x1f9999, 0x6, _0x189ddb, [
        0xa,
        0xc,
        0x6
    ], _0x304757(0x13d)), _0x42481d(_0x24ed0a, 0x8, _0x2bf9de, [
        0xa,
        0x5,
        0x8
    ], _0x304757(0x137));
}), QUnit[_0x1fb3b8(0x135)]('middleware\x20mediate\x20iterates\x20through\x20the\x20middleware\x20array\x20twice', function (_0xaf6094) {
    const _0x56e4fb = _0x1fb3b8;
    let _0x463d5d = 0x0, _0x4724ce = 0x0, _0x12fd67 = 0x0, _0x5d592c, _0x3d8927, _0x134917, _0x4a067f, _0x2ec768;
    const _0x4c50b5 = [
            {
                'callPlay'() {
                    _0x463d5d++;
                },
                'play'(_0x192608, _0x2c325b) {
                    _0x4724ce++, _0x3d8927 = _0x2c325b, _0x4a067f = _0x192608;
                }
            },
            {
                'callPlay'() {
                    _0x463d5d++;
                },
                'play'(_0x45f879, _0xa39162) {
                    _0x4724ce++, _0x134917 = _0xa39162, _0x2ec768 = _0x45f879;
                }
            }
        ], _0x3e3e26 = {
            'play'() {
                return _0x12fd67++, _0x5d592c = {
                    'then': () => {
                    }
                }, _0x5d592c;
            }
        }, _0x2a2e75 = _0x4d9f8a[_0x56e4fb(0x143)](_0x4c50b5, _0x3e3e26, _0x56e4fb(0x144));
    _0xaf6094['equal'](_0x463d5d, _0x4724ce, _0x56e4fb(0x145)), _0xaf6094[_0x56e4fb(0x13e)](_0x463d5d, 0x2, _0x56e4fb(0x146)), _0xaf6094[_0x56e4fb(0x13e)](_0x12fd67, 0x1, _0x56e4fb(0x147)), _0xaf6094[_0x56e4fb(0x13e)](_0x4724ce, 0x2, _0x56e4fb(0x148)), _0xaf6094[_0x56e4fb(0x142)](_0x3d8927['then'], _0x5d592c['then'], _0x56e4fb(0x149)), _0xaf6094['deepEqual'](_0x134917, _0x5d592c, _0x56e4fb(0x149)), _0xaf6094[_0x56e4fb(0x142)](_0x2a2e75, _0x5d592c, _0x56e4fb(0x14a)), _0xaf6094[_0x56e4fb(0x13e)](_0x4a067f, ![], _0x56e4fb(0x14b)), _0xaf6094['equal'](_0x2ec768, ![], _0x56e4fb(0x14c));
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x14d), function (_0x496aa0) {
    const _0x18abd9 = _0x1fb3b8;
    let _0x60b52b = 0x0, _0x1fb4f7 = 0x0, _0x5e7aec = 0x0, _0x2648f1, _0x5199d0, _0x2f699e, _0x57661c;
    const _0x128f1e = [
            {
                'callPlay'() {
                    _0x60b52b++;
                },
                'play'(_0x130dc2, _0x5bb6dd) {
                    _0x1fb4f7++, _0x2648f1 = _0x5bb6dd, _0x2f699e = _0x130dc2;
                }
            },
            {
                'callPlay'() {
                    return _0x60b52b++, _0x4d9f8a['TERMINATOR'];
                },
                'play'(_0x424fb7, _0x1f527f) {
                    _0x1fb4f7++, _0x5199d0 = _0x1f527f, _0x57661c = _0x424fb7;
                }
            }
        ], _0x279630 = {
            'play'() {
                return _0x5e7aec++, {
                    'then': () => {
                    }
                };
            }
        }, _0x46b19b = _0x4d9f8a[_0x18abd9(0x143)](_0x128f1e, _0x279630, 'play');
    _0x496aa0['equal'](_0x60b52b, 0x2, _0x18abd9(0x14e)), _0x496aa0[_0x18abd9(0x13e)](_0x5e7aec, 0x0, 'the\x20tech\x20should\x20not\x20be\x20called\x20if\x20a\x20middleware\x20terminates'), _0x496aa0[_0x18abd9(0x13e)](_0x1fb4f7, 0x2, _0x18abd9(0x14f)), _0x496aa0['equal'](_0x2648f1, null, _0x18abd9(0x150)), _0x496aa0['equal'](_0x5199d0, null, _0x18abd9(0x150)), _0x496aa0[_0x18abd9(0x13e)](_0x46b19b, null, _0x18abd9(0x151)), _0x496aa0['equal'](_0x2f699e, !![], _0x18abd9(0x152)), _0x496aa0['equal'](_0x57661c, !![], _0x18abd9(0x153));
}), QUnit['test'](_0x1fb3b8(0x154), function (_0x30418d) {
    const _0x29a04f = _0x1fb3b8;
    let _0x4b8911, _0xef68df;
    _0x4d9f8a['setSource']({
        'id'() {
            const _0x35196c = _0xa3eb;
            return _0x35196c(0x155);
        },
        'setTimeout': _0x58ec2f[_0x29a04f(0x156)]
    }, {
        'src': _0x29a04f(0x137),
        'type': 'video/foo'
    }, function (_0x2107a9, _0xa58fa5) {
        _0x4b8911 = _0x2107a9, _0xef68df = _0xa58fa5;
    }), _0x30418d[_0x29a04f(0x13e)](_0x4b8911, undefined, _0x29a04f(0x157)), _0x30418d[_0x29a04f(0x13e)](_0xef68df, undefined, _0x29a04f(0x158)), this[_0x29a04f(0x133)][_0x29a04f(0x159)](0x1), _0x30418d[_0x29a04f(0x142)](_0x4b8911, {
        'src': _0x29a04f(0x137),
        'type': 'video/foo'
    }, _0x29a04f(0x15a)), _0x30418d[_0x29a04f(0x13e)](_0xef68df[_0x29a04f(0x15b)], 0x0, 'we\x20did\x20not\x20accumulate\x20any\x20middleware\x20since\x20there\x20were\x20none');
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x15c), function (_0x809a56) {
    const _0x2d3cba = _0x1fb3b8;
    let _0x24dc14, _0x4df5ac;
    const _0x2392bb = {
            'setSource'(_0x23b04e, _0x8a00e8) {
                _0x8a00e8(null, {
                    'src': 'http://example.com/video.mp4',
                    'type': 'video/mp4'
                });
            }
        }, _0x4bf670 = () => _0x2392bb;
    _0x4d9f8a[_0x2d3cba(0x15d)](_0x2d3cba(0x15e), _0x4bf670), _0x4d9f8a[_0x2d3cba(0x15f)]({
        'id'() {
            return 'vid1';
        },
        'setTimeout': _0x58ec2f[_0x2d3cba(0x156)]
    }, {
        'src': _0x2d3cba(0x137),
        'type': _0x2d3cba(0x15e)
    }, function (_0x39c4e0, _0xd3f34e) {
        _0x24dc14 = _0x39c4e0, _0x4df5ac = _0xd3f34e;
    }), this[_0x2d3cba(0x133)][_0x2d3cba(0x159)](0x1), _0x809a56[_0x2d3cba(0x13e)](_0x24dc14[_0x2d3cba(0x160)], 'video/mp4', _0x2d3cba(0x161)), _0x809a56[_0x2d3cba(0x13e)](_0x24dc14[_0x2d3cba(0x162)], 'http://example.com/video.mp4', _0x2d3cba(0x163)), _0x809a56[_0x2d3cba(0x13e)](_0x4df5ac[_0x2d3cba(0x15b)], 0x1, _0x2d3cba(0x164)), _0x809a56[_0x2d3cba(0x13e)](_0x4df5ac[0x0], _0x2392bb, _0x2d3cba(0x165)), _0x4d9f8a[_0x2d3cba(0x166)](_0x2d3cba(0x15e))[_0x2d3cba(0x167)]();
}), QUnit[_0x1fb3b8(0x135)]('setSource\x20can\x20select\x20multiple\x20middleware\x20from\x20multiple\x20types', function (_0x289a88) {
    const _0x5297d3 = _0x1fb3b8;
    let _0x2c3998, _0xb59bca;
    const _0xd83644 = {
            'setSource'(_0x565ab6, _0x3f7797) {
                const _0x336061 = _0xa3eb;
                _0x3f7797(null, {
                    'src': 'bar',
                    'type': _0x336061(0x168)
                });
            }
        }, _0x225e73 = {
            'setSource'(_0x290398, _0x149577) {
                const _0x214354 = _0xa3eb;
                _0x149577(null, {
                    'src': _0x214354(0x169),
                    'type': _0x214354(0x16a)
                });
            }
        }, _0x44ebda = () => _0xd83644, _0x36968f = () => _0x225e73;
    _0x4d9f8a['use'](_0x5297d3(0x15e), _0x44ebda), _0x4d9f8a[_0x5297d3(0x15d)](_0x5297d3(0x168), _0x36968f), _0x4d9f8a[_0x5297d3(0x15f)]({
        'id'() {
            const _0x28d44d = _0x5297d3;
            return _0x28d44d(0x155);
        },
        'setTimeout': _0x58ec2f[_0x5297d3(0x156)]
    }, {
        'src': 'foo',
        'type': 'video/foo'
    }, function (_0xa2f2e6, _0x1668cd) {
        _0x2c3998 = _0xa2f2e6, _0xb59bca = _0x1668cd;
    }), this[_0x5297d3(0x133)]['tick'](0x1), _0x289a88[_0x5297d3(0x13e)](_0x2c3998[_0x5297d3(0x160)], _0x5297d3(0x16a), _0x5297d3(0x161)), _0x289a88['equal'](_0x2c3998[_0x5297d3(0x162)], _0x5297d3(0x169), _0x5297d3(0x163)), _0x289a88[_0x5297d3(0x13e)](_0xb59bca['length'], 0x2, _0x5297d3(0x16b)), _0x289a88[_0x5297d3(0x13e)](_0xb59bca[0x0], _0xd83644, _0x5297d3(0x16c)), _0x289a88[_0x5297d3(0x13e)](_0xb59bca[0x1], _0x225e73, _0x5297d3(0x16d)), _0x4d9f8a[_0x5297d3(0x166)](_0x5297d3(0x15e))[_0x5297d3(0x167)](), _0x4d9f8a[_0x5297d3(0x166)]('video/bar')[_0x5297d3(0x167)]();
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x16e), function (_0x333246) {
    const _0x39cb6d = _0x1fb3b8;
    let _0x173e08, _0x2279d3;
    const _0x3a5fba = {
            'setSource'(_0x38f81d, _0x5565ee) {
                const _0x124be2 = _0xa3eb;
                _0x5565ee(null, {
                    'src': _0x124be2(0x16f),
                    'type': _0x124be2(0x15e)
                });
            }
        }, _0x45040d = {
            'setSource'(_0x3f7d90, _0x3f08b4) {
                const _0x5e0346 = _0xa3eb;
                _0x3f08b4(null, {
                    'src': _0x5e0346(0x169),
                    'type': _0x5e0346(0x16a)
                });
            }
        }, _0x28e816 = {
            'setSource'(_0x19086b, _0x39293) {
                const _0x5bd80d = _0xa3eb;
                _0x39293(null, {
                    'src': _0x5bd80d(0x169),
                    'type': _0x5bd80d(0x16a)
                });
            }
        }, _0x22c465 = () => _0x3a5fba, _0x5ad1ae = () => _0x45040d, _0x3483bf = () => _0x28e816;
    _0x4d9f8a['use'](_0x39cb6d(0x15e), _0x22c465), _0x4d9f8a[_0x39cb6d(0x15d)](_0x39cb6d(0x15e), _0x5ad1ae), _0x4d9f8a[_0x39cb6d(0x15d)]('video/foo', _0x3483bf), _0x4d9f8a[_0x39cb6d(0x15f)]({
        'id'() {
            const _0x30f97b = _0x39cb6d;
            return _0x30f97b(0x155);
        },
        'setTimeout': _0x58ec2f['setTimeout']
    }, {
        'src': _0x39cb6d(0x137),
        'type': _0x39cb6d(0x15e)
    }, function (_0x618ae2, _0x239a8e) {
        _0x173e08 = _0x618ae2, _0x2279d3 = _0x239a8e;
    }), this[_0x39cb6d(0x133)][_0x39cb6d(0x159)](0x1), _0x333246['equal'](_0x173e08[_0x39cb6d(0x160)], _0x39cb6d(0x16a), _0x39cb6d(0x161)), _0x333246[_0x39cb6d(0x13e)](_0x173e08[_0x39cb6d(0x162)], _0x39cb6d(0x169), _0x39cb6d(0x163)), _0x333246[_0x39cb6d(0x13e)](_0x2279d3[_0x39cb6d(0x15b)], 0x2, _0x39cb6d(0x16b)), _0x333246['equal'](_0x2279d3[0x0], _0x3a5fba, _0x39cb6d(0x16c)), _0x333246[_0x39cb6d(0x13e)](_0x2279d3[0x1], _0x45040d, 'foomw\x20is\x20the\x20first\x20middleware'), _0x4d9f8a[_0x39cb6d(0x166)](_0x39cb6d(0x15e))[_0x39cb6d(0x167)](), _0x4d9f8a[_0x39cb6d(0x166)](_0x39cb6d(0x15e))['pop'](), _0x4d9f8a[_0x39cb6d(0x166)](_0x39cb6d(0x15e))[_0x39cb6d(0x167)]();
}), QUnit[_0x1fb3b8(0x135)]('a\x20middleware\x20without\x20a\x20mediator\x20method\x20will\x20not\x20throw\x20an\x20error', function (_0x409111) {
    const _0x4e6b56 = _0x1fb3b8;
    let _0x5cab76 = 0x0;
    const _0x4d3456 = {}, _0x45d347 = () => _0x4d3456, _0x5ada0d = () => ({
            'pause'() {
                _0x5cab76++;
            }
        });
    _0x4d9f8a['mediate']([
        _0x45d347(),
        _0x5ada0d()
    ], {
        'pause': () => {
        }
    }, _0x4e6b56(0x170)), _0x409111[_0x4e6b56(0x13e)](_0x5cab76, 0x1, _0x4e6b56(0x171));
}), QUnit[_0x1fb3b8(0x135)]('a\x20middleware\x20factory\x20is\x20not\x20called\x20on\x20source\x20change', function (_0x1bcbc6) {
    const _0x2c0353 = _0x1fb3b8;
    let _0x42e94a = 0x0;
    const _0x45e101 = {
            'setSource'(_0x5d02dc, _0x1df468) {
                const _0x4e418b = _0xa3eb;
                _0x1df468(null, {
                    'src': _0x4e418b(0x169),
                    'type': 'video/mp4'
                });
            }
        }, _0xf556cd = () => {
            return _0x42e94a++, _0x45e101;
        };
    _0x4d9f8a[_0x2c0353(0x15d)]('video/foo', _0xf556cd), _0x4d9f8a[_0x2c0353(0x15f)]({
        'id'() {
            const _0x408408 = _0x2c0353;
            return _0x408408(0x155);
        },
        'setTimeout': _0x58ec2f[_0x2c0353(0x156)]
    }, {
        'src': _0x2c0353(0x137),
        'type': _0x2c0353(0x15e)
    }, function () {
    }), this[_0x2c0353(0x133)][_0x2c0353(0x159)](0x1), _0x1bcbc6[_0x2c0353(0x13e)](_0x42e94a, 0x1, _0x2c0353(0x172)), _0x4d9f8a['setSource']({
        'id'() {
            const _0x1bdecc = _0x2c0353;
            return _0x1bdecc(0x155);
        },
        'setTimeout': _0x58ec2f[_0x2c0353(0x156)]
    }, {
        'src': _0x2c0353(0x16f),
        'type': _0x2c0353(0x15e)
    }, function () {
    }), this[_0x2c0353(0x133)][_0x2c0353(0x159)](0x1), _0x1bcbc6[_0x2c0353(0x13e)](_0x42e94a, 0x1, _0x2c0353(0x173)), _0x4d9f8a[_0x2c0353(0x166)](_0x2c0353(0x15e))[_0x2c0353(0x167)]();
}), QUnit['test'](_0x1fb3b8(0x174), function (_0x6b0af3) {
    const _0x263cba = _0x1fb3b8;
    let _0x387764 = 0x0;
    const _0x2cd960 = {
            'setSource'(_0x357f92, _0x9e6858) {
                const _0x1c0d82 = _0xa3eb;
                _0x9e6858(null, {
                    'src': 'http://example.com/video.mp4',
                    'type': _0x1c0d82(0x16a)
                });
            }
        }, _0x5a171b = () => {
            return _0x387764++, _0x2cd960;
        };
    _0x4d9f8a[_0x263cba(0x15d)](_0x263cba(0x15e), _0x5a171b), _0x4d9f8a['setSource']({
        'id'() {
            return 'vid1';
        },
        'setTimeout': _0x58ec2f[_0x263cba(0x156)]
    }, {
        'src': _0x263cba(0x137),
        'type': 'video/foo'
    }, function () {
    }), this[_0x263cba(0x133)]['tick'](0x1), _0x6b0af3[_0x263cba(0x13e)](_0x387764, 0x1, _0x263cba(0x172)), _0x4d9f8a[_0x263cba(0x15f)]({
        'id'() {
            const _0xac6872 = _0x263cba;
            return _0xac6872(0x175);
        },
        'setTimeout': _0x58ec2f[_0x263cba(0x156)]
    }, {
        'src': _0x263cba(0x16f),
        'type': _0x263cba(0x15e)
    }, function () {
    }), this['clock'][_0x263cba(0x159)](0x1), _0x6b0af3['equal'](_0x387764, 0x2, _0x263cba(0x176)), _0x4d9f8a[_0x263cba(0x166)]('video/foo')[_0x263cba(0x167)]();
}), QUnit[_0x1fb3b8(0x135)](_0x1fb3b8(0x177), function (_0x324e60) {
    const _0x2566c9 = _0x1fb3b8;
    let _0xd767f3 = [];
    const _0x46a0be = {
            'currentTime'(_0x557fda) {
            }
        }, _0x262f85 = () => _0x46a0be;
    _0x4d9f8a[_0x2566c9(0x15d)](_0x2566c9(0x15e), _0x262f85), _0x4d9f8a['setSource']({
        'id'() {
            const _0x52b848 = _0x2566c9;
            return _0x52b848(0x155);
        },
        'setTimeout': _0x58ec2f[_0x2566c9(0x156)]
    }, {
        'src': _0x2566c9(0x137),
        'type': _0x2566c9(0x15e)
    }, function (_0x201201, _0x5077f6) {
        _0xd767f3 = _0x5077f6;
    }), this[_0x2566c9(0x133)][_0x2566c9(0x159)](0x1), _0x324e60[_0x2566c9(0x13e)](_0xd767f3[_0x2566c9(0x15b)], 0x1, _0x2566c9(0x178)), _0x4d9f8a[_0x2566c9(0x166)]('video/foo')['pop']();
});
