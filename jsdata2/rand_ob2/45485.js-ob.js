var _0x3b6f = [
    'bar',
    'bar\x20cb',
    'zoo',
    'zoo\x20cb',
    'poo',
    'moo',
    'moo\x20cb',
    'expose\x20payload',
    'payload',
    'workersList',
    'map',
    'data',
    'baz',
    '1210727ehnYLH',
    '1184522atIktp',
    '1002755yKESmw',
    '1hOsaSz',
    '856073ozhdlZ',
    '182650gNCkWA',
    '887195FaDedM',
    '124658sEcFLQ',
    'assert',
    'cargo',
    'push',
    'join',
    'arg',
    'shift',
    'error',
    'equal',
    'length',
    'callback\x20',
    'eql',
    'process\x201\x202',
    'callback\x201',
    'callback\x202',
    'process\x203\x204',
    'callback\x203',
    'callback\x204',
    'without\x20callback',
    'process\x20',
    'drain',
    'process\x201',
    'process\x202',
    'process\x201\x202\x203',
    'callback\x201\x202\x203',
    'process\x204',
    'drain\x20once',
    'drain\x20twice',
    'events',
    'setImmediate',
    'concurrency',
    'saturated',
    'running',
    'empty',
    'cargo\x20should\x20be\x20empty\x20now\x20and\x20no\x20more\x20workers\x20should\x20be\x20running',
    'process\x20foo',
    'process\x20zoo',
    'foo\x20cb',
    'process\x20poo',
    'process\x20moo',
    'poo\x20cb',
    'foo'
];
var _0x1cc08f = _0x5b27;
function _0x5b27(_0x26cebe, _0x1068cf) {
    return _0x5b27 = function (_0x3b6f50, _0x5b2748) {
        _0x3b6f50 = _0x3b6f50 - 0x7c;
        var _0x32a4ca = _0x3b6f[_0x3b6f50];
        return _0x32a4ca;
    }, _0x5b27(_0x26cebe, _0x1068cf);
}
(function (_0x3a8c94, _0x330b8d) {
    var _0x366417 = _0x5b27;
    while (!![]) {
        try {
            var _0x5adcf1 = -parseInt(_0x366417(0x7c)) + parseInt(_0x366417(0x7d)) + parseInt(_0x366417(0x7e)) + -parseInt(_0x366417(0x7f)) * -parseInt(_0x366417(0x80)) + -parseInt(_0x366417(0x81)) + -parseInt(_0x366417(0x82)) + -parseInt(_0x366417(0x83));
            if (_0x5adcf1 === _0x330b8d)
                break;
            else
                _0x3a8c94['push'](_0x3a8c94['shift']());
        } catch (_0x290242) {
            _0x3a8c94['push'](_0x3a8c94['shift']());
        }
    }
}(_0x3b6f, 0x9bca8));
var async = require('../lib'), {expect} = require('chai'), assert = require(_0x1cc08f(0x84));
describe(_0x1cc08f(0x85), () => {
    var _0x17ca00 = _0x1cc08f;
    it(_0x17ca00(0x85), _0x4ed64e => {
        var _0x3501b0 = _0x17ca00, _0x59025f = [], _0x5b3520 = [
                0x28,
                0x28,
                0x14
            ], _0x2d6ddb = async['cargo']((_0x21e743, _0x8b22ad) => {
                var _0x2d737f = _0x5b27;
                setTimeout(() => {
                    var _0x42c79c = _0x5b27;
                    _0x59025f[_0x42c79c(0x86)]('process\x20' + _0x21e743[_0x42c79c(0x87)]('\x20')), _0x8b22ad('error', _0x42c79c(0x88));
                }, _0x5b3520[_0x2d737f(0x89)]());
            }, 0x2);
        _0x2d6ddb[_0x3501b0(0x86)](0x1, (_0x1be44a, _0x57a4a0) => {
            var _0x14f340 = _0x3501b0;
            expect(_0x1be44a)['to']['equal'](_0x14f340(0x8a)), expect(_0x57a4a0)['to'][_0x14f340(0x8b)](_0x14f340(0x88)), expect(_0x2d6ddb[_0x14f340(0x8c)]())['to'][_0x14f340(0x8b)](0x3), _0x59025f[_0x14f340(0x86)](_0x14f340(0x8d) + 0x1);
        }), _0x2d6ddb[_0x3501b0(0x86)](0x2, (_0xd98a09, _0x7e8779) => {
            var _0x41ce8b = _0x3501b0;
            expect(_0xd98a09)['to'][_0x41ce8b(0x8b)](_0x41ce8b(0x8a)), expect(_0x7e8779)['to'][_0x41ce8b(0x8b)]('arg'), expect(_0x2d6ddb[_0x41ce8b(0x8c)]())['to']['equal'](0x3), _0x59025f[_0x41ce8b(0x86)](_0x41ce8b(0x8d) + 0x2);
        }), expect(_0x2d6ddb[_0x3501b0(0x8c)]())['to'][_0x3501b0(0x8b)](0x2), setTimeout(() => {
            var _0xeee83c = _0x3501b0;
            _0x2d6ddb[_0xeee83c(0x86)](0x3, (_0x26fc1e, _0x4614cd) => {
                var _0x19cb09 = _0xeee83c;
                expect(_0x26fc1e)['to'][_0x19cb09(0x8b)](_0x19cb09(0x8a)), expect(_0x4614cd)['to'][_0x19cb09(0x8b)]('arg'), expect(_0x2d6ddb['length']())['to'][_0x19cb09(0x8b)](0x1), _0x59025f[_0x19cb09(0x86)]('callback\x20' + 0x3);
            });
        }, 0xf), setTimeout(() => {
            var _0x1c6264 = _0x3501b0;
            _0x2d6ddb[_0x1c6264(0x86)](0x4, (_0x497138, _0x99185d) => {
                var _0x294904 = _0x1c6264;
                expect(_0x497138)['to']['equal'](_0x294904(0x8a)), expect(_0x99185d)['to'][_0x294904(0x8b)]('arg'), expect(_0x2d6ddb[_0x294904(0x8c)]())['to'][_0x294904(0x8b)](0x1), _0x59025f['push'](_0x294904(0x8d) + 0x4);
            }), expect(_0x2d6ddb[_0x1c6264(0x8c)]())['to'][_0x1c6264(0x8b)](0x2), _0x2d6ddb['push'](0x5, (_0x5594bc, _0x117abe) => {
                var _0x2ef606 = _0x1c6264;
                expect(_0x5594bc)['to'][_0x2ef606(0x8b)](_0x2ef606(0x8a)), expect(_0x117abe)['to'][_0x2ef606(0x8b)](_0x2ef606(0x88)), expect(_0x2d6ddb['length']())['to'][_0x2ef606(0x8b)](0x0), _0x59025f[_0x2ef606(0x86)](_0x2ef606(0x8d) + 0x5);
            });
        }, 0x1e), _0x2d6ddb['drain'](() => {
            var _0xee7538 = _0x3501b0;
            expect(_0x59025f)['to'][_0xee7538(0x8e)]([
                _0xee7538(0x8f),
                _0xee7538(0x90),
                _0xee7538(0x91),
                _0xee7538(0x92),
                _0xee7538(0x93),
                _0xee7538(0x94),
                'process\x205',
                'callback\x205'
            ]), expect(_0x2d6ddb[_0xee7538(0x8c)]())['to'][_0xee7538(0x8b)](0x0), _0x4ed64e();
        });
    }), it(_0x17ca00(0x95), _0x268be5 => {
        var _0x1396af = _0x17ca00, _0x41aefc = [], _0x2b4220 = [
                0x28,
                0x3c,
                0x3c,
                0x14
            ], _0x57a220 = async[_0x1396af(0x85)]((_0x1b39aa, _0x5ed3bc) => {
                var _0x30eddf = _0x1396af;
                setTimeout(() => {
                    var _0xee823b = _0x5b27;
                    _0x41aefc[_0xee823b(0x86)](_0xee823b(0x96) + _0x1b39aa[_0xee823b(0x87)]('\x20')), _0x5ed3bc('error', 'arg');
                }, _0x2b4220[_0x30eddf(0x89)]());
            }, 0x2);
        _0x57a220[_0x1396af(0x86)](0x1), setTimeout(() => {
            var _0x226adc = _0x1396af;
            _0x57a220[_0x226adc(0x86)](0x2);
        }, 0x14), setTimeout(() => {
            var _0x27f94f = _0x1396af;
            _0x57a220[_0x27f94f(0x86)](0x3), _0x57a220[_0x27f94f(0x86)](0x4), _0x57a220[_0x27f94f(0x86)](0x5);
        }, 0x50), _0x57a220[_0x1396af(0x97)](() => {
            var _0x53c573 = _0x1396af;
            expect(_0x41aefc)['to'][_0x53c573(0x8e)]([
                _0x53c573(0x98),
                _0x53c573(0x99),
                _0x53c573(0x92),
                'process\x205'
            ]), _0x268be5();
        });
    }), it('bulk\x20task', _0x4dd2ca => {
        var _0x4aaa1f = _0x17ca00, _0x219564 = [], _0x4eef9c = [
                0x1e,
                0x14
            ], _0x1b79a2 = async[_0x4aaa1f(0x85)]((_0x25f749, _0x1d9eb0) => {
                var _0x56e881 = _0x4aaa1f;
                setTimeout(() => {
                    var _0xb3f0e0 = _0x5b27;
                    _0x219564[_0xb3f0e0(0x86)](_0xb3f0e0(0x96) + _0x25f749[_0xb3f0e0(0x87)]('\x20')), _0x1d9eb0('error', _0x25f749['join']('\x20'));
                }, _0x4eef9c[_0x56e881(0x89)]());
            }, 0x3);
        _0x1b79a2[_0x4aaa1f(0x86)]([
            0x1,
            0x2,
            0x3,
            0x4
        ], (_0x49f013, _0x199e6e) => {
            var _0xde3e55 = _0x4aaa1f;
            expect(_0x49f013)['to'][_0xde3e55(0x8b)](_0xde3e55(0x8a)), _0x219564[_0xde3e55(0x86)](_0xde3e55(0x8d) + _0x199e6e);
        }), expect(_0x1b79a2[_0x4aaa1f(0x8c)]())['to'][_0x4aaa1f(0x8b)](0x4), setTimeout(() => {
            var _0x4b6717 = _0x4aaa1f;
            expect(_0x219564)['to'][_0x4b6717(0x8e)]([
                _0x4b6717(0x9a),
                _0x4b6717(0x9b),
                _0x4b6717(0x9b),
                _0x4b6717(0x9b),
                _0x4b6717(0x9c),
                _0x4b6717(0x94)
            ]), expect(_0x1b79a2[_0x4b6717(0x8c)]())['to'][_0x4b6717(0x8b)](0x0), _0x4dd2ca();
        }, 0xc8);
    }), it(_0x17ca00(0x9d), _0x5f0b93 => {
        var _0x493bb3 = _0x17ca00, _0x4598c9 = async['cargo']((_0x420f65, _0x302780) => {
                _0x302780();
            }, 0x3), _0x207c59 = 0x0;
        _0x4598c9[_0x493bb3(0x97)](() => {
            _0x207c59++;
        });
        for (var _0x271f85 = 0x0; _0x271f85 < 0xa; _0x271f85++) {
            _0x4598c9['push'](_0x271f85);
        }
        setTimeout(() => {
            var _0x4bedf3 = _0x493bb3;
            expect(_0x207c59)['to'][_0x4bedf3(0x8b)](0x1), _0x5f0b93();
        }, 0x32);
    }), it(_0x17ca00(0x9e), _0x4769dd => {
        var _0x3c1964 = async['cargo']((_0x291ab0, _0x47876c) => {
            _0x47876c();
        }, 0x3);
        function _0x865c1e() {
            var _0x29397d = _0x5b27;
            for (var _0x35e904 = 0x0; _0x35e904 < 0xa; _0x35e904++) {
                _0x3c1964[_0x29397d(0x86)](_0x35e904);
            }
        }
        var _0x51a5d6 = 0x0;
        _0x3c1964['drain'](() => {
            var _0x96d306 = _0x5b27;
            _0x51a5d6++, _0x51a5d6 === 0x1 ? _0x865c1e() : (expect(_0x51a5d6)['to'][_0x96d306(0x8b)](0x2), _0x4769dd());
        }), _0x865c1e();
    }), it(_0x17ca00(0x9f), _0x4878e9 => {
        var _0x3af321 = _0x17ca00, _0x524742 = [], _0x8a1dbe = async[_0x3af321(0x85)]((_0x3123a8, _0x1b446a) => {
                var _0x3e2935 = _0x3af321;
                _0x524742[_0x3e2935(0x86)](_0x3e2935(0x96) + _0x3123a8), async[_0x3e2935(0xa0)](_0x1b446a);
            }, 0x1);
        _0x8a1dbe[_0x3af321(0xa1)] = 0x3, _0x8a1dbe[_0x3af321(0xa2)](() => {
            var _0x18a085 = _0x3af321;
            assert(_0x8a1dbe[_0x18a085(0xa3)]() == 0x3, 'cargo\x20should\x20be\x20saturated\x20now'), _0x524742[_0x18a085(0x86)](_0x18a085(0xa2));
        }), _0x8a1dbe['empty'](() => {
            var _0x524767 = _0x3af321;
            assert(_0x8a1dbe[_0x524767(0x8c)]() === 0x0, 'cargo\x20should\x20be\x20empty\x20now'), _0x524742[_0x524767(0x86)](_0x524767(0xa4));
        }), _0x8a1dbe[_0x3af321(0x97)](() => {
            var _0x337c2a = _0x3af321;
            assert(_0x8a1dbe[_0x337c2a(0x8c)]() === 0x0 && _0x8a1dbe[_0x337c2a(0xa3)]() === 0x0, _0x337c2a(0xa5)), _0x524742['push'](_0x337c2a(0x97)), expect(_0x524742)['to']['eql']([
                _0x337c2a(0xa6),
                'process\x20bar',
                'saturated',
                _0x337c2a(0xa7),
                _0x337c2a(0xa8),
                _0x337c2a(0xa2),
                _0x337c2a(0xa9),
                'bar\x20cb',
                _0x337c2a(0xa4),
                'saturated',
                _0x337c2a(0xaa),
                'zoo\x20cb',
                _0x337c2a(0xab),
                'moo\x20cb',
                _0x337c2a(0x97)
            ]), _0x4878e9();
        }), _0x8a1dbe[_0x3af321(0x86)](_0x3af321(0xac), () => {
            _0x524742['push']('foo\x20cb');
        }), _0x8a1dbe[_0x3af321(0x86)](_0x3af321(0xad), () => {
            var _0x4d9140 = _0x3af321;
            _0x524742[_0x4d9140(0x86)](_0x4d9140(0xae));
        }), _0x8a1dbe['push'](_0x3af321(0xaf), () => {
            var _0x595798 = _0x3af321;
            _0x524742[_0x595798(0x86)](_0x595798(0xb0));
        }), _0x8a1dbe[_0x3af321(0x86)](_0x3af321(0xb1), () => {
            _0x524742['push']('poo\x20cb');
        }), _0x8a1dbe[_0x3af321(0x86)](_0x3af321(0xb2), () => {
            var _0x398d50 = _0x3af321;
            _0x524742['push'](_0x398d50(0xb3));
        });
    }), it(_0x17ca00(0xb4), _0x160041 => {
        var _0x3b9041 = _0x17ca00, _0xda8af = ![], _0x11dd3c = async[_0x3b9041(0x85)]((_0x51f89f, _0x469391) => {
                var _0x43e3d2 = _0x3b9041;
                !_0xda8af ? (expect(_0x11dd3c[_0x43e3d2(0xb5)])['to'][_0x43e3d2(0x8b)](0x1), assert(_0x51f89f[_0x43e3d2(0x8c)] === 0x1, 'should\x20start\x20with\x20payload\x20=\x201')) : (expect(_0x11dd3c[_0x43e3d2(0xb5)])['to']['equal'](0x2), assert(_0x51f89f[_0x43e3d2(0x8c)] === 0x2, 'next\x20call\x20shold\x20have\x20payload\x20=\x202')), _0xda8af = !![], setTimeout(_0x469391, 0x19);
            }, 0x1);
        _0x11dd3c['drain'](_0x160041), expect(_0x11dd3c[_0x3b9041(0xb5)])['to'][_0x3b9041(0x8b)](0x1), _0x11dd3c[_0x3b9041(0x86)]([
            0x1,
            0x2,
            0x3
        ]), setTimeout(() => {
            _0x11dd3c['payload'] = 0x2;
        }, 0xf);
    }), it(_0x17ca00(0xb6), _0x4d09ac => {
        var _0x57ad21 = _0x17ca00, _0x8fb9a9 = ![];
        function _0xa135f4(_0x568d39) {
            var _0x411f0b = _0x5b27;
            return _0x568d39[_0x411f0b(0xb6)]()[_0x411f0b(0xb7)](_0x5ac6ed => {
                var _0x12bb12 = _0x411f0b;
                return _0x5ac6ed[_0x12bb12(0xb8)];
            });
        }
        var _0x6524f8 = async[_0x57ad21(0x85)]((_0x33de94, _0x17005e) => {
            var _0x8d3d6c = _0x57ad21;
            !_0x8fb9a9 ? expect(_0x33de94)['to']['eql']([
                _0x8d3d6c(0xac),
                _0x8d3d6c(0xad)
            ]) : expect(_0x33de94)['to'][_0x8d3d6c(0x8e)]([_0x8d3d6c(0xb9)]), expect(_0xa135f4(_0x6524f8))['to']['eql'](_0x33de94), async['setImmediate'](() => {
                var _0x601f23 = _0x8d3d6c;
                expect(_0xa135f4(_0x6524f8))['to'][_0x601f23(0x8e)](_0x33de94), _0x8fb9a9 = !![], _0x17005e();
            });
        }, 0x2);
        _0x6524f8[_0x57ad21(0x97)](() => {
            var _0x580694 = _0x57ad21;
            expect(_0x6524f8[_0x580694(0xb6)]())['to'][_0x580694(0x8e)]([]), expect(_0x6524f8[_0x580694(0xa3)]())['to'][_0x580694(0x8b)](0x0), _0x4d09ac();
        }), _0x6524f8[_0x57ad21(0x86)](_0x57ad21(0xac)), _0x6524f8['push'](_0x57ad21(0xad)), _0x6524f8[_0x57ad21(0x86)](_0x57ad21(0xb9));
    }), it('running', _0x33f9fb => {
        var _0x1b4708 = _0x17ca00, _0x43ecd1 = async['cargo']((_0x1e5330, _0x27c067) => {
                var _0x26ee1b = _0x5b27;
                expect(_0x43ecd1[_0x26ee1b(0xa3)]())['to']['equal'](0x1), async[_0x26ee1b(0xa0)](() => {
                    var _0x2471a8 = _0x26ee1b;
                    expect(_0x43ecd1[_0x2471a8(0xa3)]())['to'][_0x2471a8(0x8b)](0x1), _0x27c067();
                });
            }, 0x2);
        _0x43ecd1[_0x1b4708(0x97)](() => {
            expect(_0x43ecd1['running']())['to']['equal'](0x0), _0x33f9fb();
        }), _0x43ecd1[_0x1b4708(0x86)]('foo'), _0x43ecd1['push']('bar'), _0x43ecd1[_0x1b4708(0x86)](_0x1b4708(0xb9));
    });
});
