const URL = require(_0x50dce6(318))['URL'], Arborist = require(_0x50dce6(319));
function normalizeFunding(_0x48d231) {
    const _0x41af2f = _0x50dce6, _0x622020 = _0x50a3ab => typeof _0x50a3ab === 'string' ? { 'url': _0x50a3ab } : _0x50a3ab, _0x683bfd = [][_0x41af2f(320)](_0x48d231 || [])['map'](_0x622020);
    return Array[_0x41af2f(321)](_0x48d231) ? _0x683bfd : _0x683bfd[-872 * -7 + 22 * -407 + 2850];
}
function isValidFunding(_0x4b4b1b) {
    const _0x190f76 = _0x50dce6, _0x43bea1 = {
            'QzbGz': _0x190f76(322),
            'BqSLe': function (_0x1a4859, _0x2ebd1f) {
                return _0x1a4859(_0x2ebd1f);
            },
            'Siwfs': function (_0x16bc70, _0x535f7f) {
                return _0x16bc70 !== _0x535f7f;
            },
            'SjaWK': 'https:',
            'wJFXv': function (_0x48b72a, _0x29b646) {
                return _0x48b72a !== _0x29b646;
            },
            'XspJW': _0x190f76(323)
        }, _0x189649 = _0x43bea1[_0x190f76(324)]['split']('|');
    let _0x2677a7 = 7815 + 60 * -137 + 405;
    while (!![]) {
        switch (_0x189649[_0x2677a7++]) {
        case '0':
            try {
                var _0x111e70 = new URL(_0x4b4b1b[_0x190f76(318)] || _0x4b4b1b);
            } catch (_0xd2328c) {
                return ![];
            }
            continue;
        case '1':
            return _0x43bea1[_0x190f76(325)](Boolean, _0x111e70[_0x190f76(326)]);
        case '2':
            if (Array[_0x190f76(321)](_0x4b4b1b))
                return _0x4b4b1b[_0x190f76(327)](_0x4ef577 => !Array[_0x190f76(321)](_0x4ef577) && isValidFunding(_0x4ef577));
            continue;
        case '3':
            if (!_0x4b4b1b)
                return ![];
            continue;
        case '4':
            if (_0x43bea1[_0x190f76(328)](_0x111e70['protocol'], _0x43bea1[_0x190f76(329)]) && _0x43bea1[_0x190f76(330)](_0x111e70[_0x190f76(331)], _0x43bea1[_0x190f76(332)]))
                return ![];
            continue;
        }
        break;
    }
}
function _0x354f(_0x32392b, _0x464f45) {
    return _0x354f = function (_0x22005d, _0x5f0ac3) {
        _0x22005d = _0x22005d - (6538 + 1 * -2557 + -3674);
        let _0x2b97fb = _0x1123[_0x22005d];
        return _0x2b97fb;
    }, _0x354f(_0x32392b, _0x464f45);
}
const empty = () => Object[_0x50dce6(333)](null);
function readTree(_0x4467f7, _0x5aa42e) {
    const _0x4b95ae = _0x50dce6, _0x4b0393 = {
            'nJSTr': function (_0x30e74a, _0x48d4f5) {
                return _0x30e74a + _0x48d4f5;
            },
            'wFpPI': function (_0x24559d, _0x3fb048) {
                return _0x24559d(_0x3fb048);
            },
            'PcZoT': function (_0x442b80, _0x19783b) {
                return _0x442b80(_0x19783b);
            },
            'uUNdn': function (_0x23acff) {
                return _0x23acff();
            },
            'hLWGV': function (_0x5fd4ae, _0x87d42d) {
                return _0x5fd4ae > _0x87d42d;
            },
            'EotTI': function (_0x1af853, _0x2d3700, _0x468158) {
                return _0x1af853(_0x2d3700, _0x468158);
            },
            'lNdXZ': function (_0x4006b1) {
                return _0x4006b1();
            },
            'xsSoy': function (_0x3eff76, _0x5f1845, _0x37a927) {
                return _0x3eff76(_0x5f1845, _0x37a927);
            },
            'VrnQd': function (_0x28ed72, _0x196b56) {
                return _0x28ed72(_0x196b56);
            },
            'lzrhz': function (_0x33c326) {
                return _0x33c326();
            },
            'YMgis': function (_0x1fc824, _0x506ed8) {
                return _0x1fc824 || _0x506ed8;
            },
            'vjGeZ': 'trailingDependencies',
            'ZKOKs': function (_0xdb0e62, _0x1915f2) {
                return _0xdb0e62(_0x1915f2);
            },
            'uWpZD': function (_0x84cb81, _0x334935) {
                return _0x84cb81(_0x334935);
            }
        };
    let _0x571720 = -1 * 7260 + -2596 + 9856;
    const _0x2f232a = new Set(), {countOnly: _0x2eb81c} = _0x4b0393[_0x4b95ae(334)](_0x5aa42e, {}), _0x41402d = _0x4b0393[_0x4b95ae(335)](Symbol, _0x4b0393[_0x4b95ae(336)]);
    let _0x3f2f5d;
    if (_0x5aa42e && _0x5aa42e[_0x4b95ae(337)] && _0x5aa42e['workspaces'][_0x4b95ae(338)]) {
        const _0x3910be = new Arborist(_0x5aa42e);
        _0x3f2f5d = _0x3910be[_0x4b95ae(339)](_0x4467f7, _0x5aa42e[_0x4b95ae(337)]);
    }
    function _0x436695(_0x255bf9, _0x3e06cc) {
        const _0x43595c = _0x4b95ae, _0x3e9e9c = _0x4b0393['nJSTr'](_0x4b0393[_0x43595c(340)](String, _0x255bf9), _0x4b0393['PcZoT'](String, _0x3e06cc));
        if (_0x2f232a[_0x43595c(341)](_0x3e9e9c))
            return !![];
        _0x2f232a[_0x43595c(342)](_0x3e9e9c);
    }
    function _0x22422e(_0x338fa7) {
        const _0x57db99 = _0x4b95ae, _0x576507 = _0x338fa7[_0x41402d];
        if (_0x576507)
            return Object[_0x57db99(343)](_0x4b0393[_0x57db99(344)](empty), _0x338fa7, _0x576507);
        return _0x338fa7;
    }
    function _0x10c33b(_0x207c35) {
        const _0x320a12 = _0x4b95ae;
        return _0x207c35 && (Object[_0x320a12(345)](_0x207c35)[_0x320a12(338)] || _0x207c35[_0x41402d]);
    }
    function _0x38562e(_0x4db83f, _0x38f1e7) {
        const _0x2f7b51 = _0x4b95ae;
        _0x38f1e7 && isValidFunding(_0x38f1e7) && (_0x4db83f[_0x2f7b51(346)] = _0x4b0393['PcZoT'](normalizeFunding, _0x38f1e7), _0x571720++);
    }
    function _0x1e0a1b(_0x325788) {
        const _0x1a99ae = _0x4b95ae, _0xbbe3cf = {
                'auOOM': function (_0x28042c, _0xc6b85d) {
                    const _0x37e8d4 = _0x354f;
                    return _0x4b0393[_0x37e8d4(347)](_0x28042c, _0xc6b85d);
                },
                'sTOXP': function (_0xa8f5f3, _0x36c466) {
                    const _0x446b2b = _0x354f;
                    return _0x4b0393[_0x446b2b(335)](_0xa8f5f3, _0x36c466);
                },
                'gNqyr': function (_0x340fbb, _0x4542c4) {
                    const _0x2646e9 = _0x354f;
                    return _0x4b0393[_0x2646e9(335)](_0x340fbb, _0x4542c4);
                },
                'qlKQz': function (_0x57883f) {
                    const _0x1ef536 = _0x354f;
                    return _0x4b0393[_0x1ef536(348)](_0x57883f);
                }
            }, _0x10fe0e = _0x325788 && _0x325788[_0x1a99ae(349)] && _0x325788[_0x1a99ae(349)]['values']();
        if (!_0x10fe0e)
            return _0x4b0393[_0x1a99ae(348)](empty);
        const _0x82fed = Array[_0x1a99ae(350)](_0x10fe0e)[_0x1a99ae(351)](_0x167454 => {
            const _0x550db4 = _0x1a99ae;
            if (!_0x167454 || !_0x167454['to'])
                return _0x4b0393[_0x550db4(344)](empty);
            const _0x4a2832 = _0x167454['to'][_0x550db4(352)] || _0x167454['to'];
            if (!_0x4a2832['package'])
                return _0x4b0393[_0x550db4(344)](empty);
            if (_0x3f2f5d && _0x4b0393['hLWGV'](_0x3f2f5d[_0x550db4(353)], -24 * -229 + -6288 + -33 * -24) && !_0x3f2f5d[_0x550db4(341)](_0x4a2832))
                return _0x4b0393[_0x550db4(344)](empty);
            const {
                name: _0x1e7670,
                funding: _0x40a22a,
                version: _0x1b3bb7
            } = _0x4a2832[_0x550db4(354)];
            if (_0x4b0393['EotTI'](_0x436695, _0x1e7670, _0x1b3bb7))
                return _0x4b0393[_0x550db4(355)](empty);
            const _0x430ad5 = {};
            if (_0x1b3bb7)
                _0x430ad5[_0x550db4(356)] = _0x1b3bb7;
            return _0x4b0393[_0x550db4(357)](_0x38562e, _0x430ad5, _0x40a22a), {
                'node': _0x4a2832,
                'fundingItem': _0x430ad5
            };
        });
        return _0x82fed[_0x1a99ae(358)]((_0x492f02, {
            node: _0x394911,
            fundingItem: _0x5a66f6
        }, _0x3f089b) => {
            const _0x24542d = _0x1a99ae;
            if (!_0x5a66f6 || _0x5a66f6[_0x24542d(338)] === 4 * -369 + -173 * 52 + -238 * -44 || !_0x394911)
                return _0x492f02;
            const _0x1842dc = _0x394911[_0x24542d(349)] && _0xbbe3cf['auOOM'](_0x394911[_0x24542d(349)][_0x24542d(353)], 104 * -7 + 990 + -131 * 2) && _0x1e0a1b(_0x394911);
            if (_0x2eb81c)
                return null;
            _0xbbe3cf['sTOXP'](_0x10c33b, _0x1842dc) && (_0x5a66f6[_0x24542d(359)] = _0x22422e(_0x1842dc));
            if (_0xbbe3cf[_0x24542d(360)](isValidFunding, _0x5a66f6[_0x24542d(346)]))
                _0x492f02[_0x394911[_0x24542d(354)][_0x24542d(361)]] = _0x5a66f6;
            else
                _0x10c33b(_0x5a66f6['dependencies']) && (_0x492f02[_0x41402d] = Object['assign'](_0xbbe3cf[_0x24542d(362)](empty), _0x492f02[_0x41402d], _0x5a66f6[_0x24542d(359)]));
            return _0x492f02;
        }, _0x2eb81c ? null : _0x4b0393['lzrhz'](empty));
    }
    const _0xe1405a = _0x4b0393[_0x4b95ae(363)](_0x1e0a1b, _0x4467f7), _0x4f9772 = { 'length': _0x571720 };
    if (!_0x2eb81c) {
        const _0x48d94e = _0x4467f7 && _0x4467f7[_0x4b95ae(354)] && _0x4467f7[_0x4b95ae(354)]['name'] || _0x4467f7 && _0x4467f7[_0x4b95ae(361)];
        _0x4f9772[_0x4b95ae(361)] = _0x48d94e || _0x4467f7 && _0x4467f7[_0x4b95ae(364)];
        if (_0x4467f7 && _0x4467f7[_0x4b95ae(354)] && _0x4467f7[_0x4b95ae(354)][_0x4b95ae(356)])
            _0x4f9772[_0x4b95ae(356)] = _0x4467f7[_0x4b95ae(354)][_0x4b95ae(356)];
        if (_0x4467f7 && _0x4467f7[_0x4b95ae(354)] && _0x4467f7[_0x4b95ae(354)][_0x4b95ae(346)])
            _0x4f9772[_0x4b95ae(346)] = _0x4b0393[_0x4b95ae(363)](normalizeFunding, _0x4467f7[_0x4b95ae(354)]['funding']);
        _0x4f9772[_0x4b95ae(359)] = _0x4b0393['uWpZD'](_0x22422e, _0xe1405a);
    }
    return _0x4f9772;
}
async function read(_0x293f14) {
    const _0x263075 = _0x50dce6, _0x5ae0a7 = {
            'rQnBO': function (_0x584105, _0x1bffd5, _0x433d17) {
                return _0x584105(_0x1bffd5, _0x433d17);
            }
        }, _0xb6b812 = new Arborist(_0x293f14), _0x4435e5 = await _0xb6b812[_0x263075(365)](_0x293f14);
    return _0x5ae0a7['rQnBO'](readTree, _0x4435e5, _0x293f14);
}
module[_0x50dce6(366)] = {
    'read': read,
    'readTree': readTree,
    'normalizeFunding': normalizeFunding,
    'isValidFunding': isValidFunding
};