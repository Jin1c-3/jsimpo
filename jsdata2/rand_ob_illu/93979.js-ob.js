const _0x1f9c = ['hcGny', 'ibeDt', 'HsJUl', 'TOwYV', '{bad: \'json\'}', 'AtDuQ', 'gaxiD', 'eXfDT', 'delay', 'nZOzt', 'JZhXj', 'Iulji', 'JjPJS', 'KpIQr', 'xtwzg', 'FslFe', 'EtSrf', 'ietYs', 'QzkOF', 'ZXftb', 'sends connection: keep-alive by default', 'TBDOX', 'matchHeader', 'qzavg', 'yzzgb', 'it worked', 'test', 'XbTHS', 'OFvNY', 'NgwiA', 'tAAwj', 'NyJtC', 'custom-agent', 'zwyir', 'RIhDu', 'GjeIY', 'GWntD', 'http://localhost:8080/headers', 'eIhVN', 'lWvTI', 'TXGnN', 'kogax', 'soKlX', 'bCaoN', 'vjFuL', 'lSrMS', 'mTRbL', 'Wxcqw', 'HIBbI', 'onwFJ', 'bLukj', 'can accept qs', 'baz', 'mTfLf', 'rmiXW', 'LFEFW', 'jpCyM', 'http://localhost:8080/login', 'olzrh', 'ezJXw', 'abCLx', 'http://localhost:1234/', 'BcTcx', 'VXrsG', 'DGLVi', 'LQjIE', 'zkciA', 'property', 'aCtmg', 'BojXW', 'mGTOf', 'yvrhK', 'AXBOw', 'post', 'fPTaS', 'bVgeI', 'mAusD', 'tSZto', 'Yttgn', 'vMcME', 'CCcDl', 'MbsMN', 'wdvVA', 'rlcZJ', 'JWTrM', 'IBeET', 'kZzMe', 'qPfil', 'LWRPS', 'yXkXB', 'WZJAy', 'RcIrS', 'xSQRg', 'AtUQJ', 'NfqFz', 'wFTZX', 'vTPQa', 'QtQyD', 'DVggz', 'BDjKa', 'ZRqNo', 'wnCzZ', 'YWfsr', 'IvMRJ', 'XBeIE', 'sJsuV', 'application/x-www-form-urlencoded', 'OCiig', 'mlIDQ', 'CCtkb', 'PljBH', 'UapAh', 'gvmBW', 'YGuet', 'VMaJp', 'TceON', 'DnEap', 'GHuzG', 'xxQcm', 'PkLzO', 'writeHead', 'end', 'fYnjo', 'bJgHf', 'TypeError [ERR_INVALID_CHAR]: Invalid character in header content ["x-text"]', 'eyrEg', 'eQAbS', 'Lqsqh', 'sdqxF', 'Xvpqs', 'SuUks', 'LZLjX', 'wRCSs', 'aLDva', 'ipbwE', 'sANmA', 'http://localhost:8080/foo', 'sendStream', 'SWWYe', 'acfaR', 'hoGSE', 'response', '173JeaNrK', '1703gvohBC', '1126794haNovj', '1383213wRtMNe', '1026257qqOJvb', '660363kDQVJH', '1dOoozD', '148249rzfCcf', '887931fMLcbu', '1dVxSCm', '../spec_helper', 'lodash', 'http', 'bluebird', 'snap-shot-it', 'set-cookie', 'setRequestCookieHeader', 'two=2', '/third', 'three=3', 'spy', 'setCookiesOnBrowser', 'IUsKR', 'oiwrL', 'http://localhost:1234', 'reply', 'ziSVD', '/second', 'fhxdR', 'get', 'yIZly', 'LDASA', 'then', 'getCalls', 'map', 'args', 'headers', 'aDMXI', 'qglmL', 'ECONNRESET', 'delaysRemaining to retryIntervals clone', 'retryIntervals to [0, 1000, 2000, 2000] by default', 'delaysRemaining can be overridden', 'bar', 'Not Found', 'body', 'picks out status body and headers', 'should not reach', 'ESOCKETTIMEDOUT', 'http://localhost:9988/econnreset', 'does not retry on a timeout', 'retries 4x on a connection reset', '/never-ends', '/econnreset', 'error', 'ENOTFOUND', 'retries for streams', '*/*', 'keep-alive', 'http://www.github.com/foo', 'duration', 'requestBody', 'http://www.github.com', '8|9|4|2|0|1|6|7|3|5', 'http://www.github.com/auth', 'application/json', '301: http://www.github.com/auth', '302: http://www.github.com/login', 'isOkStatusCode', 'statusText', 'requestHeaders', '/dashboard', 'http://localhost:1111/foo', '/status.json', '123', 'text/plain', 'connection', 'true', 'foobarbaz', 'quux', 'takes converts body to x-www-form-urlencoded and sets header', 'does not send body', 'does not set json=true', 'recovers from bad headers', 'handles weird content in the body just fine', 'Error: connect ECONNREFUSED 127.0.0.1:1111', 'application/vnd.api+json', 'Number', 'accept', 'sets to */* by default', 'can override accept header', 'can override Accept header', 'dashboard', 'http://localhost:8080/dashboard', 'POST', 'login', 'redirectedToUrl', 'by default follow redirects', 'does not included redirectedToUrl when following redirects', 'gets + attaches the cookies at each redirect', 'Content-Type', 'foo=bar&baz=quux', '<html></html>', '\u05D0\u05D1\u05D2\u05D3', 'sets strictSSL=false', 'sets simple=false', 'sets resolveWithFullResponse=true', 'includes redirects', 'parses response body as json if content-type application/json response headers', 'revives from parsing bad json', 'lower cases headers', 'accept header', 'followRedirect', 'form=true', 'create', '#getDelayForRetry', '#create', '#sendStream', 'stub', 'ZaqqP', 'resolves', 'withArgs', 'get:cookies', 'GyVLP', 'VgAjI', 'deMex', 'lnMpv', 'ucKCg', 'CXkah', 'BuGMC', 'QroEG', 'forEach', 'empty', 'FdhJv', 'yeKcV', 'oUxwT', 'getDelayForRetry', 'zqzLh', 'have', 'length', 'calledWith', 'calls onElse when delaysRemaining is exhausted', 'EanfP', 'not', 'kLTbJ', 'MqylE', 'setDefaults', 'retryIntervals', 'delaysRemaining', 'deep', 'kPVoJ', 'JjMrG', 'aNnmA', '<html>foo</html>', 'push', 'sets status to statusCode and deletes statusCode', 'WsTSP', 'cKwpG', 'calledOnce', 'beXLl', 'normalizeResponse', 'QBQfh', 'TqHuc', 'kLZSH', 'vXdCB', 'CnCmq', 'ZezIH', 'BtBqU', 'http://localhost:9988/never-ends', 'KTtEO', 'GAMtg', 'xGjRb', 'YmFmS', 'hits', 'createServer', 'url', 'rALpk', 'write', 'foo\n', 'XFXoj', 'socket', 'destroy', 'srv', 'listen', 'close', 'pTQel', 'CkRQF', 'kkyOv', 'RSKFi', 'XZCLD', 'YHQfa', 'http://will-never-exist.invalid.example.com', 'hsokq', 'hPlos', 'MaGAC', 'IGqiO', 'fromCallback', 'NwTKs', 'rejected', 'Qxaxa', 'code', 'vLtFH', 'ATOvp', 'retry', 'CWjdE', 'rnqjM', 'MykuW', 'retries 4x on a NXDOMAIN (ENOTFOUND)', 'enableNetConnect', 'lvYBt', 'bxqoe', 'retries for promises', 'Ulcsw', 'KbMYB', 'JsxVi', 'NAUCl', 'FvgsR', 'XWaiZ', 'JCdPN', 'MERXr', 'faYMP', 'euYND', 'APapQ', 'init', 'OSctW', 'ITquT', 'cVSFA', 'tDRgo', 'http://localhost:8080', 'JIfVU', 'wpUxM', 'http://localhost:8080/status.json', 'jpIyi', 'derp', 'yghHd', 'user-agent', 'QsGkS', '/headers', 'VnRdq', 'hewjv', 'naIYN', 'pXiBR', 'xdCyP', 'VRXJU', 'HgLCg', 'AIclh', 'DAiqU', 'Zlccb', 'aBkPQ', 'AFYoQ', 'YUYfC', 'EFWff', 'follows non-GET redirects by default', 'cfMlg', 'ghpIt', 'VsVfA', 'zvJsH', 'prhwT', 'dQjDs', 'cgUvW', 'XXbxG', 'hxxGg', 'Request', 'prototype', 'XeKCv', 'KsjQV', 'text/html', 'sendPromise', 'calledWithMatch', 'jGJga', 'GflDT', 'hdutb', 'www.github.com', 'txwAo', 'AZrUE', 'VwfdJ', 'zeLzZ', '/foo', 'RvnLG', 'status', 'VXnBM', 'qoZRx', 'YnpcW', 'uUqkp', 'allRequestResponses', 'AbBqt', 'knpVA', 'gXVVs', 'keys', 'nGopY', 'koHKP', 'IeLWu', 'PYZWW', 'QkVfg', 'hfNVc', 'IeVIN', 'kqsxm', 'ICQMh', 'dVBaR', 'log in', 'SCEdz', 'ZzQSA', 'http://www.github.com/dashboard', 'NxDvO', 'hwujc', 'dxQnj', 'hRWdF', 'IKmuN', 'FAeNp', 'zBkSQ', 'bSTrb', 'zpQWX', '/login', 'rpdXl', 'split', 'Mxxnj', 'VGAJk', 'krXCs', 'DoIpV', 'NkfQh', 'XFJgy', 'nhYIi', 'Hbryr', 'XEquw', 'HZEhG', 'FMXRk', 'QfdFs', 'gzip, deflate', 'undefined', 'redirects', 'pucVy', 'jzhwO', 'RJjPc', 'kIjAU', 'VyfPW', 'GDGBw', 'kRVLO', 'EZqjy', 'nyVrA', 'lXFTK', 'should have failed but didnt', 'WWGyn', 'mKMLF', 'catch', 'PPeod', 'RcKWj', 'CtSBI', 'SeKAd', 'kiDMj', 'kIBmf', 'QQhLW', 'aBarO', 'stringify', 'yRvOl'];
const _0x3222f6 = _0x4855;

(function (_0x7b99d6, _0x14dfcf) {
    const _0x4031ec = _0x4855;

    while (true) {
        try {
            const _0x52a5e8 = -parseInt(_0x4031ec(0x19a)) * -parseInt(_0x4031ec(0x19b)) + parseInt(_0x4031ec(0x19c)) + -parseInt(_0x4031ec(0x19d)) + parseInt(_0x4031ec(0x19e)) + parseInt(_0x4031ec(0x19f)) + parseInt(_0x4031ec(0x1a0)) * parseInt(_0x4031ec(0x1a1)) + -parseInt(_0x4031ec(0x1a2)) * parseInt(_0x4031ec(0x1a3));

            if (_0x52a5e8 === _0x14dfcf) break;else _0x7b99d6.push(_0x7b99d6.shift());
        } catch (_0x12dc39) {
            _0x7b99d6.push(_0x7b99d6.shift());
        }
    }
})(_0x1f9c, 985138), require(_0x3222f6(0x1a4));
function _0x4855(_0x58b998, _0x1bfbb7) {
    return _0x4855 = function (_0x5393cc, _0x131653) {
        _0x5393cc = _0x5393cc - 410;
        const _0x4eee6a = _0x1f9c[_0x5393cc];

        return _0x4eee6a;
    }, _0x4855(_0x58b998, _0x1bfbb7);
}

const _ = require(_0x3222f6(0x1a5));

const http = require(_0x3222f6(0x1a6));

const Bluebird = require(_0x3222f6(0x1a7));

const Request = require(root + 'lib/request');

const snapshot = require(_0x3222f6(0x1a8));

const request = Request({ 'timeout': 0x64 });

const testAttachingCookiesWith = function (_0x519b57) {
    const _0x207b77 = _0x3222f6;
    const _0x3fc5cc = {
        'aDMXI': _0x207b77(0x1a9),
        'vqxWT': 'args.1',
        'IUsKR': _0x207b77(0x1aa),
        'oiwrL': function (_0x5aa325, _0x28b0d8) {
            return _0x5aa325(_0x28b0d8);
        },
        'ziSVD': 'one=1',
        'fhxdR': _0x207b77(0x1ab),
        'yIZly': _0x207b77(0x1ac),
        'LDASA': _0x207b77(0x1ad)
    };

    const _0x54ecbe = sinon[_0x207b77(0x1ae)](request, _0x207b77(0x1af));

    const _0x3a3391 = sinon[_0x207b77(0x1ae)](request, _0x3fc5cc[_0x207b77(0x1b0)]);

    return _0x3fc5cc[_0x207b77(0x1b1)](nock, _0x207b77(0x1b2)).get('/')[_0x207b77(0x1b3)](302, '', {
        'set-cookie': _0x3fc5cc[_0x207b77(0x1b4)],
        'location': _0x207b77(0x1b5)
    }).get(_0x207b77(0x1b5))[_0x207b77(0x1b3)](302, '', {
        'set-cookie': _0x3fc5cc[_0x207b77(0x1b6)],
        'location': _0x207b77(0x1ac)
    })[_0x207b77(0x1b7)](_0x3fc5cc[_0x207b77(0x1b8)])[_0x207b77(0x1b3)](200, '', { 'set-cookie': _0x3fc5cc[_0x207b77(0x1b9)] }), _0x519b57()[_0x207b77(0x1ba)](() => {
        const _0x33eaaf = _0x207b77;
        const _0x55d95b = { 'qglmL': _0x3fc5cc.vqxWT };

        return snapshot({
            'setCalls': _0x54ecbe[_0x33eaaf(0x1bb)]()[_0x33eaaf(0x1bc)](_0x1d7c54 => {
                const _0x5d2de4 = _0x33eaaf;

                return {
                    'currentUrl': _0x1d7c54[_0x5d2de4(0x1bd)][1],
                    'setCookie': _0x1d7c54[_0x5d2de4(0x1bd)][0][_0x5d2de4(0x1be)][_0x3fc5cc[_0x5d2de4(0x1bf)]]
                };
            }),
            'getCalls': _0x3a3391[_0x33eaaf(0x1bb)]()[_0x33eaaf(0x1bc)](_0x558105 => {
                const _0x2d993e = _0x33eaaf;

                return { 'newUrl': _[_0x2d993e(0x1b7)](_0x558105, _0x55d95b[_0x2d993e(0x1c0)]) };
            })
        });
    });
};

describe('lib/request', () => {
    const _0x1fb528 = _0x3222f6;
    const _0x54c3f6 = {
        'ZaqqP': 'set:cookie',
        'VgAjI': function (_0x3a1087, _0x126061) {
            return _0x3a1087(_0x126061);
        },
        'deMex': 'object',
        'CXkah': _0x1fb528(0x1c1),
        'BuGMC': function (_0x561ea3, _0x2db59c) {
            return _0x561ea3(_0x2db59c);
        },
        'QroEG': 'divides by 10 when delay >= 1000 and err.code = ECONNREFUSED',
        'FdhJv': function (_0x555e67, _0x4efef9, _0x24036c) {
            return _0x555e67(_0x4efef9, _0x24036c);
        },
        'yeKcV': 'does not divide by 10 when err.code != ECONNREFUSED',
        'kPVoJ': function (_0x5b474a, _0x48725b) {
            return _0x5b474a(_0x48725b);
        },
        'MqylE': _0x1fb528(0x1c2),
        'xFPeS': _0x1fb528(0x1c3),
        'JjMrG': _0x1fb528(0x1c4),
        'aNnmA': _0x1fb528(0x1c5),
        'WsTSP': _0x1fb528(0x1c6),
        'cKwpG': _0x1fb528(0x1c7),
        'GreGW': _0x1fb528(0x1c8),
        'Ulcsw': _0x1fb528(0x1c9),
        'DirIm': _0x1fb528(0x1ca),
        'KbMYB': 'http://localhost:9988/never-ends',
        'JsxVi': function (_0x478fbe, _0x43cbff) {
            return _0x478fbe(_0x43cbff);
        },
        'hgnAz': _0x1fb528(0x1cb),
        'YmFmS': _0x1fb528(0x1cc),
        'XWaiZ': function (_0x15cd36, _0x4530c9, _0xee8afa) {
            return _0x15cd36(_0x4530c9, _0xee8afa);
        },
        'JCdPN': _0x1fb528(0x1cd),
        'CnCmq': _0x1fb528(0x1ce),
        'ZezIH': _0x1fb528(0x1cf),
        'KyVta': _0x1fb528(0x1d0),
        'BtBqU': function (_0x43f068, _0x197b66) {
            return _0x43f068(_0x197b66);
        },
        'KTtEO': 'retry',
        'Bnptx': _0x1fb528(0x1d1),
        'GAMtg': function (_0x8839af, _0x3bd9ea) {
            return _0x8839af(_0x3bd9ea);
        },
        'xGjRb': function (_0x247e5c, _0x576ee8, _0x12689b) {
            return _0x247e5c(_0x576ee8, _0x12689b);
        },
        'pTQel': function (_0x1b1c37, _0x6d32fc, _0x34b238) {
            return _0x1b1c37(_0x6d32fc, _0x34b238);
        },
        'CkRQF': _0x1fb528(0x1d2),
        'PQLXW': function (_0x691225, _0x5a0401) {
            return _0x691225(_0x5a0401);
        },
        'hdutb': _0x1fb528(0x1d3),
        'SCEdz': 'gzip, deflate',
        'qzavg': _0x1fb528(0x1d4),
        'txwAo': function (_0x5a71d8, _0x12c197) {
            return _0x5a71d8(_0x12c197);
        },
        'cVSFA': _0x1fb528(0x1d5),
        'ITquT': 'hello',
        'dJLqZ': _0x1fb528(0x1be),
        'SvtEV': _0x1fb528(0x1d6),
        'AZrUE': _0x1fb528(0x1d7),
        'VwfdJ': 'text/html',
        'zeLzZ': _0x1fb528(0x1d8),
        'dVBaR': _0x1fb528(0x1d9),
        'LJhin': function (_0xd6a81, _0xa935e6) {
            return _0xd6a81(_0xa935e6);
        },
        'NpUEZ': _0x1fb528(0x1da),
        'ZzQSA': function (_0x2947c4, _0x578bb0) {
            return _0x2947c4(_0x578bb0);
        },
        'NxDvO': _0x1fb528(0x1db),
        'hwujc': '/auth',
        'Zlccb': '/login',
        'dxQnj': _0x1fb528(0x1dc),
        'hRWdF': _0x1fb528(0x1dd),
        'IKmuN': 'status',
        'FAeNp': _0x1fb528(0x1de),
        'zBkSQ': _0x1fb528(0x1df),
        'bSTrb': _0x1fb528(0x1e0),
        'zpQWX': _0x1fb528(0x1e1),
        'WWGyn': _0x1fb528(0x1e2),
        'SeKAd': 'http://localhost:8080',
        'JIfVU': _0x1fb528(0x1e3),
        'kiDMj': 'http://localhost:8080/status.json',
        'TOwYV': '{bad: \'json\'}',
        'nZOzt': _0x1fb528(0x1e4),
        'JZhXj': _0x1fb528(0x1e5),
        'Iulji': 'http://localhost:8080/foo',
        'TBDOX': function (_0x591ae5, _0x5f2dd3) {
            return _0x591ae5(_0x5f2dd3);
        },
        'pPLzV': _0x1fb528(0x1e6),
        'XbTHS': _0x1fb528(0x1e7),
        'OSctW': '/foo',
        'OFvNY': 'derp',
        'NgwiA': 'user-agent',
        'yghHd': _0x1fb528(0x1e8),
        'zwyir': 'test',
        'ipbwE': 'custom-agent',
        'LagOr': function (_0x356675, _0x3d7db7) {
            return _0x356675(_0x3d7db7);
        },
        'mlIDQ': function (_0x56f527, _0x2a8738, _0x1b5eef) {
            return _0x56f527(_0x2a8738, _0x1b5eef);
        },
        'XBeIE': _0x1fb528(0x1e9),
        'APapQ': function (_0x593306, _0x397822) {
            return _0x593306(_0x397822);
        },
        'CCtkb': _0x1fb528(0x1ea),
        'JOOfI': function (_0x4cfc0d, _0x2498d1, _0x4dbb66) {
            return _0x4cfc0d(_0x2498d1, _0x4dbb66);
        },
        'UapAh': _0x1fb528(0x1eb),
        'tTEyR': function (_0x313a84, _0xea640c, _0x1316db) {
            return _0x313a84(_0xea640c, _0x1316db);
        },
        'gXLFf': _0x1fb528(0x1ec),
        'PkLzO': 'should have failed',
        'ZpCjE': function (_0x1796c0, _0x10a92c, _0x9aa64f) {
            return _0x1796c0(_0x10a92c, _0x9aa64f);
        },
        'fYnjo': _0x1fb528(0x1ed),
        'Xvpqs': function (_0x488180, _0x59da8d, _0x3105d4) {
            return _0x488180(_0x59da8d, _0x3105d4);
        },
        'SuUks': _0x1fb528(0x1ee),
        'tDRgo': _0x1fb528(0x1ef),
        'wpUxM': _0x1fb528(0x1f0),
        'jpIyi': function (_0x89079d, _0x50bc5f) {
            return _0x89079d(_0x50bc5f);
        },
        'kFFVZ': _0x1fb528(0x1f1),
        'QsGkS': _0x1fb528(0x1f2),
        'VnRdq': 'http://localhost:8080/headers',
        'hewjv': function (_0x1e0c6d, _0x2f528c) {
            return _0x1e0c6d(_0x2f528c);
        },
        'ghpIt': function (_0x608759, _0x1227b9, _0x379c18) {
            return _0x608759(_0x1227b9, _0x379c18);
        },
        'rORrT': _0x1fb528(0x1f3),
        'naIYN': _0x1fb528(0x1f4),
        'pXiBR': _0x1fb528(0x1f5),
        'xdCyP': function (_0x57eae4, _0x1df804) {
            return _0x57eae4(_0x1df804);
        },
        'VRXJU': _0x1fb528(0x1f6),
        'HgLCg': function (_0x57d606, _0x21f42a) {
            return _0x57d606(_0x21f42a);
        },
        'AIclh': _0x1fb528(0x1f7),
        'SWjio': _0x1fb528(0x1f8),
        'DAiqU': 'http://localhost:8080/login',
        'nMRGs': _0x1fb528(0x1f9),
        'aBkPQ': function (_0xcb98f1, _0x5b38b5) {
            return _0xcb98f1(_0x5b38b5);
        },
        'AFYoQ': _0x1fb528(0x1fa),
        'YUYfC': function (_0x2a226e, _0x4a63d0) {
            return _0x2a226e(_0x4a63d0);
        },
        'EFWff': _0x1fb528(0x1fb),
        'cfMlg': 'can turn off following redirects',
        'VsVfA': _0x1fb528(0x1fc),
        'zvJsH': _0x1fb528(0x1fd),
        'prhwT': _0x1fb528(0x1fe),
        'dQjDs': _0x1fb528(0x1ff),
        'cgUvW': _0x1fb528(0x200),
        'XXbxG': 'http://localhost:9988/foo',
        'FdqWE': _0x1fb528(0x201),
        'hxxGg': _0x1fb528(0x202),
        'ETFRm': _0x1fb528(0x203),
        'GflDT': _0x1fb528(0x204),
        'ICQMh': _0x1fb528(0x205),
        'nyVrA': function (_0x24a72b, _0x5b65d5, _0x18b62a) {
            return _0x24a72b(_0x5b65d5, _0x18b62a);
        },
        'lXFTK': 'catches errors',
        'CtSBI': _0x1fb528(0x206),
        'ibeDt': function (_0x137f1d, _0x2edaff, _0x130fdb) {
            return _0x137f1d(_0x2edaff, _0x130fdb);
        },
        'HsJUl': _0x1fb528(0x207),
        'eXfDT': 'sets duration on response',
        'xtwzg': 'sends up user-agent headers',
        'awlSM': _0x1fb528(0x208),
        'NyJtC': function (_0xefc158, _0x485844, _0x3a86a3) {
            return _0xefc158(_0x485844, _0x3a86a3);
        },
        'RIhDu': function (_0x178477, _0x3fbebd, _0xe8a7fb) {
            return _0x178477(_0x3fbebd, _0xe8a7fb);
        },
        'nakSM': _0x1fb528(0x209),
        'xAZpH': function (_0x33aec6, _0xcf2d7a, _0x1f2a3d) {
            return _0x33aec6(_0xcf2d7a, _0x1f2a3d);
        },
        'rmiXW': _0x1fb528(0x20a),
        'GHuzG': function (_0x2d028d, _0x305431, _0x45a76b) {
            return _0x2d028d(_0x305431, _0x45a76b);
        },
        'IvMRJ': _0x1fb528(0x20b),
        'xxQcm': 'bad headers',
        'sANmA': _0x1fb528(0x20c),
        'acfaR': function (_0x598393, _0x2ff68d) {
            return _0x598393(_0x2ff68d);
        },
        'aLDva': function (_0x31bd3a, _0x59ff85, _0x4e150d) {
            return _0x31bd3a(_0x59ff85, _0x4e150d);
        },
        'lnMpv': function (_0x1d3127, _0x2df6c6, _0x45f2a1) {
            return _0x1d3127(_0x2df6c6, _0x45f2a1);
        },
        'GyVLP': 'is defined',
        'ucKCg': _0x1fb528(0x20d),
        'BdTmL': function (_0x183dbf, _0x455a29, _0x4da1de) {
            return _0x183dbf(_0x455a29, _0x4da1de);
        },
        'kLTbJ': '#setDefaults',
        'ZeDCc': function (_0x4a29c1, _0x5544b2, _0x44d49a) {
            return _0x4a29c1(_0x5544b2, _0x44d49a);
        },
        'vXdCB': _0x1fb528(0x20e),
        'faYMP': function (_0x16bec8, _0x226f15, _0x2b72e8) {
            return _0x16bec8(_0x226f15, _0x2b72e8);
        },
        'euYND': '#sendPromise',
        'LZLjX': function (_0xa2b63c, _0x1c5989, _0x517017) {
            return _0xa2b63c(_0x1c5989, _0x517017);
        },
        'wRCSs': _0x1fb528(0x20f)
    };

    beforeEach(function () {
        const _0x4895a1 = _0x1fb528;

        this['fn'] = sinon[_0x4895a1(0x210)](), this.fn.withArgs(_0x54c3f6[_0x4895a1(0x211)])[_0x4895a1(0x212)]({}), this.fn[_0x4895a1(0x213)](_0x4895a1(0x214)).resolves([]);
    }), _0x54c3f6.lnMpv(it, _0x54c3f6[_0x1fb528(0x215)], () => {
        const _0x4e6be7 = _0x1fb528;

        _0x54c3f6[_0x4e6be7(0x216)](expect, request).to.be.an(_0x54c3f6[_0x4e6be7(0x217)]);
    }), _0x54c3f6[_0x1fb528(0x218)](context, _0x54c3f6[_0x1fb528(0x219)], () => {
        const _0x5ebca7 = _0x1fb528;
        const _0x459975 = {
            'SLekh': 'ECONNREFUSED',
            'oUxwT': _0x54c3f6[_0x5ebca7(0x21a)],
            'zqzLh': function (_0xdfd94, _0x5d62d0) {
                return _0xdfd94(_0x5d62d0);
            },
            'EanfP': function (_0x3aac94, _0x5b3861) {
                const _0x234cd3 = _0x5ebca7;

                return _0x54c3f6[_0x234cd3(0x21b)](_0x3aac94, _0x5b3861);
            }
        };

        it(_0x54c3f6[_0x5ebca7(0x21c)], () => {
            const _0x550186 = _0x5ebca7;
            const _0x5c4dcd = [1, 2, 3, 4];
            const _0x3e8e26 = [0, 999, 1000, 2000];
            const _0x327a56 = { 'code': _0x459975.SLekh };

            const _0x4b245b = sinon[_0x550186(0x210)]();

            _0x5c4dcd[_0x550186(0x21d)](() => {
                return request.getDelayForRetry({
                    'err': _0x327a56,
                    'onNext': _0x4b245b,
                    'retryIntervals': _0x5c4dcd,
                    'delaysRemaining': _0x3e8e26
                });
            }), expect(_0x3e8e26).to.be[_0x550186(0x21e)], expect(_0x4b245b.args).to.deep.eq([[0, 1], [999, 2], [100, 3], [200, 4]]);
        }), _0x54c3f6[_0x5ebca7(0x21f)](it, _0x54c3f6[_0x5ebca7(0x220)], () => {
            const _0x168f2f = _0x5ebca7;
            const _0x43344d = [1, 2, 3, 4];
            const _0x4a6671 = [2000, 2000, 2000, 2000];
            const _0x4e21d8 = { 'code': _0x459975[_0x168f2f(0x221)] };

            const _0x3c9d8d = sinon[_0x168f2f(0x210)]();

            request[_0x168f2f(0x222)]({
                'err': _0x4e21d8,
                'onNext': _0x3c9d8d,
                'retryIntervals': _0x43344d,
                'delaysRemaining': _0x4a6671
            }), _0x459975[_0x168f2f(0x223)](expect, _0x4a6671).to[_0x168f2f(0x224)][_0x168f2f(0x225)](3), expect(_0x3c9d8d).to.be[_0x168f2f(0x226)](2000, 1);
        }), _0x54c3f6[_0x5ebca7(0x21f)](it, _0x5ebca7(0x227), () => {
            const _0x232961 = _0x5ebca7;
            const _0x143832 = [1, 2, 3, 4];
            const _0x730f20 = [];

            const _0x199b1d = sinon[_0x232961(0x210)]();

            const _0x53cfa4 = sinon[_0x232961(0x210)]();

            request[_0x232961(0x222)]({
                'onElse': _0x53cfa4,
                'onNext': _0x199b1d,
                'retryIntervals': _0x143832,
                'delaysRemaining': _0x730f20
            }), _0x459975[_0x232961(0x228)](expect, _0x53cfa4).to.be.calledWithExactly(), expect(_0x199b1d)[_0x232961(0x229)].to.be.called;
        });
    }), _0x54c3f6.BdTmL(context, _0x54c3f6[_0x1fb528(0x22a)], () => {
        const _0x51c18e = _0x1fb528;

        it(_0x54c3f6[_0x51c18e(0x22b)], () => {
            const _0x113e27 = _0x51c18e;
            const _0xddefcb = [1, 2, 3, 4];

            const _0x41a47f = request[_0x113e27(0x22c)]({ 'retryIntervals': _0xddefcb });

            expect(_0x41a47f[_0x113e27(0x22d)]).to.eq(_0xddefcb), _0x54c3f6.BuGMC(expect, _0x41a47f[_0x113e27(0x22e)])[_0x113e27(0x229)].to.eq(_0xddefcb), expect(_0x41a47f[_0x113e27(0x22e)]).to[_0x113e27(0x22f)].eq(_0xddefcb);
        }), _0x54c3f6.FdhJv(it, _0x54c3f6.xFPeS, () => {
            const _0x48ce6b = _0x51c18e;

            const _0x8d88b9 = request[_0x48ce6b(0x22c)]({});

            _0x54c3f6[_0x48ce6b(0x230)](expect, _0x8d88b9[_0x48ce6b(0x22d)]).to.deep.eq([0, 1000, 2000, 2000]);
        }), _0x54c3f6[_0x51c18e(0x21f)](it, _0x54c3f6[_0x51c18e(0x231)], () => {
            const _0x5a97cf = [1];

            const _0x4506b2 = request.setDefaults({ 'delaysRemaining': _0x5a97cf });

            expect(_0x4506b2.delaysRemaining).to.eq(_0x5a97cf);
        });
    }), context('#normalizeResponse', () => {
        const _0x31d042 = _0x1fb528;
        const _0x1c2c82 = {
            'beXLl': function (_0x4f8399, _0x3580a6) {
                return _0x4f8399(_0x3580a6);
            },
            'QBQfh': _0x54c3f6[_0x31d042(0x232)],
            'TqHuc': _0x31d042(0x233),
            'kLZSH': _0x54c3f6.cKwpG
        };

        _0x54c3f6[_0x31d042(0x230)](beforeEach, function () {
            const _0x200ad2 = _0x31d042;

            this[_0x200ad2(0x234)] = sinon[_0x200ad2(0x210)]();
        }), _0x54c3f6[_0x31d042(0x21f)](it, _0x31d042(0x235), function () {
            const _0x2b7e90 = _0x31d042;

            expect(request.normalizeResponse(this[_0x2b7e90(0x234)], {
                'statusCode': 0x194,
                'request': {
                    'headers': { 'foo': _0x54c3f6.aNnmA },
                    'body': _0x2b7e90(0x1c7)
                }
            })).to[_0x2b7e90(0x22f)].eq({
                'status': 0x194,
                'statusText': _0x54c3f6[_0x2b7e90(0x236)],
                'isOkStatusCode': false,
                'requestHeaders': { 'foo': 'bar' },
                'requestBody': _0x54c3f6[_0x2b7e90(0x237)]
            }), _0x54c3f6[_0x2b7e90(0x230)](expect, this[_0x2b7e90(0x234)]).to.be[_0x2b7e90(0x238)];
        }), it(_0x54c3f6.GreGW, function () {
            const _0x864b7f = _0x31d042;

            _0x1c2c82[_0x864b7f(0x239)](expect, request[_0x864b7f(0x23a)](this[_0x864b7f(0x234)], {
                'foo': _0x1c2c82[_0x864b7f(0x23b)],
                'req': {},
                'originalHeaders': {},
                'headers': { 'Content-Length': 0x32 },
                'body': _0x1c2c82[_0x864b7f(0x23c)],
                'statusCode': 0xc8,
                'request': {
                    'headers': { 'foo': _0x1c2c82[_0x864b7f(0x23b)] },
                    'body': 'body'
                }
            })).to[_0x864b7f(0x22f)].eq({
                'body': _0x864b7f(0x233),
                'headers': { 'Content-Length': 0x32 },
                'status': 0xc8,
                'statusText': 'OK',
                'isOkStatusCode': true,
                'requestHeaders': { 'foo': _0x1c2c82[_0x864b7f(0x23b)] },
                'requestBody': _0x1c2c82[_0x864b7f(0x23d)]
            }), _0x1c2c82[_0x864b7f(0x239)](expect, this.push).to.be[_0x864b7f(0x238)];
        });
    }), _0x54c3f6.ZeDCc(context, _0x54c3f6[_0x1fb528(0x23e)], () => {
        const _0x1edde4 = _0x1fb528;
        const _0x1951a6 = {
            'rALpk': _0x54c3f6[_0x1edde4(0x23f)],
            'XFXoj': _0x54c3f6[_0x1edde4(0x240)],
            'jMOio': _0x54c3f6.KyVta,
            'YfLlE': function (_0x12361b, _0x137b57) {
                const _0x44e100 = _0x1edde4;

                return _0x54c3f6[_0x44e100(0x241)](_0x12361b, _0x137b57);
            },
            'hPlos': _0x54c3f6.DirIm,
            'MaGAC': _0x1edde4(0x242),
            'IGqiO': _0x54c3f6[_0x1edde4(0x243)],
            'kkyOv': function (_0x53e8a1, _0x55452e) {
                const _0x845b5a = _0x1edde4;

                return _0x54c3f6[_0x845b5a(0x241)](_0x53e8a1, _0x55452e);
            },
            'RSKFi': _0x54c3f6[_0x1edde4(0x21a)],
            'OufjJ': 'http://localhost:9988/econnreset',
            'XZCLD': _0x54c3f6.Bnptx,
            'YHQfa': function (_0x58866c, _0x3a0bf3) {
                const _0x3f6718 = _0x1edde4;

                return _0x54c3f6[_0x3f6718(0x244)](_0x58866c, _0x3a0bf3);
            },
            'hsokq': function (_0x275262, _0x53c2de, _0x5d9cda) {
                const _0x23939f = _0x1edde4;

                return _0x54c3f6[_0x23939f(0x245)](_0x275262, _0x53c2de, _0x5d9cda);
            },
            'hXbSS': _0x54c3f6[_0x1edde4(0x246)]
        };

        _0x54c3f6[_0x1edde4(0x244)](beforeEach, function (_0x3966aa) {
            const _0x551b93 = _0x1edde4;

            this[_0x551b93(0x247)] = 0, this['srv'] = http[_0x551b93(0x248)]((_0x52b4fc, _0x2fa8cc) => {
                const _0x2c5ec1 = _0x551b93;

                this[_0x2c5ec1(0x247)]++;
                switch (_0x52b4fc[_0x2c5ec1(0x249)]) {
                    case _0x1951a6[_0x2c5ec1(0x24a)]:
                        _0x2fa8cc.writeHead(200);
                        return _0x2fa8cc[_0x2c5ec1(0x24b)](_0x2c5ec1(0x24c));
                    case _0x1951a6[_0x2c5ec1(0x24d)]:
                        return _0x52b4fc[_0x2c5ec1(0x24e)][_0x2c5ec1(0x24f)]();
                    default:
                        break;
                }
            }), this[_0x551b93(0x250)][_0x551b93(0x251)](9988, _0x3966aa);
        }), _0x54c3f6[_0x1edde4(0x244)](afterEach, function () {
            const _0x2d9a78 = _0x1edde4;

            return this[_0x2d9a78(0x250)][_0x2d9a78(0x252)]();
        }), _0x54c3f6[_0x1edde4(0x253)](context, _0x54c3f6[_0x1edde4(0x254)], () => {
            const _0x5798e1 = _0x1edde4;
            const _0x320817 = {
                'CWjdE': _0x5798e1(0x1d0),
                'rnqjM': function (_0x240a7d, _0x1274bf) {
                    const _0x478420 = _0x5798e1;

                    return _0x1951a6[_0x478420(0x255)](_0x240a7d, _0x1274bf);
                },
                'MykuW': _0x1951a6[_0x5798e1(0x256)],
                'ATOvp': _0x1951a6.OufjJ,
                'XqKmo': _0x1951a6[_0x5798e1(0x257)],
                'bxqoe': function (_0x5ee17a, _0x31f146) {
                    const _0x7f4063 = _0x5798e1;

                    return _0x1951a6[_0x7f4063(0x258)](_0x5ee17a, _0x31f146);
                },
                'lvYBt': _0x5798e1(0x259),
                'OGkjp': 'retry'
            };

            _0x1951a6[_0x5798e1(0x25a)](it, _0x1951a6.hXbSS, () => {
                const _0x4cef67 = _0x5798e1;
                const _0x551238 = {
                    'NwTKs': _0x1951a6.jMOio,
                    'Qxaxa': function (_0x2abd00, _0x54fc67) {
                        return _0x1951a6.YfLlE(_0x2abd00, _0x54fc67);
                    },
                    'vLtFH': _0x1951a6[_0x4cef67(0x25b)]
                };

                const _0x4b1fa3 = request[_0x4cef67(0x22c)]({
                    'url': _0x1951a6[_0x4cef67(0x25c)],
                    'timeout': 0x3e8
                });

                const _0xcc4743 = request[_0x4cef67(0x20c)](_0x4b1fa3);

                var _0x4bc20e = 0;

                _0xcc4743.on(_0x1951a6[_0x4cef67(0x25d)], () => {
                    _0x4bc20e++;
                });

                const _0x5ef4e5 = Bluebird[_0x4cef67(0x25e)](_0x39f156 => {
                    const _0x27ff9e = _0x4cef67;

                    _0xcc4743.on(_0x551238[_0x27ff9e(0x25f)], _0x39f156);
                });

                return _0x1951a6[_0x4cef67(0x255)](expect, _0x5ef4e5).to.be[_0x4cef67(0x260)][_0x4cef67(0x1ba)](_0x14149b => {
                    const _0x1f260b = _0x4cef67;

                    _0x551238[_0x1f260b(0x261)](expect, _0x14149b[_0x1f260b(0x262)]).to.eq(_0x551238[_0x1f260b(0x263)]), expect(_0x4bc20e).to.eq(0);
                });
            }), _0x1951a6[_0x5798e1(0x25a)](it, _0x5798e1(0x1cd), () => {
                const _0x4eacb6 = _0x5798e1;
                const _0x2b9026 = {
                    'url': _0x320817[_0x4eacb6(0x264)],
                    'retryIntervals': [0, 1, 2, 3],
                    'timeout': 0x3e8
                };

                const _0x200147 = request[_0x4eacb6(0x20c)](_0x2b9026);

                var _0x190aeb = 0;

                _0x200147.on(_0x4eacb6(0x265), () => {
                    _0x190aeb++;
                });

                const _0x588ce4 = Bluebird[_0x4eacb6(0x25e)](_0x56fe7b => {
                    const _0x2cad62 = _0x4eacb6;

                    _0x200147.on(_0x320817[_0x2cad62(0x266)], _0x56fe7b);
                });

                return _0x320817[_0x4eacb6(0x267)](expect, _0x588ce4).to.be[_0x4eacb6(0x260)].then(_0x289b82 => {
                    const _0x5d3d29 = _0x4eacb6;

                    _0x320817[_0x5d3d29(0x267)](expect, _0x289b82[_0x5d3d29(0x262)]).to.eq(_0x320817[_0x5d3d29(0x268)]), _0x320817[_0x5d3d29(0x267)](expect, _0x190aeb).to.eq(4);
                });
            }), it(_0x5798e1(0x269), () => {
                const _0x3d3433 = _0x5798e1;

                nock[_0x3d3433(0x26a)]();
                const _0x426768 = {
                    'url': _0x320817[_0x3d3433(0x26b)],
                    'retryIntervals': [0, 1, 2, 3],
                    'timeout': 0x3e8
                };

                const _0x55d94c = request[_0x3d3433(0x20c)](_0x426768);

                var _0x3ceb3e = 0;

                _0x55d94c.on(_0x320817.OGkjp, () => {
                    _0x3ceb3e++;
                });

                const _0xa35df6 = Bluebird[_0x3d3433(0x25e)](_0x57d81f => {
                    const _0x2b6918 = _0x3d3433;

                    _0x55d94c.on(_0x2b6918(0x1d0), _0x57d81f);
                });

                return _0x320817.bxqoe(expect, _0xa35df6).to.be[_0x3d3433(0x260)][_0x3d3433(0x1ba)](_0x4a440f => {
                    const _0x43c925 = _0x3d3433;

                    _0x320817[_0x43c925(0x267)](expect, _0x4a440f[_0x43c925(0x262)]).to.eq(_0x320817.XqKmo), _0x320817[_0x43c925(0x26c)](expect, _0x3ceb3e).to.eq(4);
                });
            });
        }), context(_0x1edde4(0x26d), () => {
            const _0x2c9e19 = _0x1edde4;
            const _0x1de097 = {
                'NAUCl': _0x54c3f6[_0x2c9e19(0x26e)],
                'FvgsR': function (_0x2d72a0, _0x373c49) {
                    return _0x2d72a0(_0x373c49);
                },
                'zXSSJ': _0x54c3f6.DirIm,
                'GGTFR': _0x54c3f6[_0x2c9e19(0x26f)],
                'MERXr': function (_0x531517, _0x36e364) {
                    const _0x4b0b83 = _0x2c9e19;

                    return _0x54c3f6[_0x4b0b83(0x270)](_0x531517, _0x36e364);
                },
                'YNpEi': _0x54c3f6.hgnAz
            };

            _0x54c3f6[_0x2c9e19(0x21f)](it, _0x54c3f6.YmFmS, function () {
                const _0x556159 = _0x2c9e19;
                const _0x31e4b1 = {
                    'url': _0x1de097.GGTFR,
                    'timeout': 0x64
                };

                return request.create(_0x31e4b1, true)[_0x556159(0x1ba)](() => {
                    const _0x373ce7 = _0x556159;

                    throw new Error(_0x1de097[_0x373ce7(0x271)]);
                }).catch(_0x41fa81 => {
                    const _0x1873f8 = _0x556159;

                    _0x1de097[_0x1873f8(0x272)](expect, _0x41fa81[_0x1873f8(0x1d0)].code).to.eq(_0x1de097.zXSSJ), expect(this.hits).to.eq(1);
                });
            }), _0x54c3f6[_0x2c9e19(0x273)](it, _0x54c3f6[_0x2c9e19(0x274)], function () {
                const _0x5e079f = _0x2c9e19;
                const _0x41908d = {
                    'url': _0x1de097.YNpEi,
                    'retryIntervals': [0, 1, 2, 3],
                    'timeout': 0xfa
                };

                return request[_0x5e079f(0x20c)](_0x41908d, true)[_0x5e079f(0x1ba)](() => {
                    const _0x2c765f = _0x5e079f;

                    throw new Error(_0x2c765f(0x1c9));
                }).catch(_0x43499e => {
                    const _0x312a10 = _0x5e079f;

                    _0x1de097[_0x312a10(0x275)](expect, _0x43499e.error[_0x312a10(0x262)]).to.eq(_0x312a10(0x1c1)), _0x1de097[_0x312a10(0x275)](expect, this[_0x312a10(0x247)]).to.eq(5);
                });
            });
        });
    }), _0x54c3f6[_0x1fb528(0x276)](context, _0x54c3f6[_0x1fb528(0x277)], () => {
        const _0x22c323 = _0x1fb528;
        const _0x4dde21 = {
            'FwmhE': function (_0x2db7d4, _0x33536b) {
                const _0x116b9e = _0x4855;

                return _0x54c3f6[_0x116b9e(0x278)](_0x2db7d4, _0x33536b);
            },
            'TceON': _0x22c323(0x279),
            'PPeod': function (_0x33bcca, _0x512dc8) {
                return _0x33bcca(_0x512dc8);
            },
            'jGJga': _0x22c323(0x1d8),
            'XeKCv': _0x54c3f6[_0x22c323(0x27a)],
            'KsjQV': _0x54c3f6[_0x22c323(0x27b)],
            'SCzjE': _0x54c3f6[_0x22c323(0x27c)],
            'RcKWj': _0x54c3f6[_0x22c323(0x27d)],
            'aRoyH': function (_0x188070, _0x160e09) {
                const _0x9ca91e = _0x22c323;

                return _0x54c3f6[_0x9ca91e(0x278)](_0x188070, _0x160e09);
            },
            'kIBmf': function (_0x28c975, _0x3722f5) {
                return _0x28c975(_0x3722f5);
            },
            'QQhLW': _0x22c323(0x27e),
            'aBarO': _0x54c3f6[_0x22c323(0x27f)],
            'yRvOl': _0x54c3f6[_0x22c323(0x280)],
            'hcGny': _0x22c323(0x281),
            'JjPJS': function (_0x2d4c2e, _0x4e1612) {
                return _0x54c3f6.jpIyi(_0x2d4c2e, _0x4e1612);
            },
            'KpIQr': _0x54c3f6.kFFVZ,
            'EtSrf': function (_0x33e8ee, _0x1fa1e6) {
                const _0x1fdc0d = _0x22c323;

                return _0x54c3f6[_0x1fdc0d(0x282)](_0x33e8ee, _0x1fa1e6);
            },
            'FslFe': _0x22c323(0x283),
            'ietYs': _0x54c3f6[_0x22c323(0x284)],
            'UIIFO': _0x22c323(0x285),
            'QzkOF': _0x54c3f6.Iulji,
            'yzzgb': function (_0x959af0, _0x3d455c) {
                const _0x855fb9 = _0x22c323;

                return _0x54c3f6[_0x855fb9(0x282)](_0x959af0, _0x3d455c);
            },
            'Wxcqw': _0x54c3f6[_0x22c323(0x286)],
            'GWntD': _0x22c323(0x287),
            'bLukj': _0x54c3f6[_0x22c323(0x288)],
            'onwFJ': _0x54c3f6.JZhXj,
            'MvfiO': function (_0x27289a, _0x51d3b4) {
                const _0xfd3844 = _0x22c323;

                return _0x54c3f6[_0xfd3844(0x289)](_0x27289a, _0x51d3b4);
            },
            'GjeIY': _0x22c323(0x1d3),
            'mTRbL': function (_0x15fa32, _0x121c06, _0x56fddb) {
                return _0x54c3f6.ghpIt(_0x15fa32, _0x121c06, _0x56fddb);
            },
            'eIhVN': _0x54c3f6.rORrT,
            'IvnON': _0x54c3f6[_0x22c323(0x28a)],
            'HIBbI': _0x54c3f6[_0x22c323(0x28b)],
            'BARZf': function (_0x1376d7, _0x1867c5) {
                return _0x1376d7(_0x1867c5);
            },
            'rHRqn': '/foo?bar=baz&q=1',
            'mGTOf': function (_0x244a9, _0x3689b1) {
                const _0x5924d9 = _0x22c323;

                return _0x54c3f6[_0x5924d9(0x28c)](_0x244a9, _0x3689b1);
            },
            'yvrhK': _0x54c3f6[_0x22c323(0x28d)],
            'AXBOw': function (_0x360d55, _0x5de0f8) {
                const _0x66993 = _0x22c323;

                return _0x54c3f6[_0x66993(0x28e)](_0x360d55, _0x5de0f8);
            },
            'AUtrr': function (_0xcceaaa, _0x57208e) {
                return _0xcceaaa(_0x57208e);
            },
            'fPTaS': _0x54c3f6[_0x22c323(0x28f)],
            'olzrh': _0x22c323(0x1e1),
            'bVgeI': _0x54c3f6.SWjio,
            'mAusD': _0x54c3f6[_0x22c323(0x290)],
            'jHkVk': function (_0x3d4303, _0x353b6a) {
                return _0x3d4303(_0x353b6a);
            },
            'MbsMN': _0x54c3f6[_0x22c323(0x291)],
            'LFEFW': _0x54c3f6.nMRGs,
            'IBeET': function (_0x3f6b71, _0x413bb5) {
                const _0x4e94ae = _0x22c323;

                return _0x54c3f6[_0x4e94ae(0x28e)](_0x3f6b71, _0x413bb5);
            },
            'jpCyM': function (_0x539390, _0x442985) {
                return _0x54c3f6.aBkPQ(_0x539390, _0x442985);
            },
            'CTsUL': function (_0x3ba710, _0x2b3f0e) {
                return _0x3ba710(_0x2b3f0e);
            },
            'ezJXw': function (_0x4c2f7f, _0x1b4bb0) {
                const _0x48362f = _0x22c323;

                return _0x54c3f6[_0x48362f(0x292)](_0x4c2f7f, _0x1b4bb0);
            },
            'abCLx': _0x54c3f6[_0x22c323(0x293)],
            'BcTcx': function (_0x5cb00f, _0x182695) {
                const _0x16624d = _0x22c323;

                return _0x54c3f6[_0x16624d(0x294)](_0x5cb00f, _0x182695);
            },
            'VXrsG': _0x54c3f6[_0x22c323(0x295)],
            'aCtmg': function (_0x2bbcff, _0x2006fb, _0x2d1d63) {
                return _0x54c3f6.ghpIt(_0x2bbcff, _0x2006fb, _0x2d1d63);
            },
            'BojXW': _0x22c323(0x296),
            'CCcDl': function (_0x58c25a, _0x3359d6, _0x4d6d22) {
                return _0x58c25a(_0x3359d6, _0x4d6d22);
            },
            'DdSzF': _0x54c3f6[_0x22c323(0x297)],
            'Btyzk': function (_0x4f2ed6, _0x19b18f, _0x37463f) {
                const _0x57b74f = _0x22c323;

                return _0x54c3f6[_0x57b74f(0x298)](_0x4f2ed6, _0x19b18f, _0x37463f);
            },
            'JWTrM': 'resolves redirectedToUrl on relative redirects',
            'LWRPS': function (_0x2a24a8, _0x5c39e5, _0x5a34f1) {
                const _0x296b26 = _0x22c323;

                return _0x54c3f6[_0x296b26(0x298)](_0x2a24a8, _0x5c39e5, _0x5a34f1);
            },
            'NfqFz': _0x54c3f6[_0x22c323(0x299)],
            'BDjKa': function (_0x28074b, _0x428baa, _0x3e574c) {
                const _0x35be1c = _0x22c323;

                return _0x54c3f6[_0x35be1c(0x298)](_0x28074b, _0x428baa, _0x3e574c);
            },
            'ZRqNo': _0x54c3f6[_0x22c323(0x29a)],
            'sJsuV': _0x54c3f6[_0x22c323(0x29b)],
            'kYPtn': _0x54c3f6[_0x22c323(0x29c)],
            'OCiig': _0x54c3f6[_0x22c323(0x29d)],
            'LvFyL': _0x22c323(0x1c5),
            'bJgHf': function (_0x1c9099, _0x179fc1) {
                const _0x44ada8 = _0x22c323;

                return _0x54c3f6[_0x44ada8(0x294)](_0x1c9099, _0x179fc1);
            },
            'eyrEg': _0x54c3f6[_0x22c323(0x29e)],
            'eFFqw': _0x54c3f6.FdqWE
        };

        _0x54c3f6[_0x22c323(0x298)](it, _0x54c3f6[_0x22c323(0x29f)], function () {
            const _0x3bb08b = _0x22c323;

            const _0x20e7c5 = sinon.spy(request.rp[_0x3bb08b(0x2a0)][_0x3bb08b(0x2a1)], _0x4dde21.TceON);

            return _0x4dde21.PPeod(nock, _0x4dde21.jGJga)[_0x3bb08b(0x1b7)](_0x4dde21[_0x3bb08b(0x2a2)]).reply(200, _0x4dde21[_0x3bb08b(0x2a3)], { 'Content-Type': _0x3bb08b(0x2a4) }), request[_0x3bb08b(0x2a5)]({}, this.fn, {
                'url': _0x4dde21.SCzjE,
                'cookies': false
            }).then(() => {
                const _0x180c54 = _0x3bb08b;

                _0x4dde21.FwmhE(expect, _0x20e7c5).to.be[_0x180c54(0x2a6)]({ 'strictSSL': false });
            });
        }), it(_0x54c3f6.ETFRm, function () {
            const _0x5c38c0 = _0x22c323;

            return nock(_0x4dde21[_0x5c38c0(0x2a7)])[_0x5c38c0(0x1b7)]('/foo')[_0x5c38c0(0x1b3)](500, ''), request.sendPromise({}, this.fn, {
                'url': _0x4dde21.SCzjE,
                'cookies': false
            });
        }), _0x54c3f6[_0x22c323(0x298)](it, _0x54c3f6[_0x22c323(0x2a8)], function () {
            const _0x330b0b = _0x22c323;
            const _0x28ffee = {
                'RvnLG': function (_0x5ede22, _0x3983c1) {
                    return _0x54c3f6.PQLXW(_0x5ede22, _0x3983c1);
                },
                'VXnBM': _0x54c3f6[_0x330b0b(0x2a9)],
                'qoZRx': _0x54c3f6.SCEdz,
                'AbBqt': _0x54c3f6.qzavg,
                'YnpcW': _0x330b0b(0x2aa),
                'uUqkp': 'foobarbaz',
                'hfNVc': function (_0x6d62ce, _0x5901da) {
                    const _0x34009f = _0x330b0b;

                    return _0x54c3f6[_0x34009f(0x2ab)](_0x6d62ce, _0x5901da);
                },
                'knpVA': _0x54c3f6[_0x330b0b(0x27c)],
                'gXVVs': _0x54c3f6.ITquT,
                'nGopY': _0x54c3f6[_0x330b0b(0x237)],
                'koHKP': _0x54c3f6.dJLqZ,
                'YsqET': _0x54c3f6.SvtEV,
                'SQJwa': 'isOkStatusCode',
                'IeLWu': 'statusText',
                'PYZWW': 'allRequestResponses',
                'QkVfg': _0x54c3f6[_0x330b0b(0x2ac)],
                'IeVIN': _0x54c3f6[_0x330b0b(0x2ad)],
                'kqsxm': function (_0x2a153d, _0x1f4893) {
                    return _0x2a153d(_0x1f4893);
                }
            };

            return nock(_0x54c3f6[_0x330b0b(0x2ae)]).get(_0x330b0b(0x2af))[_0x330b0b(0x1b3)](200, _0x54c3f6[_0x330b0b(0x27b)], { 'Content-Type': _0x330b0b(0x2a4) }), request[_0x330b0b(0x2a5)]({}, this.fn, {
                'url': _0x54c3f6.cVSFA,
                'cookies': false,
                'body': 'foobarbaz'
            }).then(_0x5789a2 => {
                const _0x349247 = _0x330b0b;
                const _0x5206fa = ['5', '1', '0', '6', '7', '8', '3', '2', '4'];
                var _0x3b3a7c = 0;

                while (true) {
                    switch (_0x5206fa[_0x3b3a7c++]) {
                        case '0':
                            _0x28ffee[_0x349247(0x2b0)](expect, _0x5789a2.statusText).to.eq('OK');
                            continue;
                        case '1':
                            _0x28ffee[_0x349247(0x2b0)](expect, _0x5789a2[_0x349247(0x2b1)]).to.eq(200);
                            continue;
                        case '2':
                            _0x28ffee[_0x349247(0x2b0)](expect, _0x5789a2[_0x349247(0x1e0)]).to.deep.eq({
                                'accept': _0x28ffee[_0x349247(0x2b2)],
                                'accept-encoding': _0x28ffee[_0x349247(0x2b3)],
                                'connection': _0x28ffee.AbBqt,
                                'content-length': 0x9,
                                'host': _0x28ffee[_0x349247(0x2b4)]
                            });
                            continue;
                        case '3':
                            _0x28ffee[_0x349247(0x2b0)](expect, _0x5789a2[_0x349247(0x1d7)]).to.eq(_0x28ffee[_0x349247(0x2b5)]);
                            continue;
                        case '4':
                            _0x28ffee.hfNVc(expect, _0x5789a2[_0x349247(0x2b6)]).to[_0x349247(0x22f)].eq([{
                                'Request Body': _0x28ffee[_0x349247(0x2b5)],
                                'Request Headers': {
                                    'accept': _0x28ffee[_0x349247(0x2b2)],
                                    'accept-encoding': _0x28ffee[_0x349247(0x2b3)],
                                    'connection': _0x28ffee[_0x349247(0x2b7)],
                                    'content-length': 0x9,
                                    'host': _0x28ffee[_0x349247(0x2b4)]
                                },
                                'Request URL': _0x28ffee[_0x349247(0x2b8)],
                                'Response Body': _0x28ffee[_0x349247(0x2b9)],
                                'Response Headers': { 'content-type': _0x349247(0x2a4) },
                                'Response Status': 0xc8
                            }]);
                            continue;
                        case '5':
                            expect(_0x5789a2).to.have[_0x349247(0x2ba)]('status', _0x28ffee[_0x349247(0x2bb)], _0x28ffee[_0x349247(0x2bc)], _0x28ffee.YsqET, _0x28ffee.SQJwa, _0x28ffee[_0x349247(0x2bd)], _0x28ffee[_0x349247(0x2be)], _0x28ffee[_0x349247(0x2bf)], _0x349247(0x1e0));
                            continue;
                        case '6':
                            expect(_0x5789a2[_0x349247(0x1c7)]).to.eq(_0x28ffee[_0x349247(0x2b9)]);
                            continue;
                        case '7':
                            _0x28ffee[_0x349247(0x2c0)](expect, _0x5789a2[_0x349247(0x1be)]).to[_0x349247(0x22f)].eq({ 'content-type': _0x28ffee[_0x349247(0x2c1)] });
                            continue;
                        case '8':
                            _0x28ffee[_0x349247(0x2c2)](expect, _0x5789a2[_0x349247(0x1de)]).to.be.true;
                            continue;
                    }
                    break;
                }
            });
        }), _0x54c3f6.ghpIt(it, _0x54c3f6[_0x22c323(0x2c3)], function () {
            const _0xe53710 = _0x22c323;
            const _0x43e7da = {
                'rpdXl': _0x54c3f6[_0xe53710(0x2c4)],
                'Mxxnj': _0x54c3f6.VwfdJ,
                'VGAJk': function (_0x4f7219, _0x29cec0) {
                    return _0x54c3f6.LJhin(_0x4f7219, _0x29cec0);
                },
                'krXCs': _0xe53710(0x2c5),
                'DoIpV': _0x54c3f6[_0xe53710(0x2a9)],
                'nhYIi': _0x54c3f6[_0xe53710(0x2c6)],
                'NkfQh': _0xe53710(0x1d4),
                'ggPuD': _0x54c3f6.NpUEZ,
                'XFJgy': function (_0x33e7d2, _0x337fbb) {
                    const _0x578682 = _0xe53710;

                    return _0x54c3f6[_0x578682(0x2c7)](_0x33e7d2, _0x337fbb);
                },
                'Hbryr': _0xe53710(0x2aa),
                'XEquw': _0xe53710(0x2c8),
                'HZEhG': _0x54c3f6[_0xe53710(0x2c9)],
                'FMXRk': _0x54c3f6[_0xe53710(0x2ca)],
                'QfdFs': _0x54c3f6.Zlccb,
                'Hhnst': _0x54c3f6[_0xe53710(0x2cb)],
                'pucVy': _0x54c3f6[_0xe53710(0x2cc)],
                'jzhwO': _0x54c3f6[_0xe53710(0x2cd)],
                'RJjPc': 'body',
                'kIjAU': _0xe53710(0x1be),
                'VyfPW': _0x54c3f6[_0xe53710(0x2ce)],
                'GDGBw': _0x54c3f6[_0xe53710(0x2cf)],
                'kRVLO': _0x54c3f6[_0xe53710(0x2ac)],
                'EZqjy': _0x54c3f6[_0xe53710(0x2d0)]
            };

            return this.fn[_0xe53710(0x212)](), _0x54c3f6[_0xe53710(0x2c7)](nock, 'http://www.github.com')[_0xe53710(0x1b7)](_0x54c3f6[_0xe53710(0x2d1)])[_0xe53710(0x1b3)](301, null, { 'location': _0x54c3f6[_0xe53710(0x2ca)] })[_0xe53710(0x1b7)](_0x54c3f6.hwujc)[_0xe53710(0x1b3)](302, null, { 'location': _0x54c3f6[_0xe53710(0x291)] })[_0xe53710(0x1b7)](_0xe53710(0x2d2))[_0xe53710(0x1b3)](200, 'log in', { 'Content-Type': _0x54c3f6.VwfdJ }), request[_0xe53710(0x2a5)]({}, this.fn, {
                'url': _0xe53710(0x2c8),
                'cookies': false
            })[_0xe53710(0x1ba)](_0x459e9b => {
                const _0x5dcbe2 = _0xe53710;

                const _0x9c9a6b = _0x43e7da[_0x5dcbe2(0x2d3)][_0x5dcbe2(0x2d4)]('|');

                var _0x485a59 = 0;

                while (true) {
                    switch (_0x9c9a6b[_0x485a59++]) {
                        case '0':
                            expect(_0x459e9b[_0x5dcbe2(0x1be)]).to[_0x5dcbe2(0x22f)].eq({ 'content-type': _0x43e7da[_0x5dcbe2(0x2d5)] });
                            continue;
                        case '1':
                            expect(_0x459e9b[_0x5dcbe2(0x1de)]).to.be[_0x5dcbe2(0x1e7)];
                            continue;
                        case '2':
                            _0x43e7da[_0x5dcbe2(0x2d6)](expect, _0x459e9b[_0x5dcbe2(0x1c7)]).to.eq(_0x43e7da[_0x5dcbe2(0x2d7)]);
                            continue;
                        case '3':
                            _0x43e7da.VGAJk(expect, _0x459e9b.requestHeaders).to[_0x5dcbe2(0x22f)].eq({
                                'accept': _0x43e7da[_0x5dcbe2(0x2d8)],
                                'accept-encoding': _0x43e7da.nhYIi,
                                'connection': _0x43e7da[_0x5dcbe2(0x2d9)],
                                'referer': _0x43e7da.ggPuD,
                                'host': _0x5dcbe2(0x2aa)
                            });
                            continue;
                        case '4':
                            _0x43e7da[_0x5dcbe2(0x2da)](expect, _0x459e9b[_0x5dcbe2(0x1df)]).to.eq('OK');
                            continue;
                        case '5':
                            _0x43e7da[_0x5dcbe2(0x2da)](expect, _0x459e9b.allRequestResponses).to[_0x5dcbe2(0x22f)].eq([{
                                'Request Body': null,
                                'Request Headers': {
                                    'accept': _0x5dcbe2(0x1d3),
                                    'accept-encoding': _0x43e7da[_0x5dcbe2(0x2db)],
                                    'connection': 'keep-alive',
                                    'host': _0x43e7da[_0x5dcbe2(0x2dc)]
                                },
                                'Request URL': _0x43e7da[_0x5dcbe2(0x2dd)],
                                'Response Body': null,
                                'Response Headers': {
                                    'content-type': _0x43e7da[_0x5dcbe2(0x2de)],
                                    'location': _0x43e7da[_0x5dcbe2(0x2df)]
                                },
                                'Response Status': 0x12d
                            }, {
                                'Request Body': null,
                                'Request Headers': {
                                    'accept': _0x43e7da[_0x5dcbe2(0x2d8)],
                                    'accept-encoding': _0x43e7da.nhYIi,
                                    'connection': 'keep-alive',
                                    'host': _0x43e7da[_0x5dcbe2(0x2dc)],
                                    'referer': _0x43e7da[_0x5dcbe2(0x2dd)]
                                },
                                'Request URL': _0x5dcbe2(0x1da),
                                'Response Body': null,
                                'Response Headers': {
                                    'content-type': _0x43e7da.HZEhG,
                                    'location': _0x43e7da[_0x5dcbe2(0x2e0)]
                                },
                                'Response Status': 0x12e
                            }, {
                                'Request Body': null,
                                'Request Headers': {
                                    'accept': _0x43e7da[_0x5dcbe2(0x2d8)],
                                    'accept-encoding': _0x5dcbe2(0x2e1),
                                    'connection': _0x43e7da.NkfQh,
                                    'host': _0x43e7da[_0x5dcbe2(0x2dc)],
                                    'referer': _0x5dcbe2(0x1da)
                                },
                                'Request URL': 'http://www.github.com/login',
                                'Response Body': _0x43e7da[_0x5dcbe2(0x2d7)],
                                'Response Headers': { 'content-type': _0x43e7da[_0x5dcbe2(0x2d5)] },
                                'Response Status': 0xc8
                            }]);
                            continue;
                        case '6':
                            expect(_0x459e9b.requestBody).to.be[_0x5dcbe2(0x2e2)];
                            continue;
                        case '7':
                            _0x43e7da.XFJgy(expect, _0x459e9b[_0x5dcbe2(0x2e3)]).to[_0x5dcbe2(0x22f)].eq([_0x43e7da.Hhnst, _0x43e7da[_0x5dcbe2(0x2e4)]]);
                            continue;
                        case '8':
                            expect(_0x459e9b).to[_0x5dcbe2(0x224)][_0x5dcbe2(0x2ba)](_0x43e7da[_0x5dcbe2(0x2e5)], _0x43e7da[_0x5dcbe2(0x2e6)], _0x43e7da[_0x5dcbe2(0x2e7)], _0x5dcbe2(0x1d6), _0x43e7da[_0x5dcbe2(0x2e8)], _0x43e7da[_0x5dcbe2(0x2e9)], _0x5dcbe2(0x2b6), _0x5dcbe2(0x2e3), _0x43e7da[_0x5dcbe2(0x2ea)], _0x43e7da[_0x5dcbe2(0x2eb)]);
                            continue;
                        case '9':
                            expect(_0x459e9b[_0x5dcbe2(0x2b1)]).to.eq(200);
                            continue;
                    }
                    break;
                }
            });
        }), _0x54c3f6[_0x22c323(0x2ec)](it, _0x54c3f6[_0x22c323(0x2ed)], function () {
            const _0x2f27aa = _0x22c323;
            const _0x5e9151 = { 'mKMLF': _0x2f27aa(0x2ee) };

            nock.enableNetConnect();

            const _0x446bc0 = _0x54c3f6[_0x2f27aa(0x2c7)](Request, { 'timeout': 0x7d0 });

            return _0x446bc0[_0x2f27aa(0x2a5)]({}, this.fn, {
                'url': _0x54c3f6[_0x2f27aa(0x2ef)],
                'cookies': false
            })[_0x2f27aa(0x1ba)](() => {
                const _0x468b2f = _0x2f27aa;

                throw new Error(_0x5e9151[_0x468b2f(0x2f0)]);
            })[_0x2f27aa(0x2f1)](_0x824830 => {
                const _0x324e95 = _0x2f27aa;

                _0x4dde21[_0x324e95(0x2f2)](expect, _0x824830.message).to.eq(_0x4dde21[_0x324e95(0x2f3)]);
            });
        }), _0x54c3f6[_0x22c323(0x2ec)](it, _0x54c3f6[_0x22c323(0x2f4)], function () {
            const _0x1ecce7 = _0x22c323;

            return nock(_0x54c3f6[_0x1ecce7(0x2f5)])[_0x1ecce7(0x1b7)](_0x54c3f6.JIfVU)[_0x1ecce7(0x1b3)](200, JSON.stringify({ 'status': 'ok' }), { 'Content-Type': _0x54c3f6.NxDvO }), request[_0x1ecce7(0x2a5)]({}, this.fn, {
                'url': _0x54c3f6[_0x1ecce7(0x2f6)],
                'cookies': false
            })[_0x1ecce7(0x1ba)](_0x412252 => {
                const _0x3af582 = _0x1ecce7;

                _0x4dde21[_0x3af582(0x2f2)](expect, _0x412252[_0x3af582(0x1c7)]).to[_0x3af582(0x22f)].eq({ 'status': 'ok' });
            });
        }), _0x54c3f6.ibeDt(it, 'parses response body as json if content-type application/vnd.api+json response headers', function () {
            const _0x85e5bd = _0x22c323;
            const _0x1af24e = {
                'WpjTz': function (_0x57f52a, _0x557eab) {
                    return _0x4dde21.aRoyH(_0x57f52a, _0x557eab);
                }
            };

            return _0x4dde21[_0x85e5bd(0x2f7)](nock, _0x4dde21[_0x85e5bd(0x2f8)])[_0x85e5bd(0x1b7)](_0x4dde21[_0x85e5bd(0x2f9)]).reply(200, JSON[_0x85e5bd(0x2fa)]({ 'status': 'ok' }), { 'Content-Type': _0x4dde21[_0x85e5bd(0x2fb)] }), request[_0x85e5bd(0x2a5)]({}, this.fn, {
                'url': _0x4dde21[_0x85e5bd(0x2fc)],
                'cookies': false
            })[_0x85e5bd(0x1ba)](_0x2e03ef => {
                const _0x2a8a37 = _0x85e5bd;

                _0x1af24e.WpjTz(expect, _0x2e03ef[_0x2a8a37(0x1c7)]).to.deep.eq({ 'status': 'ok' });
            });
        }), _0x54c3f6[_0x22c323(0x2fd)](it, _0x54c3f6[_0x22c323(0x2fe)], function () {
            const _0x298453 = _0x22c323;
            const _0x5b375c = {
                'AtDuQ': function (_0x3ec9b2, _0x5c2b4a) {
                    return _0x3ec9b2(_0x5c2b4a);
                },
                'gaxiD': _0x54c3f6[_0x298453(0x2ff)]
            };

            return nock('http://localhost:8080')[_0x298453(0x1b7)](_0x298453(0x1e3))[_0x298453(0x1b3)](200, _0x298453(0x300), { 'Content-Type': _0x54c3f6[_0x298453(0x2c9)] }), request[_0x298453(0x2a5)]({}, this.fn, {
                'url': _0x54c3f6[_0x298453(0x2f6)],
                'cookies': false
            }).then(_0x183dd4 => {
                const _0x2798ce = _0x298453;

                _0x5b375c[_0x2798ce(0x301)](expect, _0x183dd4[_0x2798ce(0x1c7)]).to.eq(_0x5b375c[_0x2798ce(0x302)]);
            });
        }), it(_0x54c3f6[_0x22c323(0x303)], function () {
            const _0xe42794 = _0x22c323;

            return nock(_0x54c3f6[_0xe42794(0x2f5)])[_0xe42794(0x1b7)]('/foo')[_0xe42794(0x304)](10)[_0xe42794(0x1b3)](200, _0x54c3f6[_0xe42794(0x305)], { 'Content-Type': _0x54c3f6[_0xe42794(0x306)] }), request.sendPromise({}, this.fn, {
                'url': _0x54c3f6[_0xe42794(0x307)],
                'cookies': false
            })[_0xe42794(0x1ba)](_0x72c18a => {
                const _0x2cc307 = _0xe42794;

                _0x4dde21[_0x2cc307(0x308)](expect, _0x72c18a[_0x2cc307(0x1d6)]).to.be.a(_0x4dde21[_0x2cc307(0x309)]), _0x4dde21[_0x2cc307(0x308)](expect, _0x72c18a[_0x2cc307(0x1d6)]).to.be.gt(0);
            });
        }), _0x54c3f6[_0x22c323(0x2fd)](it, _0x54c3f6[_0x22c323(0x30a)], function () {
            const _0x553148 = _0x22c323;
            const _0x1830e6 = {
                'FIXsA': function (_0x1d760e, _0x12a5ef) {
                    return _0x4dde21.EtSrf(_0x1d760e, _0x12a5ef);
                },
                'ZXftb': _0x4dde21[_0x553148(0x30b)]
            };

            _0x4dde21[_0x553148(0x30c)](nock, _0x4dde21[_0x553148(0x2f8)]).matchHeader('user-agent', _0x4dde21.ietYs)[_0x553148(0x1b7)](_0x553148(0x2af)).reply(200, _0x4dde21[_0x553148(0x30b)]);
            const _0xeb29ae = {};

            return _0xeb29ae[_0x4dde21.UIIFO] = _0x4dde21[_0x553148(0x30d)], request[_0x553148(0x2a5)](_0xeb29ae, this.fn, {
                'url': _0x4dde21[_0x553148(0x30e)],
                'cookies': false
            })[_0x553148(0x1ba)](_0x3d6623 => {
                const _0x5d7058 = _0x553148;

                _0x1830e6.FIXsA(expect, _0x3d6623[_0x5d7058(0x1c7)]).to.eq(_0x1830e6[_0x5d7058(0x30f)]);
            });
        }), _0x54c3f6[_0x22c323(0x2fd)](it, _0x22c323(0x310), function () {
            const _0x3a2301 = _0x22c323;

            return _0x54c3f6[_0x3a2301(0x311)](nock, _0x54c3f6[_0x3a2301(0x2f5)])[_0x3a2301(0x312)](_0x54c3f6.pPLzV, _0x54c3f6[_0x3a2301(0x313)])[_0x3a2301(0x1b7)]('/foo')[_0x3a2301(0x1b3)](200, 'it worked'), request.sendPromise({}, this.fn, {
                'url': _0x54c3f6[_0x3a2301(0x307)],
                'cookies': false
            })[_0x3a2301(0x1ba)](_0x414047 => {
                const _0x427804 = _0x3a2301;

                _0x4dde21[_0x427804(0x314)](expect, _0x414047[_0x427804(0x1c7)]).to.eq(_0x427804(0x315));
            });
        }), _0x54c3f6.ibeDt(it, _0x54c3f6.awlSM, function () {
            const _0x1d88a2 = _0x22c323;
            const _0x5453cd = {
                'tAAwj': function (_0x1e5c34, _0x3481c1) {
                    const _0x132ceb = _0x4855;

                    return _0x54c3f6[_0x132ceb(0x311)](_0x1e5c34, _0x3481c1);
                }
            };

            _0x54c3f6[_0x1d88a2(0x311)](nock, _0x54c3f6.SeKAd).matchHeader(_0x1d88a2(0x316), _0x54c3f6[_0x1d88a2(0x317)])[_0x1d88a2(0x1b7)](_0x54c3f6[_0x1d88a2(0x27a)])[_0x1d88a2(0x1b3)](200, _0x54c3f6[_0x1d88a2(0x318)]);
            const _0x275bb9 = {};

            return _0x275bb9[_0x54c3f6[_0x1d88a2(0x319)]] = _0x54c3f6.yghHd, request[_0x1d88a2(0x2a5)](_0x275bb9, this.fn, {
                'url': _0x54c3f6.Iulji,
                'cookies': false,
                'headers': { 'TEST': true }
            })[_0x1d88a2(0x1ba)](_0x5ebd3b => {
                const _0x36e889 = _0x1d88a2;

                _0x5453cd[_0x36e889(0x31a)](expect, _0x5ebd3b.body).to.eq('derp');
            });
        }), _0x54c3f6[_0x22c323(0x31b)](it, 'allows overriding user-agent in headers', function () {
            const _0x44fd82 = _0x22c323;
            const _0x2ddb8f = { 'WUHfP': _0x54c3f6[_0x44fd82(0x318)] };

            _0x54c3f6[_0x44fd82(0x311)](nock, _0x54c3f6[_0x44fd82(0x2f5)])[_0x44fd82(0x312)]('user-agent', _0x44fd82(0x31c))[_0x44fd82(0x1b7)](_0x54c3f6.OSctW).reply(200, _0x54c3f6[_0x44fd82(0x318)]);
            const _0x202249 = { 'user-agent': _0x54c3f6[_0x44fd82(0x31d)] };

            return request[_0x44fd82(0x2a5)](_0x202249, this.fn, {
                'url': _0x54c3f6.Iulji,
                'cookies': false,
                'headers': { 'User-Agent': _0x54c3f6.ipbwE }
            })[_0x44fd82(0x1ba)](_0x497574 => {
                expect(_0x497574.body).to.eq(_0x2ddb8f.WUHfP);
            });
        }), _0x54c3f6[_0x22c323(0x31e)](context, _0x54c3f6.nakSM, () => {
            const _0x11252d = _0x22c323;
            const _0x2cf3ba = {
                'lWvTI': function (_0x597c98, _0x50e9e8) {
                    return _0x4dde21.MvfiO(_0x597c98, _0x50e9e8);
                },
                'TXGnN': _0x4dde21.QQhLW,
                'kogax': 'accept',
                'soKlX': _0x4dde21[_0x11252d(0x31f)],
                'bCaoN': _0x4dde21[_0x11252d(0x320)],
                'vjFuL': _0x11252d(0x321)
            };

            _0x4dde21.mTRbL(it, _0x4dde21[_0x11252d(0x322)], function () {
                const _0x1d0ec0 = _0x11252d;
                const _0x5de215 = {
                    'lSrMS': function (_0x967ae2, _0x6e0603) {
                        const _0x320410 = _0x4855;

                        return _0x2cf3ba[_0x320410(0x323)](_0x967ae2, _0x6e0603);
                    }
                };

                return _0x2cf3ba[_0x1d0ec0(0x323)](nock, _0x2cf3ba[_0x1d0ec0(0x324)])[_0x1d0ec0(0x312)](_0x2cf3ba[_0x1d0ec0(0x325)], _0x2cf3ba[_0x1d0ec0(0x326)])[_0x1d0ec0(0x1b7)](_0x2cf3ba[_0x1d0ec0(0x327)])[_0x1d0ec0(0x1b3)](200), request[_0x1d0ec0(0x2a5)]({}, this.fn, {
                    'url': _0x2cf3ba[_0x1d0ec0(0x328)],
                    'cookies': false
                })[_0x1d0ec0(0x1ba)](_0x26463d => {
                    const _0x35f5db = _0x1d0ec0;

                    _0x5de215[_0x35f5db(0x329)](expect, _0x26463d[_0x35f5db(0x2b1)]).to.eq(200);
                });
            }), _0x4dde21[_0x11252d(0x32a)](it, _0x4dde21.IvnON, function () {
                const _0xd10510 = _0x11252d;

                return nock(_0x4dde21.QQhLW)[_0xd10510(0x312)](_0x4dde21[_0xd10510(0x32b)], _0xd10510(0x2a4)).get(_0x4dde21.GWntD).reply(200), request[_0xd10510(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21.bLukj,
                    'cookies': false,
                    'headers': { 'accept': _0xd10510(0x2a4) }
                })[_0xd10510(0x1ba)](_0x4ab78a => {
                    expect(_0x4ab78a.status).to.eq(200);
                });
            }), it(_0x4dde21[_0x11252d(0x32c)], function () {
                const _0x17aadf = _0x11252d;

                return nock(_0x17aadf(0x27e))[_0x17aadf(0x312)](_0x17aadf(0x1f2), _0x4dde21[_0x17aadf(0x32d)])[_0x17aadf(0x1b7)](_0x4dde21.GWntD)[_0x17aadf(0x1b3)](200), request[_0x17aadf(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21[_0x17aadf(0x32e)],
                    'cookies': false,
                    'headers': { 'Accept': _0x4dde21.onwFJ }
                })[_0x17aadf(0x1ba)](_0x23c744 => {
                    expect(_0x23c744.status).to.eq(200);
                });
            });
        }), context('qs', () => {
            const _0x4d062c = _0x22c323;
            const _0x30d70e = {
                'mTfLf': function (_0x11501d, _0x510c98) {
                    return _0x54c3f6.LagOr(_0x11501d, _0x510c98);
                }
            };

            _0x54c3f6.mlIDQ(it, _0x4d062c(0x32f), function () {
                const _0x48578e = _0x4d062c;

                return _0x4dde21.BARZf(nock, _0x4dde21[_0x48578e(0x2f8)]).get(_0x4dde21.rHRqn)[_0x48578e(0x1b3)](200), request[_0x48578e(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21.QzkOF,
                    'cookies': false,
                    'qs': {
                        'bar': _0x48578e(0x330),
                        'q': 0x1
                    }
                })[_0x48578e(0x1ba)](_0x2cd17 => {
                    const _0x4c2a11 = _0x48578e;

                    _0x30d70e[_0x4c2a11(0x331)](expect, _0x2cd17[_0x4c2a11(0x2b1)]).to.eq(200);
                });
            });
        }), _0x54c3f6.xAZpH(context, _0x54c3f6[_0x22c323(0x332)], () => {
            const _0x1cda54 = _0x22c323;
            const _0x340ef9 = {
                'RcIrS': _0x4dde21[_0x1cda54(0x333)],
                'DGLVi': function (_0x485fb0, _0x3a99fd) {
                    const _0x47a6b6 = _0x1cda54;

                    return _0x4dde21[_0x47a6b6(0x334)](_0x485fb0, _0x3a99fd);
                },
                'LQjIE': _0x4dde21[_0x1cda54(0x2f8)],
                'wdvVA': function (_0x348f3b, _0x18c824) {
                    return _0x348f3b(_0x18c824);
                },
                'rlcZJ': function (_0x4298ec, _0x11a163) {
                    const _0xbb990 = _0x1cda54;

                    return _0x4dde21[_0xbb990(0x334)](_0x4298ec, _0x11a163);
                },
                'vhPPB': function (_0x12d567, _0xd15c16) {
                    const _0x35cb02 = _0x1cda54;

                    return _0x4dde21[_0x35cb02(0x334)](_0x12d567, _0xd15c16);
                },
                'kZzMe': function (_0x415dfe, _0x9fd96c) {
                    const _0x542e7c = _0x1cda54;

                    return _0x4dde21[_0x542e7c(0x334)](_0x415dfe, _0x9fd96c);
                },
                'qPfil': _0x1cda54(0x335),
                'Dpuac': function (_0x38acbc, _0x42fb67) {
                    return _0x4dde21.CTsUL(_0x38acbc, _0x42fb67);
                },
                'xSQRg': function (_0x4fe7b9, _0xb5bb6a) {
                    return _0x4fe7b9(_0xb5bb6a);
                },
                'AtUQJ': 'https://www.google.com/login',
                'yXkXB': _0x4dde21[_0x1cda54(0x336)],
                'WZJAy': _0x4dde21.MbsMN,
                'vTPQa': function (_0x369d49, _0x14e927) {
                    const _0xbebbe9 = _0x1cda54;

                    return _0x4dde21[_0xbebbe9(0x337)](_0x369d49, _0x14e927);
                },
                'QtQyD': function (_0x8e3fc1, _0xa4576a) {
                    const _0x1f85d8 = _0x1cda54;

                    return _0x4dde21[_0x1f85d8(0x337)](_0x8e3fc1, _0xa4576a);
                },
                'DVggz': _0x4dde21[_0x1cda54(0x338)],
                'wFTZX': _0x1cda54(0x1f7),
                'wnCzZ': _0x1cda54(0x339),
                'ARkEJ': function (_0x24b45e, _0x114cc9) {
                    const _0x22a44a = _0x1cda54;

                    return _0x4dde21[_0x22a44a(0x33a)](_0x24b45e, _0x114cc9);
                }
            };

            beforeEach(function () {
                this.fn.resolves();
            }), _0x4dde21[_0x1cda54(0x32a)](it, _0x4dde21[_0x1cda54(0x33b)], function () {
                const _0x381d21 = _0x1cda54;
                const _0x1c9beb = {
                    'QfKAa': function (_0x4f67a4, _0x319ea7) {
                        return _0x4f67a4(_0x319ea7);
                    },
                    'zkciA': _0x340ef9.RcIrS
                };

                return _0x340ef9[_0x381d21(0x33c)](nock, _0x340ef9[_0x381d21(0x33d)])[_0x381d21(0x1b7)](_0x381d21(0x1e1)).reply(302, '', { 'location': 'http://localhost:8080/login' }).get(_0x381d21(0x2d2))[_0x381d21(0x1b3)](200, _0x381d21(0x1f9)), request[_0x381d21(0x2a5)]({}, this.fn, {
                    'url': _0x381d21(0x1f7),
                    'cookies': false,
                    'followRedirect': true
                })[_0x381d21(0x1ba)](_0x2d9ec7 => {
                    const _0x5c33c5 = _0x381d21;

                    expect(_0x2d9ec7.status).to.eq(200), _0x1c9beb.QfKAa(expect, _0x2d9ec7.body).to.eq(_0x1c9beb[_0x5c33c5(0x33e)]), expect(_0x2d9ec7)[_0x5c33c5(0x229)].to[_0x5c33c5(0x224)][_0x5c33c5(0x33f)](_0x5c33c5(0x1fa));
                });
            }), _0x4dde21[_0x1cda54(0x340)](it, _0x4dde21[_0x1cda54(0x341)], function () {
                const _0x4510df = _0x1cda54;
                const _0x30bb7e = {
                    'tSZto': function (_0x3c3456, _0x2a19ee) {
                        const _0x1eea87 = _0x4855;

                        return _0x4dde21[_0x1eea87(0x342)](_0x3c3456, _0x2a19ee);
                    },
                    'Yttgn': _0x4dde21[_0x4510df(0x343)],
                    'vMcME': function (_0x52df7b, _0x182ba2) {
                        const _0x30c24b = _0x4510df;

                        return _0x4dde21[_0x30c24b(0x344)](_0x52df7b, _0x182ba2);
                    }
                };

                return _0x4dde21.AUtrr(nock, _0x4dde21[_0x4510df(0x2f8)])[_0x4510df(0x345)](_0x4510df(0x2d2))[_0x4510df(0x1b3)](302, '', { 'location': _0x4dde21[_0x4510df(0x346)] })[_0x4510df(0x1b7)](_0x4dde21.olzrh)[_0x4510df(0x1b3)](200, _0x4dde21[_0x4510df(0x343)]), request[_0x4510df(0x2a5)]({}, this.fn, {
                    'method': _0x4dde21[_0x4510df(0x347)],
                    'url': _0x4dde21[_0x4510df(0x348)],
                    'cookies': false
                })[_0x4510df(0x1ba)](_0x1994cf => {
                    const _0x3edb78 = _0x4510df;

                    _0x30bb7e[_0x3edb78(0x349)](expect, _0x1994cf[_0x3edb78(0x2b1)]).to.eq(200), _0x30bb7e.tSZto(expect, _0x1994cf[_0x3edb78(0x1c7)]).to.eq(_0x30bb7e[_0x3edb78(0x34a)]), _0x30bb7e[_0x3edb78(0x34b)](expect, _0x1994cf).not.to[_0x3edb78(0x224)][_0x3edb78(0x33f)](_0x3edb78(0x1fa));
                });
            }), _0x4dde21[_0x1cda54(0x34c)](it, _0x4dde21.DdSzF, function () {
                const _0x41aafb = _0x1cda54;

                return _0x4dde21.jHkVk(nock, _0x4dde21[_0x41aafb(0x2f8)]).get(_0x4dde21[_0x41aafb(0x336)]).reply(302, '', { 'location': 'http://localhost:8080/login' })[_0x41aafb(0x1b7)](_0x4dde21[_0x41aafb(0x34d)])[_0x41aafb(0x1b3)](200, _0x4dde21[_0x41aafb(0x333)]), request[_0x41aafb(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21[_0x41aafb(0x346)],
                    'cookies': false,
                    'followRedirect': false
                })[_0x41aafb(0x1ba)](_0x5d3781 => {
                    const _0x260ccc = _0x41aafb;

                    _0x340ef9[_0x260ccc(0x34e)](expect, _0x5d3781[_0x260ccc(0x2b1)]).to.eq(302), _0x340ef9[_0x260ccc(0x34f)](expect, _0x5d3781[_0x260ccc(0x1c7)]).to.eq(''), _0x340ef9[_0x260ccc(0x34f)](expect, _0x5d3781.redirectedToUrl).to.eq(_0x260ccc(0x335));
                });
            }), _0x4dde21.Btyzk(it, _0x4dde21[_0x1cda54(0x350)], function () {
                const _0x5ae52c = _0x1cda54;

                return _0x4dde21[_0x5ae52c(0x351)](nock, _0x4dde21[_0x5ae52c(0x2f8)])[_0x5ae52c(0x1b7)](_0x4dde21[_0x5ae52c(0x336)]).reply(302, '', { 'location': _0x4dde21[_0x5ae52c(0x34d)] }).get(_0x5ae52c(0x2d2))[_0x5ae52c(0x1b3)](200, _0x4dde21[_0x5ae52c(0x333)]), request.sendPromise({}, this.fn, {
                    'url': _0x4dde21.fPTaS,
                    'cookies': false,
                    'followRedirect': false
                }).then(_0x35bfdb => {
                    const _0x13180c = _0x5ae52c;

                    _0x340ef9.vhPPB(expect, _0x35bfdb[_0x13180c(0x2b1)]).to.eq(302), _0x340ef9[_0x13180c(0x352)](expect, _0x35bfdb[_0x13180c(0x1fa)]).to.eq(_0x340ef9[_0x13180c(0x353)]);
                });
            }), _0x4dde21[_0x1cda54(0x354)](it, 'resolves redirectedToUrl to another domain', function () {
                const _0x5ebea8 = _0x1cda54;

                return _0x340ef9.xSQRg(nock, _0x340ef9[_0x5ebea8(0x33d)]).get(_0x340ef9[_0x5ebea8(0x355)])[_0x5ebea8(0x1b3)](301, '', { 'location': 'https://www.google.com/login' })[_0x5ebea8(0x1b7)](_0x340ef9[_0x5ebea8(0x356)]).reply(200, _0x340ef9[_0x5ebea8(0x357)]), request.sendPromise({}, this.fn, {
                    'url': _0x5ebea8(0x1f7),
                    'cookies': false,
                    'followRedirect': false
                })[_0x5ebea8(0x1ba)](_0x5c76bf => {
                    const _0x1d8ad8 = _0x5ebea8;

                    _0x340ef9.Dpuac(expect, _0x5c76bf[_0x1d8ad8(0x2b1)]).to.eq(301), _0x340ef9[_0x1d8ad8(0x358)](expect, _0x5c76bf[_0x1d8ad8(0x1fa)]).to.eq(_0x340ef9[_0x1d8ad8(0x359)]);
                });
            }), _0x4dde21.LWRPS(it, _0x4dde21[_0x1cda54(0x35a)], function () {
                const _0x5a9251 = _0x1cda54;

                return nock(_0x340ef9.LQjIE).get(_0x5a9251(0x1e1))[_0x5a9251(0x1b3)](302, '', { 'location': _0x340ef9[_0x5a9251(0x353)] }).get('/login')[_0x5a9251(0x1b3)](200, _0x340ef9[_0x5a9251(0x357)]), request[_0x5a9251(0x2a5)]({}, this.fn, {
                    'url': _0x340ef9[_0x5a9251(0x35b)],
                    'cookies': false
                }).then(_0x199aff => {
                    const _0x46df5d = _0x5a9251;

                    _0x340ef9[_0x46df5d(0x35c)](expect, _0x199aff.status).to.eq(200), _0x340ef9[_0x46df5d(0x35d)](expect, _0x199aff)[_0x46df5d(0x229)].to[_0x46df5d(0x224)][_0x46df5d(0x33f)](_0x340ef9[_0x46df5d(0x35e)]);
                });
            }), _0x4dde21[_0x1cda54(0x35f)](it, _0x4dde21[_0x1cda54(0x360)], function () {
                const _0x3a07f8 = _0x1cda54;
                const _0x416d9d = { 'YWfsr': _0x340ef9[_0x3a07f8(0x361)] };

                return _0x340ef9.ARkEJ(testAttachingCookiesWith, () => {
                    const _0x2d56bc = _0x3a07f8;

                    return request.sendPromise({}, this.fn, { 'url': _0x416d9d[_0x2d56bc(0x362)] });
                });
            });
        }), _0x54c3f6.GHuzG(context, _0x54c3f6[_0x22c323(0x363)], () => {
            const _0x1de0fd = _0x22c323;
            const _0x1ee6b9 = {
                'YGuet': function (_0x14bb28, _0x48b1f3) {
                    return _0x54c3f6.LagOr(_0x14bb28, _0x48b1f3);
                },
                'VMaJp': _0x1de0fd(0x200),
                'MJtUS': _0x54c3f6[_0x1de0fd(0x232)],
                'gvmBW': _0x54c3f6[_0x1de0fd(0x364)],
                'DnEap': function (_0x215744, _0x50d321) {
                    return _0x54c3f6.APapQ(_0x215744, _0x50d321);
                }
            };

            beforeEach(() => {
                const _0x32004c = _0x1de0fd;

                nock(_0x4dde21[_0x32004c(0x2f8)])[_0x32004c(0x312)](_0x4dde21[_0x32004c(0x365)], _0x32004c(0x366)).post(_0x4dde21[_0x32004c(0x34d)], _0x4dde21.kYPtn).reply(200, _0x4dde21[_0x32004c(0x367)]);
            }), _0x54c3f6[_0x1de0fd(0x368)](it, _0x54c3f6[_0x1de0fd(0x369)], function () {
                const _0x10b180 = _0x1de0fd;
                const _0x1a04a8 = {
                    'PljBH': function (_0x389aed, _0x4d6b85) {
                        return _0x389aed(_0x4d6b85);
                    }
                };

                return request[_0x10b180(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21[_0x10b180(0x348)],
                    'method': _0x4dde21.bVgeI,
                    'cookies': false,
                    'form': true,
                    'body': {
                        'foo': _0x10b180(0x1c5),
                        'baz': _0x10b180(0x1e9)
                    }
                })[_0x10b180(0x1ba)](_0x427497 => {
                    const _0x15717a = _0x10b180;

                    _0x1a04a8[_0x15717a(0x36a)](expect, _0x427497.status).to.eq(200), _0x1a04a8[_0x15717a(0x36a)](expect, _0x427497.body).to.eq(_0x15717a(0x200));
                });
            }), _0x54c3f6.JOOfI(it, _0x54c3f6[_0x1de0fd(0x36b)], function () {
                const _0x5af292 = _0x1de0fd;

                const _0x19879e = sinon.spy(request.rp.Request[_0x5af292(0x2a1)], 'init');

                const _0x416381 = {
                    'foo': _0x1ee6b9.MJtUS,
                    'baz': _0x1ee6b9[_0x5af292(0x36c)]
                };

                return request[_0x5af292(0x2a5)]({}, this.fn, {
                    'url': 'http://localhost:8080/login',
                    'method': 'POST',
                    'cookies': false,
                    'form': true,
                    'json': true,
                    'body': _0x416381
                }).then(_0x124405 => {
                    const _0x5e57a9 = _0x5af292;

                    _0x1ee6b9[_0x5e57a9(0x36d)](expect, _0x124405[_0x5e57a9(0x2b1)]).to.eq(200), expect(_0x124405[_0x5e57a9(0x1c7)]).to.eq(_0x1ee6b9[_0x5e57a9(0x36e)]), expect(_0x19879e)[_0x5e57a9(0x229)].to.be[_0x5e57a9(0x2a6)]({ 'body': _0x416381 });
                });
            }), _0x54c3f6.tTEyR(it, _0x54c3f6.gXLFf, function () {
                const _0x4f0a59 = _0x1de0fd;

                const _0x5c46a0 = sinon[_0x4f0a59(0x1ae)](request.rp[_0x4f0a59(0x2a0)][_0x4f0a59(0x2a1)], _0x4dde21[_0x4f0a59(0x36f)]);

                return request[_0x4f0a59(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21[_0x4f0a59(0x348)],
                    'method': _0x4dde21[_0x4f0a59(0x347)],
                    'cookies': false,
                    'form': true,
                    'json': true,
                    'body': {
                        'foo': _0x4dde21.LvFyL,
                        'baz': 'quux'
                    }
                }).then(_0x15f62f => {
                    const _0x12b5c5 = _0x4f0a59;

                    expect(_0x15f62f[_0x12b5c5(0x2b1)]).to.eq(200), _0x1ee6b9.YGuet(expect, _0x15f62f.body).to.eq(_0x1ee6b9[_0x12b5c5(0x36e)]), _0x1ee6b9[_0x12b5c5(0x370)](expect, _0x5c46a0)[_0x12b5c5(0x229)].to.be[_0x12b5c5(0x2a6)]({ 'json': true });
                });
            });
        }), _0x54c3f6[_0x22c323(0x371)](context, _0x54c3f6[_0x22c323(0x372)], () => {
            const _0x561f8d = _0x22c323;
            const _0x3a9759 = { 'eQAbS': _0x54c3f6[_0x561f8d(0x373)] };

            beforeEach(function (_0x3eb770) {
                const _0x5c1781 = _0x561f8d;

                this[_0x5c1781(0x250)] = http[_0x5c1781(0x248)]((_0x575a59, _0x6c15a3) => {
                    const _0x2cc9a8 = _0x5c1781;

                    _0x6c15a3[_0x2cc9a8(0x374)](200), _0x6c15a3[_0x2cc9a8(0x375)]();
                }), this[_0x5c1781(0x250)][_0x5c1781(0x251)](9988, _0x3eb770);
            }), _0x54c3f6[_0x561f8d(0x278)](afterEach, function () {
                const _0x591709 = _0x561f8d;

                return this.srv[_0x591709(0x252)]();
            }), _0x54c3f6.ZpCjE(it, _0x54c3f6[_0x561f8d(0x376)], function () {
                const _0x5dd80a = _0x561f8d;
                const _0x489450 = {
                    'Lqsqh': function (_0x474767, _0x3f22b2) {
                        const _0x17d7b5 = _0x4855;

                        return _0x4dde21[_0x17d7b5(0x377)](_0x474767, _0x3f22b2);
                    },
                    'sdqxF': _0x5dd80a(0x378)
                };

                return request[_0x5dd80a(0x2a5)]({}, this.fn, {
                    'url': _0x4dde21[_0x5dd80a(0x379)],
                    'cookies': false,
                    'headers': { 'x-text': _0x4dde21.eFFqw }
                })[_0x5dd80a(0x1ba)](() => {
                    const _0x26b946 = _0x5dd80a;

                    throw new Error(_0x3a9759[_0x26b946(0x37a)]);
                })[_0x5dd80a(0x2f1)](_0x2444c => {
                    const _0x23f066 = _0x5dd80a;

                    _0x489450[_0x23f066(0x37b)](expect, _0x2444c.message).to.eq(_0x489450[_0x23f066(0x37c)]);
                });
            }), _0x54c3f6[_0x561f8d(0x37d)](it, _0x54c3f6[_0x561f8d(0x37e)], function () {
                const _0x4f36b4 = _0x561f8d;

                return request.sendPromise({}, this.fn, {
                    'url': _0x4dde21[_0x4f36b4(0x379)],
                    'cookies': false,
                    'json': true,
                    'body': { 'x-text': _0x4f36b4(0x201) }
                });
            });
        });
    }), _0x54c3f6[_0x1fb528(0x37f)](context, _0x54c3f6[_0x1fb528(0x380)], () => {
        const _0x2d22ec = _0x1fb528;

        _0x54c3f6[_0x2d22ec(0x381)](it, 'allows overriding user-agent in headers', function () {
            const _0x4c6ba1 = _0x2d22ec;
            const _0x974f58 = {
                'SWWYe': function (_0x4140a2, _0x46d84a) {
                    return _0x4140a2(_0x46d84a);
                },
                'ImLly': function (_0x27f711, _0x6ce1c) {
                    return _0x54c3f6.YUYfC(_0x27f711, _0x6ce1c);
                }
            };

            _0x54c3f6.YUYfC(nock, _0x54c3f6[_0x4c6ba1(0x2f5)])[_0x4c6ba1(0x312)]('user-agent', _0x54c3f6[_0x4c6ba1(0x382)])[_0x4c6ba1(0x1b7)](_0x54c3f6[_0x4c6ba1(0x27a)])[_0x4c6ba1(0x1b3)](200, _0x54c3f6[_0x4c6ba1(0x318)]), sinon[_0x4c6ba1(0x1ae)](request, _0x54c3f6[_0x4c6ba1(0x383)]), this.fn[_0x4c6ba1(0x212)]({});
            const _0x24adb8 = { 'user-agent': _0x54c3f6[_0x4c6ba1(0x31d)] };
            const _0x127181 = {
                'url': _0x4c6ba1(0x384),
                'cookies': false,
                'headers': { 'user-agent': _0x54c3f6[_0x4c6ba1(0x382)] }
            };

            return request[_0x4c6ba1(0x385)](_0x24adb8, this.fn, _0x127181)[_0x4c6ba1(0x1ba)](_0x593d08 => {
                const _0x28a688 = _0x4c6ba1;

                _0x593d08(), _0x974f58[_0x28a688(0x386)](expect, request[_0x28a688(0x20c)]).to.be[_0x28a688(0x238)], _0x974f58.ImLly(expect, request[_0x28a688(0x20c)]).to.be[_0x28a688(0x226)](_0x127181);
            });
        }), _0x54c3f6[_0x2d22ec(0x218)](it, _0x54c3f6[_0x2d22ec(0x29a)], function () {
            const _0x10bdf0 = _0x2d22ec;
            const _0x5c07b0 = { 'hoGSE': _0x10bdf0(0x339) };

            return _0x54c3f6[_0x10bdf0(0x387)](testAttachingCookiesWith, () => {
                const _0x220cd0 = _0x10bdf0;
                const _0x408b59 = {
                    'rJvzm': function (_0x5b4b59) {
                        return _0x5b4b59();
                    }
                };

                return request[_0x220cd0(0x385)]({}, this.fn, {
                    'url': _0x5c07b0[_0x220cd0(0x388)],
                    'followRedirect': _.stubTrue
                })[_0x220cd0(0x1ba)](_0x1848d0 => {
                    const _0x3e415e = { 'ubOUb': 'error' };

                    const _0x1ce61f = _0x408b59.rJvzm(_0x1848d0);

                    return new Promise((_0x109ad9, _0x2fa74b) => {
                        const _0x3367f6 = _0x4855;

                        _0x1ce61f.on(_0x3367f6(0x389), _0x109ad9), _0x1ce61f.on(_0x3e415e.ubOUb, _0x2fa74b);
                    });
                });
            });
        });
    });
});
