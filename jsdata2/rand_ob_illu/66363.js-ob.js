'use strict';

const _0x3041 = ['readable', 'onend', '\r\n\r\n', 'ascii', 'end', 'read', 'DUEDE', 'once', 'PmWmJ', 'removeListener', 'zlYtN', 'OxEim', 'onclose had error %o', 'NDkhZ', 'yRbRR', 'RBLyj', 'fjwqm', 'onerror %o', 'push', 'concat', 'have not received end of HTTP headers yet...', 'toString', 'RxuIO', 'indexOf', 'split', 'YQkSm', 'TwKsx', 'ApdRc', 'SwNYk', 'default', '87429TygbYf', '4iLOzvI', '79NuEmpT', '6vETfNK', '492jWbdqT', '574IjKPPy', '19qADuOA', '16981EjyEpV', '1yVWOZn', '188882mhxlOk', '19aIUAET', '239utWowU', '682112RLASZy', '__importDefault', '__esModule', 'debug', 'https-proxy-agent:parse-proxy-response'];
const _0x4227d2 = _0x4d79;

function _0x4d79(_0x1b919a, _0x5f1021) {
    return _0x4d79 = function (_0x51da0c, _0x32f48a) {
        _0x51da0c = _0x51da0c - 375;
        const _0xb0e46d = _0x3041[_0x51da0c];

        return _0xb0e46d;
    }, _0x4d79(_0x1b919a, _0x5f1021);
}
(function (_0x2db14d, _0x1b1139) {
    const _0x564873 = _0x4d79;

    while (true) {
        try {
            const _0x4c8c64 = parseInt(_0x564873(0x177)) * -parseInt(_0x564873(0x178)) + -parseInt(_0x564873(0x179)) * parseInt(_0x564873(0x17a)) + -parseInt(_0x564873(0x17b)) * parseInt(_0x564873(0x17c)) + -parseInt(_0x564873(0x17d)) * -parseInt(_0x564873(0x17e)) + -parseInt(_0x564873(0x17f)) * parseInt(_0x564873(0x180)) + -parseInt(_0x564873(0x181)) * parseInt(_0x564873(0x182)) + parseInt(_0x564873(0x183));

            if (_0x4c8c64 === _0x1b1139) break;else _0x2db14d.push(_0x2db14d.shift());
        } catch (_0x1dc892) {
            _0x2db14d.push(_0x2db14d.shift());
        }
    }
})(_0x3041, 178730);

const __importDefault = this && this[_0x4227d2(0x184)] || function (_0x109b73) {
    return _0x109b73 && _0x109b73.__esModule ? _0x109b73 : { 'default': _0x109b73 };
};

Object.defineProperty(exports, _0x4227d2(0x185), { 'value': true });

const debug_1 = __importDefault(require(_0x4227d2(0x186)));

const debug = debug_1.default(_0x4227d2(0x187));

function parseProxyResponse(_0x434ab1) {
    const _0x370191 = _0x4227d2;
    const _0x594dfa = {
        'TwKsx': 'error',
        'zlYtN': 'close',
        'OxEim': _0x370191(0x188),
        'NDkhZ': function (_0x347510, _0x4605ed) {
            return _0x347510(_0x4605ed);
        },
        'yRbRR': _0x370191(0x189),
        'RBLyj': function (_0x238918) {
            return _0x238918();
        },
        'fjwqm': function (_0x21d9d6, _0x2cf440, _0x2f8102) {
            return _0x21d9d6(_0x2cf440, _0x2f8102);
        },
        'nsTyF': _0x370191(0x18a),
        'sRkjN': function (_0x3189a1, _0x35765f) {
            return _0x3189a1(_0x35765f);
        },
        'RxuIO': _0x370191(0x18b),
        'YQkSm': function (_0x1e2f7b, _0x2a4304, _0x5d3496) {
            return _0x1e2f7b(_0x2a4304, _0x5d3496);
        },
        'ApdRc': _0x370191(0x18c),
        'SwNYk': function (_0x1dbc55) {
            return _0x1dbc55();
        }
    };

    return new Promise((_0x52dc9c, _0x5cfaeb) => {
        const _0x1512c3 = _0x370191;
        const _0x1db721 = {
            'DUEDE': function (_0x244ec9, _0x5d956d) {
                return _0x244ec9(_0x5d956d);
            },
            'PmWmJ': _0x1512c3(0x188)
        };
        var _0x589e14 = 0;
        const _0x16c391 = [];

        function _0x4e5f04() {
            const _0x44a679 = _0x1512c3;

            const _0x16a0a1 = _0x434ab1[_0x44a679(0x18d)]();

            if (_0x16a0a1) _0x1db721[_0x44a679(0x18e)](_0x5ee8a0, _0x16a0a1);else _0x434ab1[_0x44a679(0x18f)](_0x1db721[_0x44a679(0x190)], _0x4e5f04);
        }
        function _0x3b603a() {
            const _0x42d6e7 = _0x1512c3;

            _0x434ab1.removeListener(_0x42d6e7(0x18c), _0x111615), _0x434ab1[_0x42d6e7(0x191)](_0x594dfa.TwKsx, _0x1bbb94), _0x434ab1.removeListener(_0x594dfa[_0x42d6e7(0x192)], _0x410ba6), _0x434ab1[_0x42d6e7(0x191)](_0x594dfa[_0x42d6e7(0x193)], _0x4e5f04);
        }
        function _0x410ba6(_0x47de1f) {
            const _0x403508 = _0x1512c3;

            debug(_0x403508(0x194), _0x47de1f);
        }
        function _0x111615() {
            const _0x1498a2 = _0x1512c3;

            _0x594dfa[_0x1498a2(0x195)](debug, _0x594dfa[_0x1498a2(0x196)]);
        }
        function _0x1bbb94(_0x47b22a) {
            const _0x3fbf3e = _0x1512c3;

            _0x594dfa[_0x3fbf3e(0x197)](_0x3b603a), _0x594dfa[_0x3fbf3e(0x198)](debug, _0x3fbf3e(0x199), _0x47b22a), _0x594dfa.NDkhZ(_0x5cfaeb, _0x47b22a);
        }
        function _0x5ee8a0(_0x2b5a61) {
            const _0x19dd4c = _0x1512c3;

            _0x16c391[_0x19dd4c(0x19a)](_0x2b5a61), _0x589e14 += _0x2b5a61.length;

            const _0x20ef05 = Buffer[_0x19dd4c(0x19b)](_0x16c391, _0x589e14);

            const _0x38d732 = _0x20ef05.indexOf(_0x594dfa.nsTyF);

            if (_0x38d732 === -1) {
                _0x594dfa.sRkjN(debug, _0x19dd4c(0x19c)), _0x594dfa.RBLyj(_0x4e5f04);
                return;
            }

            const _0x3c87d3 = _0x20ef05[_0x19dd4c(0x19d)](_0x594dfa[_0x19dd4c(0x19e)], 0, _0x20ef05[_0x19dd4c(0x19f)]('\r\n'));

            const _0x392693 = +_0x3c87d3[_0x19dd4c(0x1a0)](' ')[1];

            _0x594dfa[_0x19dd4c(0x1a1)](debug, 'got proxy server response: %o', _0x3c87d3), _0x52dc9c({
                'statusCode': _0x392693,
                'buffered': _0x20ef05
            });
        }
        _0x434ab1.on(_0x594dfa[_0x1512c3(0x1a2)], _0x1bbb94), _0x434ab1.on(_0x594dfa[_0x1512c3(0x192)], _0x410ba6), _0x434ab1.on(_0x594dfa[_0x1512c3(0x1a3)], _0x111615), _0x594dfa[_0x1512c3(0x1a4)](_0x4e5f04);
    });
}
exports[_0x4227d2(0x1a5)] = parseProxyResponse;
