const _0xd8a0 = ['yqUBt', 'vCBIn', 'AXBkt', 'MyNhy', '301335YNlFib', '2iRKRqv', '370777GKnPDI', '1MJspyt', '1wXiymF', '577399mgZnjw', '62986NAzswZ', '3669QzIYMe', '45kztDnI', '1pxLrUs', '736454XoxKiL', '38lOtMoL', '13374tDKcud', 'setTimeout', 'node-fetch-keep-alive', '/api/json', 'keep-alive', '/blog/first', '/ssr', 'should send keep-alive for json API', 'should send keep-alive for getStaticPaths', 'should send keep-alive for getServerSideProps', 'dev', 'production', 'rBaIj', 'uIIAg', 'headers', 'end', 'listen', 'LVWtK', 'LLZcF', 'close', 'ykRBi', 'stringify', 'log', 'AYcKt', 'ofNKl', 'bARSN', 'eDygy', 'QAhpb', 'yvJJD', 'ehXJG', 'WgNyd', 'jSqww', 'Hnfpi', 'toEqual', 'hWzEr', 'should send keep-alive for getStaticProps', 'iUNOk', '/ssg', 'text', 'parse', 'hnIYS', 'JpxYt', 'iDohV', 'first'];
const _0x526f3e = _0x2476;

(function (_0x513e95, _0x1c827a) {
    const _0x8ea06f = _0x2476;

    while (true) {
        try {
            const _0x37fc6a = -parseInt(_0x8ea06f(0x156)) * -parseInt(_0x8ea06f(0x157)) + -parseInt(_0x8ea06f(0x158)) * -parseInt(_0x8ea06f(0x159)) + -parseInt(_0x8ea06f(0x15a)) * parseInt(_0x8ea06f(0x15b)) + parseInt(_0x8ea06f(0x15c)) + parseInt(_0x8ea06f(0x15d)) * parseInt(_0x8ea06f(0x15e)) + -parseInt(_0x8ea06f(0x15f)) * parseInt(_0x8ea06f(0x160)) + parseInt(_0x8ea06f(0x161)) * parseInt(_0x8ea06f(0x162));

            if (_0x37fc6a === _0x1c827a) break;else _0x513e95.push(_0x513e95.shift());
        } catch (_0x1cdeb2) {
            _0x513e95.push(_0x513e95.shift());
        }
    }
})(_0xd8a0, 395897);
import { join } from 'path';
import { createServer } from 'http';
import { fetchViaHTTP, nextBuild, findPort, nextStart, launchApp, killApp } from 'next-test-utils';
import _0x359954 from 'next-webdriver';
jest[_0x526f3e(0x163)](60000);
const appDir = join(__dirname, '../');

function _0x2476(_0x380102, _0x2f2037) {
    return _0x2476 = function (_0xdc8b, _0x4293dd) {
        _0xdc8b = _0xdc8b - 342;
        const _0x34b793 = _0xd8a0[_0xdc8b];

        return _0x34b793;
    }, _0x2476(_0x380102, _0x2f2037);
}
var appPort;
var app;
var mockServer;

describe(_0x526f3e(0x164), () => {
    const _0x41f432 = _0x526f3e;
    const _0x5c9676 = {
        'uIIAg': function (_0x429096, _0x4565b5) {
            return _0x429096(_0x4565b5);
        },
        'ofNKl': function (_0x575504) {
            return _0x575504();
        },
        'AnQSC': function (_0x4ecfbe, _0x5d0610, _0x265b4a) {
            return _0x4ecfbe(_0x5d0610, _0x265b4a);
        },
        'ehXJG': function (_0x13114e, _0x4d01bd) {
            return _0x13114e(_0x4d01bd);
        },
        'rBqLf': function (_0x2f8dd7, _0xa84b6, _0x1a750f, _0x1555a9) {
            return _0x2f8dd7(_0xa84b6, _0x1a750f, _0x1555a9);
        },
        'AYcKt': function (_0x3ecea6, _0x112a15, _0x3ef76d) {
            return _0x3ecea6(_0x112a15, _0x3ef76d);
        },
        'QAhpb': function (_0x35b2b6, _0x572373, _0x5f5265) {
            return _0x35b2b6(_0x572373, _0x5f5265);
        },
        'bARSN': _0x41f432(0x165),
        'eDygy': _0x41f432(0x166),
        'yvJJD': _0x41f432(0x167),
        'DQBQG': 'props',
        'WgNyd': _0x41f432(0x168),
        'jSqww': function (_0x39c460, _0x1a275d, _0xa37fd7) {
            return _0x39c460(_0x1a275d, _0xa37fd7);
        },
        'Hnfpi': _0x41f432(0x169),
        'hnIYS': function (_0xf59870, _0x4939f9, _0x1a9133) {
            return _0xf59870(_0x4939f9, _0x1a9133);
        },
        'JpxYt': _0x41f432(0x16a),
        'yqUBt': function (_0x42e9da, _0x1600ba, _0x21e378) {
            return _0x42e9da(_0x1600ba, _0x21e378);
        },
        'vCBIn': _0x41f432(0x16b),
        'rBaIj': _0x41f432(0x16c),
        'ykRBi': _0x41f432(0x16d)
    };

    describe(_0x5c9676[_0x41f432(0x16e)], () => {
        const _0x1f225d = _0x41f432;
        const _0x259cf0 = {
            'LVWtK': function (_0x1e2924) {
                return _0x5c9676.ofNKl(_0x1e2924);
            },
            'LLZcF': function (_0x16af2b, _0x2fc03f, _0x2cc264) {
                return _0x5c9676.AnQSC(_0x16af2b, _0x2fc03f, _0x2cc264);
            }
        };

        _0x5c9676[_0x1f225d(0x16f)](beforeAll, async () => {
            const _0x567c90 = _0x1f225d;

            mockServer = createServer((_0x30e83a, _0x565b9b) => {
                const _0x4085a1 = _0x2476;

                var { connection: _0x4bb0a8 } = _0x30e83a[_0x4085a1(0x170)];

                _0x565b9b[_0x4085a1(0x171)](JSON.stringify({ 'connection': _0x4bb0a8 }));
            }), mockServer[_0x567c90(0x172)](44001), appPort = await _0x259cf0[_0x567c90(0x173)](findPort), app = await _0x259cf0[_0x567c90(0x174)](launchApp, appDir, appPort);
        }), afterAll(async () => {
            const _0x164d5c = _0x1f225d;

            await _0x5c9676[_0x164d5c(0x16f)](killApp, app), mockServer[_0x164d5c(0x175)]();
        }), _0x2cfebf();
    }), describe(_0x5c9676[_0x41f432(0x176)], () => {
        const _0x118401 = _0x41f432;

        beforeAll(async () => {
            const _0x2691c4 = _0x2476;

            mockServer = _0x5c9676.ehXJG(createServer, (_0x5dded3, _0x4e2690) => {
                const _0x19d9a8 = _0x2476;

                var { connection: _0x2dbf8f } = _0x5dded3[_0x19d9a8(0x170)];

                _0x4e2690[_0x19d9a8(0x171)](JSON[_0x19d9a8(0x177)]({ 'connection': _0x2dbf8f }));
            }), mockServer[_0x2691c4(0x172)](44001);
            var {
                stdout: _0x1c2120,
                stderr: _0x3b20b9
            } = await _0x5c9676.rBqLf(nextBuild, appDir, [], {
                'stdout': true,
                'stderr': true
            });

            if (_0x1c2120) console[_0x2691c4(0x178)](_0x1c2120);
            if (_0x3b20b9) console.error(_0x3b20b9);
            appPort = await _0x5c9676.ofNKl(findPort), app = await _0x5c9676[_0x2691c4(0x179)](nextStart, appDir, appPort);
        }), afterAll(async () => {
            const _0x474c82 = _0x2476;

            await killApp(app), mockServer[_0x474c82(0x175)]();
        }), _0x5c9676[_0x118401(0x17a)](_0x2cfebf);
    });
    function _0x2cfebf() {
        const _0x2b999f = _0x41f432;
        const _0x3a0665 = {
            'GrPiM': function (_0x535153, _0x711178, _0x14a2b7) {
                return _0x5c9676.QAhpb(_0x535153, _0x711178, _0x14a2b7);
            },
            'jpaTh': _0x5c9676[_0x2b999f(0x17b)],
            'hWzEr': _0x5c9676[_0x2b999f(0x17c)],
            'iUNOk': function (_0x18f735, _0x1e4298, _0x5ed90b) {
                const _0x101600 = _0x2b999f;

                return _0x5c9676[_0x101600(0x17d)](_0x18f735, _0x1e4298, _0x5ed90b);
            },
            'ncARn': _0x5c9676[_0x2b999f(0x17e)],
            'iDohV': _0x5c9676.DQBQG,
            'MyNhy': function (_0x3ef5de, _0x4f8ca7) {
                const _0x4b65cc = _0x2b999f;

                return _0x5c9676[_0x4b65cc(0x17f)](_0x3ef5de, _0x4f8ca7);
            },
            'AXBkt': _0x5c9676[_0x2b999f(0x180)]
        };

        _0x5c9676[_0x2b999f(0x181)](it, _0x5c9676[_0x2b999f(0x182)], async () => {
            const _0x5aafe0 = _0x2b999f;

            const _0x19dbcb = await _0x3a0665.GrPiM(fetchViaHTTP, appPort, _0x3a0665.jpaTh);

            const _0x4082c8 = await _0x19dbcb.json();

            expect(_0x4082c8)[_0x5aafe0(0x183)]({ 'connection': _0x3a0665[_0x5aafe0(0x184)] });
        }), _0x5c9676.jSqww(it, _0x2b999f(0x185), async () => {
            const _0x4bd501 = _0x2b999f;

            const _0x4cfd0b = await _0x3a0665[_0x4bd501(0x186)](_0x359954, appPort, _0x4bd501(0x187));

            const _0x93f6bf = await _0x4cfd0b.elementById('props')[_0x4bd501(0x188)]();

            const _0x5717c5 = JSON[_0x4bd501(0x189)](_0x93f6bf);

            expect(_0x5717c5).toEqual({ 'connection': _0x3a0665[_0x4bd501(0x184)] }), await _0x4cfd0b[_0x4bd501(0x175)]();
        }), _0x5c9676[_0x2b999f(0x18a)](it, _0x5c9676[_0x2b999f(0x18b)], async () => {
            const _0x384d6a = _0x2b999f;

            const _0x3a6ba9 = await _0x3a0665[_0x384d6a(0x186)](_0x359954, appPort, _0x3a0665.ncARn);

            const _0xac1437 = await _0x3a6ba9.elementById(_0x3a0665[_0x384d6a(0x18c)])[_0x384d6a(0x188)]();

            const _0x13a9c3 = JSON[_0x384d6a(0x189)](_0xac1437);

            _0x3a0665.MyNhy(expect, _0x13a9c3)[_0x384d6a(0x183)]({ 'slug': _0x384d6a(0x18d) }), await _0x3a6ba9[_0x384d6a(0x175)]();
        }), _0x5c9676[_0x2b999f(0x18e)](it, _0x5c9676[_0x2b999f(0x18f)], async () => {
            const _0x1ca578 = _0x2b999f;

            const _0x450a55 = await _0x3a0665[_0x1ca578(0x186)](_0x359954, appPort, _0x3a0665[_0x1ca578(0x190)]);

            const _0x5581b2 = await _0x450a55.elementById(_0x3a0665[_0x1ca578(0x18c)]).text();

            const _0x3b630b = JSON[_0x1ca578(0x189)](_0x5581b2);

            _0x3a0665[_0x1ca578(0x191)](expect, _0x3b630b).toEqual({ 'connection': 'keep-alive' }), await _0x450a55.close();
        });
    }
});
