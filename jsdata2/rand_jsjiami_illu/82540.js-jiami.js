const vip = 'vip.v6';
const _0x4499 = ['vip.v6', 'woxrwqXDqiYcw75L', 'w5AoJ1EEw6M=', 'w5HDkVNkX8K/cg==', 'wrMOw53CoD3ClEBK', 'VBvClsKfKsKjK8KG', 'fSPDmRwHwo15', 'w5UQCn0A', 'w6IlBzLCvA==', 'Zj94ScOzw5Rx', 'wrEpw77CpBxd', 'ViDDjD07', 'wr7ChsOiw70hQxUawobDnsOhNFo=', 'wrfDh8Oxw7rCqQ==', 'fAxjeMOw', 'wro+w6TCtwdcw4w=', 'HjovU8Od', 'NiPCqmrDlcKQehDDgjppDcOQa8KTwpDDpMKrw70=', 'TsO/w7vDn8Oc', 'wrpxO8OnMg==', 'c8KNHsOaSQ==', 'wp3CiCzDocK6wpHDgcKy', 'w53ClMOIw43ClA==', 'wq8DwqB9wrVzw7k=', 'w6/Dv0J9Tg==', 'woDCvk0RwpU=', 'wrbCqF4Ew58=', 'bC8ASFg=', 'HRjCvWvDqg==', 'wpXCpUoU', 'HcOFw4jCnGQ=', 'wqcGw4XCpA/CoEZSw6A=', 'w5PCvy9dw5I=', 'w5gzw6vDtQ==', 'wonCgDTDpcKIwqXDh8Kqw5w=', 'wpvDn8OPw5HCtQ==', 'wq3Dj2ZBBnnCp8OPwoY=', 'w4fDkkhsJMO6wpN0LMOLwqBIw7oA', 'wp47wq7Dq8OfesOuwpEuwrXDkA==', 'w4zDhk52RMK/', 'wrbCsFkkwrk=', 'UcOhKMK/w6o=', 'w5DDkkhrP8O6woQ=', 'w5fCuwpJw5M=', 'wrcCw5rCuxXCiUk=', 'w4fCuRpaw6DCusOuZTnCsA==', 'BiUZbcOWDcOcwpI=', 'wpIfK8O7KQ==', 'wrxqTcOTMg==', 'wo5xwrTDsDgHw70=', 'w5zDgMKeM8K0GkDCnsKnTyXCkws=', 'woPCoEoXwpw=', 'wrp5HsOAOsK/bTjDqQ==', 'WmBAasKk', 'w6XDpmtXJA==', 'wr3Dmn9P', 'A8O1w7TCg0ofw70=', 'wo3DgsOqw5PCiw==', 'YCoLWmE=', 'dMK2w5s1', 'EsOVeknCrz1YaMOgGQ==', 'w5s/PUIfw6JkV1PCkDZtwqDChQ==', 'wpHCuls7wqc=', 'w5vDl8KIJsKyEGrCqMKxTz/ClQrCvg==', 'SMKpFsO1w7I=', 'QcO0w57DpcO2', 'wpgBLsOp', 'wpp1wqnCucOdKMOvw4Mr', 'w4RDwrzDsFo=', 'wrnCkcO0w6gnST8=', 'MCQKc8Os', 'UCAGd3M=', 'wrEuwpsJEcKSKFjCq8OR', 'OCI0U8KD', 'wq7CiynDisK3', 'XsKJDcOCw7I=', 'YggYXVM=', 'cMOqw5rDsg==', 'McOmwroCw7PCmDk=', 'ScOOWUXCuw==', 'w7E9BUIs', 'w6Ugw5XDo8Ks', 'w7c+ADc=', 'V8OxMcKyw4VKw6rDr2s=', 'wqEkF8OANQ==', 'w4bDg3BlWw==', 'QAXDmzMe', 'TR0WbDFtKBV+PAjDpcORwoBJw7I0wpwjJXo=', 'wo0ww4jCujs=', 'wonDoMOtwoQPwpZPfMObZg==', 'TMKjw4AVNA==', 'U8OJSVbCjA==', 'w6vDl8KVw6U=', 'ZMKjw4I7A8Oqw5/Crn4=', 'w7wQDHcO', 'finChsK9DA==', 'fT4UW18=', 'wp/DtMO2woEw', 'wqUowqDDusKWw65HH8KAwr/Dim/CoxTCg0k/w44J', 'wqLCsHISw5s=', 'woZkGsOOBQ==', 'DDnCq20=', 'aCPDmQ==', 'OcOQbMKdIk7Ctw==', 'HcOcw4RWwrVnwpYZ', 'B8O5w7PCmGICw7QA', 'MMOmwr0Ew6jCmSQ=', 'Y8Kow5YNJw==', 'e8KLI8OI', 'wpEBLMO9IA==', 'a0PCncKWw5s=', 'ZsOibGDCj8OkJH7Dsw==', 'FzUIa8OdA8Oc', 'Q8OSCsKxw60=', 'w5woK1cZw6hOYUXCkCxrwqE=', 'SR8NaWI=', 'wo18YcOVHw==', 'w7vCiQdbw4o=', 'SsOdw5fDo8O7', 'bsKsw4cj', 'wpVIasOTMg==', 'w6/DpGl5Og==', 'PcKiwqvDtQ==', 'R8O1LsKtw69Kw7E=', 'wpASwpMmOw==', 'woczw4HCuBY=', 'wq7CgMOyw74=', 'wrLCqTfDkMKU', 'wp3Dj8OWw5zCql7CnEov', 'wogjwqfDq8KWw69fIMK2wqnDi3DCqQg=', 'w6xlw5pDbMOJZwLDscKMXQzDt2NbXsKvEG5gw6hXaMK7w553w4bDgFvDl0zChC3Cr8Ksw7snwqp0wos=', 'wpnChCvDusKSwozDiA==', 'w4PCvsOsw6nCn8Om', 'RcKSOsOhWsOiwqPDuGIbM8OWeAnCoQ==', 'wqsiw7LCtDE=', 'NTwTdcOowrUlw6E0wrs=', 'wpLDscO3wpBmw40Bb8OGenzCoDU3w7/Dh8K2worDq8Ogw5o=', 'w6zDhsKwwrJlCHZRw4Q=', 'A8O1w6nClHAEw7IHOcK6', 'bcO3w53DgMO2', 'AMOmwoUYwpY=', 'wpXDt8Oqwoc1wow=', 'csKSOsOmQcOiwrQ=', 'WMKSPsOXw4w=', 'wq3Dj2ZBNjbCoMOEwoNGw4zDlyXDug5ewpTCqcKzSgcIRD3Chg==', 'wpjCvmgfw6UhXMO2wpsPP1FGw51bw7/Dj8KpwpDCqitcw5zDnsOPwr/DhiHCgSbDtcK/w6B0wqTCnggGw57DoMOzw7olw77CosO0Hz1aCX8=', 'ZsOxZW3CiMOHFnDDpcO4wrvDskQ=', 'YMKNOMO+Vg==', 'w4Ipw7fDow==', 'AsO1w7TChEwCw7Y=', 'wq/CiX4Bw6A=', 'wpstwrDDksKz', 'dsOww63DncOo', 'wqYnK8OoDA==', 'wosWwrLDq8Km', 'w4zDl8KPIcOgDXbCisO6TynCjxbCucOnw456w5fDjC0lw5lpwqXDnXZMwp0tw6TDkBrDpHdBw43DvywMw7DDjcOIAcKHw6DDuCQ=', 'XMOkKcKuwrwKwrDDpnc+w7cXbsOcw5E2', 'aMKtw54k', 'w5XCn8OAw4nCog==', 'w7wiOXw6', 'KcONw4d0wqM=', 'wpVpQMKX', 'w5UfIVAD', 'wrfClGEfw7U=', 'wpR4QcKAdsOeLA==', 'Svip.v6nPhajdtRZZNICBrra=='];
(function (_0x2699a9, _0x501e82, _0x5b6c40) {
  const _0xa3de42 = function (_0x26a748, _0x11084b, _0x2c2a53, _0xa6c3c8, _0x38ba25) {
    _0x11084b = _0x11084b >> 0x8, _0x38ba25 = 'po';const _0x4cbc11 = 'shift';
    const _0x425aa0 = 'push';
    if (_0x11084b < _0x26a748) {
      while (--_0x26a748) {
        _0xa6c3c8 = _0x2699a9.shift();if (_0x11084b === _0x26a748) {
          _0x11084b = _0xa6c3c8;_0x2c2a53 = _0x2699a9.pop();
        } else if (_0x11084b && _0x2c2a53.replace(/[SnPhajdtRZZNICBrra=]/g, '') === _0x11084b) {
          _0x2699a9.push(_0xa6c3c8);
        }
      }_0x2699a9.push(_0x2699a9.shift());
    }return 0xa322f;
  };

  return _0xa3de42(++_0x501e82, _0x5b6c40) >> _0x501e82 ^ _0x5b6c40;
})(_0x4499, 0x81, 0x8100);
const _0x487f = function (_0x4ed899, _0x10afed) {
  _0x4ed899 = ~~'0x'.concat(_0x4ed899);var _0x1125c1 = _0x4499[_0x4ed899];
  if (_0x487f.Ddrmpd === undefined) {
    (function () {
      const _0x26b4f5 = typeof window !== 'undefined' ? window : typeof process === 'object' && typeof require === 'function' && typeof global === 'object' ? global : this;

      const _0x28bf35 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
      _0x26b4f5.atob || (_0x26b4f5['atob'] = function (_0x58e416) {
        const _0x384416 = String(_0x58e416).replace(/=+$/, '');

        // Unknown loop control variable
        for (var _0x16cf46 = 0x0, _0x2a9cca, _0x5758ae, _0x42961f = 0x0, _0x2bb6ce = ''; _0x5758ae = _0x384416.charAt(_0x42961f++); ~_0x5758ae && (_0x2a9cca = _0x16cf46 % 0x4 ? _0x2a9cca * 0x40 + _0x5758ae : _0x5758ae, _0x16cf46++ % 0x4) ? _0x2bb6ce += String.fromCharCode(0xff & _0x2a9cca >> (-2 * _0x16cf46 & 0x6)) : 0x0) {
          _0x5758ae = _0x28bf35.indexOf(_0x5758ae);
        }return _0x2bb6ce;
      });
    })();
    const _0x104608 = function (_0x4b0a6c, _0x10afed) {
      const _0x2a3be0 = [];
      var _0x3137b5 = 0x0;

      var _0xbb558c;

      var _0x3f746c = '';
      var _0x16100b = '';
      _0x4b0a6c = atob(_0x4b0a6c); // Unknown loop control variable
      for (var _0x44ed79 = 0x0, _0x30658c = _0x4b0a6c.length; _0x44ed79 < _0x30658c; _0x44ed79++) {
        _0x16100b += '%' + ('00' + _0x4b0a6c.charCodeAt(_0x44ed79).toString(0x10)).slice(-2);
      }_0x4b0a6c = decodeURIComponent(_0x16100b); // Unevaluable statement in loop: AssignmentExpression
      for (var _0x3db4ea = 0x0; _0x3db4ea < 0x100; _0x3db4ea++) {
        _0x2a3be0[_0x3db4ea] = _0x3db4ea;
      } // Unknown loop control variable
      for (_0x3db4ea = 0x0; _0x3db4ea < 0x100; _0x3db4ea++) {
        _0x3137b5 = (_0x3137b5 + _0x2a3be0[_0x3db4ea] + _0x10afed.charCodeAt(_0x3db4ea % _0x10afed.length)) % 0x100;_0xbb558c = _0x2a3be0[_0x3db4ea];_0x2a3be0[_0x3db4ea] = _0x2a3be0[_0x3137b5];_0x2a3be0[_0x3137b5] = _0xbb558c;
      }_0x3db4ea = 0x0;_0x3137b5 = 0x0; // Unevaluable loop test expression
      for (var _0x60db08 = 0x0; _0x60db08 < _0x4b0a6c.length; _0x60db08++) {
        _0x3db4ea = (_0x3db4ea + 0x1) % 0x100;_0x3137b5 = (_0x3137b5 + _0x2a3be0[_0x3db4ea]) % 0x100;_0xbb558c = _0x2a3be0[_0x3db4ea];_0x2a3be0[_0x3db4ea] = _0x2a3be0[_0x3137b5];_0x2a3be0[_0x3137b5] = _0xbb558c;_0x3f746c += String.fromCharCode(_0x4b0a6c.charCodeAt(_0x60db08) ^ _0x2a3be0[(_0x2a3be0[_0x3db4ea] + _0x2a3be0[_0x3137b5]) % 0x100]);
      }return _0x3f746c;
    };

    _0x487f['MdmSGZ'] = _0x104608;_0x487f['DaXMEC'] = {};_0x487f['Ddrmpd'] = true;
  }const _0x1f77b9 = _0x487f.DaXMEC[_0x4ed899];
  if (_0x1f77b9 === undefined) {
    if (_0x487f.pVSmko === undefined) {
      _0x487f['pVSmko'] = true;
    }_0x1125c1 = _0x487f.MdmSGZ(_0x1125c1, _0x10afed);_0x487f.DaXMEC[_0x4ed899] = _0x1125c1;
  } else {
    _0x1125c1 = _0x1f77b9;
  }return _0x1125c1;
};

const sessionMiddleware = require(_0x487f('0', 'OQFu'))[_0x487f('1', '4Y!W')];

const models = require('../../../../../core/server/models');

const sinon = require('sinon');

const should = require(_0x487f('2', 'CxHV'));

describe(_0x487f('3', 'BL8y'), function () {
  const _0x3fb134 = { 'eICUQ': function (_0x2acefe, _0x5d41d5) {
      return _0x2acefe === _0x5d41d5;
    }, 'TVzrv': _0x487f('4', 'INmP'), 'aItgF': 'OlwbG', 'CxwJW': 'zEZNP', 'aGuOB': function (_0x5a55b9) {
      return _0x5a55b9();
    }, 'uZRgZ': function (_0x29ce61) {
      return _0x29ce61();
    }, 'jEofn': 'get', 'LKelc': _0x487f('5', 'B9fn'), 'EDYPH': _0x487f('6', 'i4At'), 'jJDKm': _0x487f('7', '$veS'), 'iiKMp': _0x487f('8', 'cTB2'), 'zjTKi': function (_0x49d4b0, _0x2223ab) {
      return _0x49d4b0 !== _0x2223ab;
    }, 'MtLdQ': _0x487f('9', '5h9U'), 'nqZxG': 'http://host.tld', 'MaTOR': function (_0x320826, _0x3d861e) {
      return _0x320826 === _0x3d861e;
    }, 'ezWHz': _0x487f('a', 'lH^&'), 'mBKQg': _0x487f('b', 'i4At'), 'TaoBg': 'bububang', 'FQPOr': function (_0x4af71e) {
      return _0x4af71e();
    }, 'slPcR': _0x487f('c', 'BL8y'), 'unBMf': function (_0x8a73bf, _0x13a019) {
      return _0x8a73bf !== _0x13a019;
    }, 'gPftB': _0x487f('d', '*Qyc'), 'iVhBj': function (_0x1b2f77, _0x4c9509, _0x11d326) {
      return _0x1b2f77(_0x4c9509, _0x11d326);
    }, 'txOpx': 'sets req.session.user_id,origin,user_agent,ip and calls sendStatus with 201 if the check succeeds', 'Bjqux': 'LMYIG', 'TtqkX': function (_0x1cca37, _0x933105) {
      return _0x1cca37 !== _0x933105;
    }, 'xmBTF': function (_0x575c42, _0x163a85, _0x49b8fd) {
      return _0x575c42(_0x163a85, _0x49b8fd);
    }, 'DjqCL': _0x487f('e', 'EEeV'), 'lvoui': function (_0x378aea, _0xb5c555, _0x41fd6f) {
      return _0x378aea(_0xb5c555, _0x41fd6f);
    }, 'qGeaF': _0x487f('f', 'Vs$b'), 'vzqle': function (_0x2f4f48, _0x16cb60) {
      return _0x2f4f48(_0x16cb60);
    }, 'wkdMW': function (_0x5bdf60, _0x39694e, _0x4f18ad) {
      return _0x5bdf60(_0x39694e, _0x4f18ad);
    }, 'rDrBQ': _0x487f('10', 'nH[e') };
  _0x3fb134[_0x487f('11', 'BL8y')](before, function () {
    models[_0x487f('12', 'nK^#')]();
  });afterEach(function () {
    sinon[_0x487f('13', 'cTB2')]();
  });
  const _0x388060 = function _0x388060() {
    if (_0x3fb134.eICUQ(_0x3fb134[_0x487f('14', 'Vs$b')], _0x3fb134.aItgF)) {
      should.equal(destroyStub.callCount, 0x1);done();
    } else {
      return { 'session': { 'destroy'() {} }, 'user': null, 'body': {}, 'get'() {} };
    }
  };

  const _0x541803 = function _0x541803() {
    return { 'sendStatus'() {} };
  };

  _0x3fb134[_0x487f('15', 'zqVb')](describe, _0x3fb134.rDrBQ, function () {
    if (_0x3fb134[_0x487f('16', '5h9U')](_0x487f('17', 'tJyl'), _0x3fb134[_0x487f('18', 'zqVb')])) {
      it(_0x487f('19', '!psW'), function (_0x274c4c) {
        const _0x2af496 = { 'YfaTN': _0x487f('1a', 'EVzf'), 'IiKJp': _0x487f('1b', 'Bex0') };
        if (_0x3fb134[_0x487f('1c', 'CxHV')](_0x3fb134[_0x487f('1d', 'Rd4I')], _0x3fb134[_0x487f('1e', '6jiQ')])) {
          const _0x717aa4 = _0x3fb134.aGuOB(_0x388060);

          const _0x46debd = _0x3fb134.uZRgZ(_0x541803);

          sinon[_0x487f('1f', '6Q$(')](_0x717aa4, _0x3fb134[_0x487f('20', 'Rd4I')]).withArgs(_0x3fb134[_0x487f('21', 'Vs$b')])[_0x487f('22', '6Q$(')]('')[_0x487f('23', 'yf$T')](_0x487f('24', 'Rd4I'))[_0x487f('25', 'URwI')]('')[_0x487f('26', 't6UK')](_0x487f('27', 'PIzN'))[_0x487f('28', 'rTql')](_0x3fb134.EDYPH);_0x717aa4['ip'] = _0x3fb134[_0x487f('29', 'Rd4I')];_0x717aa4['user'] = models.User[_0x487f('2a', 'EPO!')]({ 'id': 0x17 });sinon.stub(_0x46debd, _0x3fb134.iiKMp).callsFake(function () {
            should.equal(_0x717aa4[_0x487f('2b', 'U6[S')][_0x487f('2c', 'INmP')], _0x2af496[_0x487f('2d', 'rTql')]);_0x274c4c();
          });sessionMiddleware[_0x487f('2e', '$veS')](_0x717aa4, _0x46debd);
        } else {
          fn(new Error(_0x2af496[_0x487f('2f', 'X9BT')]));
        }
      });_0x3fb134[_0x487f('30', 'U6[S')](it, _0x3fb134.txOpx, function (_0x36999b) {
        const _0x244663 = { 'MwZwI': function (_0x285685) {
            return _0x285685();
          }, 'mUOlG': _0x487f('31', 'INmP'), 'IFbTS': function (_0x1f228f, _0x12a231) {
            return _0x3fb134[_0x487f('32', '#CZQ')](_0x1f228f, _0x12a231);
          }, 'bUcdM': _0x3fb134.MtLdQ, 'PafRI': _0x3fb134.nqZxG, 'mFBQi': _0x487f('33', '3WEy') };
        if (_0x3fb134[_0x487f('34', '5h9U')](_0x3fb134[_0x487f('35', 'aUBd')], _0x3fb134[_0x487f('36', 'BL8y')])) {
          const _0x9dda85 = _0x388060();

          const _0x53dbc6 = _0x541803();

          sinon.stub(_0x9dda85, _0x3fb134.jEofn)[_0x487f('37', '4Y!W')](_0x3fb134[_0x487f('38', 'CxHV')])[_0x487f('39', 'pZtR')](_0x3fb134.nqZxG).withArgs(_0x3fb134[_0x487f('3a', 'URwI')]).returns(_0x3fb134.TaoBg);_0x9dda85['ip'] = _0x3fb134.jJDKm;_0x9dda85['user'] = models.User[_0x487f('3b', 'qpBS')]({ 'id': 0x17 });sinon.stub(_0x53dbc6, _0x3fb134.iiKMp).callsFake(function (_0xb15979) {
            const _0x85dee2 = { 'auPum': function (_0x5dbe5a) {
                return _0x244663[_0x487f('3c', 'Vs$b')](_0x5dbe5a);
              } };
            if (_0x244663[_0x487f('3d', 'tGub')]('nirPx', _0x244663[_0x487f('3e', '3WEy')])) {
              const _0x133341 = _0x244663.MwZwI(_0x388060);

              const _0x4d5dcd = _0x541803();

              const _0x2aa648 = sinon[_0x487f('3f', 'qpBS')](_0x133341[_0x487f('1', '4Y!W')], _0x244663[_0x487f('40', 'cTB2')])[_0x487f('41', 't6UK')](function (_0x524fae) {
                _0x85dee2[_0x487f('42', '(WPp')](_0x524fae);
              });

              sinon[_0x487f('43', 'nK^#')](_0x4d5dcd, 'sendStatus')[_0x487f('44', '4Y!W')](function () {
                should[_0x487f('45', 'X9BT')](_0x2aa648[_0x487f('46', 'EEeV')], 0x1);_0x36999b();
              });sessionMiddleware[_0x487f('47', 'e27i')](_0x133341, _0x4d5dcd);
            } else {
              const _0x1035f4 = _0x487f('48', 'nK^#').split('|');

              var _0x15dc00 = 0x0;
              while (true) {
                switch (_0x1035f4[_0x15dc00++]) {case '0':
                    should.equal(_0x9dda85.session[_0x487f('49', 'URwI')], _0x244663[_0x487f('4a', 'qpBS')]);continue;case '1':
                    should[_0x487f('4b', 'EVzf')](_0x9dda85[_0x487f('4c', 'e27i')].ip, '127.0.0.1');continue;case '2':
                    should[_0x487f('4d', '(WPp')](_0x9dda85[_0x487f('4e', 't6UK')][_0x487f('4f', '(WPp')], _0x487f('50', '#CZQ'));continue;case '3':
                    _0x36999b();continue;case '4':
                    should[_0x487f('51', 'tJyl')](_0xb15979, 0xc9);continue;case '5':
                    should[_0x487f('52', 'srd)')](_0x9dda85[_0x487f('1', '4Y!W')][_0x487f('53', 'yf$T')], 0x17);continue;}break;
              }
            }
          });sessionMiddleware[_0x487f('54', '!psW')](_0x9dda85, _0x53dbc6);
        } else {
          should[_0x487f('55', 'qpBS')](err[_0x487f('56', 'aUBd')], _0x244663[_0x487f('57', ']ULh')]);_0x36999b();
        }
      });
    } else {
      const _0x6d0ab8 = { 'ECiFj': function (_0xa74c8a) {
          return _0xa74c8a();
        } };

      const _0x75eac4 = _0x388060();

      const _0x33da7e = _0x3fb134[_0x487f('58', 'e27i')](_0x541803);

      sinon[_0x487f('59', 'EEeV')](_0x75eac4[_0x487f('5a', 'cTB2')], _0x3fb134[_0x487f('5b', 'X9BT')]).callsFake(function (_0x423c87) {
        _0x6d0ab8[_0x487f('5c', 'tGub')](_0x423c87);
      });sinon[_0x487f('5d', 'Bex0')](_0x33da7e, _0x487f('5e', 'lomQ')).callsFake(function (_0x1e5d57) {
        should.equal(_0x1e5d57, 0xcc);done();
      });sessionMiddleware[_0x487f('5f', 'Rd4I')](_0x75eac4, _0x33da7e);
    }
  });_0x3fb134[_0x487f('60', 'qpBS')](describe, _0x487f('61', '!psW'), function () {
    const _0x346af8 = { 'PqKxr': function (_0xbdd41a) {
        return _0x3fb134[_0x487f('62', '*Qyc')](_0xbdd41a);
      }, 'GazAX': _0x3fb134[_0x487f('63', '5h9U')], 'ydyeP': _0x487f('64', 'tJyl'), 'VJIZp': function (_0x1d1911) {
        return _0x1d1911();
      }, 'ewWtv': _0x3fb134.LKelc, 'OCvZk': _0x3fb134.mBKQg, 'IWarG': _0x487f('65', 'nK^#'), 'KanBD': _0x487f('66', 'S8jz'), 'RYfKy': _0x487f('67', '$veS'), 'TgYgA': function (_0x568c01, _0x94d9d5) {
        return _0x3fb134[_0x487f('68', '#CZQ')](_0x568c01, _0x94d9d5);
      }, 'ICxsu': _0x487f('69', 'tGub'), 'LSRal': function (_0x212ba6) {
        return _0x3fb134.FQPOr(_0x212ba6);
      }, 'XHoYo': _0x487f('6a', 'OQFu') };
    _0x3fb134[_0x487f('6b', 'B9fn')](it, _0x3fb134[_0x487f('6c', '4Y!W')], function (_0x32f038) {
      const _0x4b916c = { 'NgKtA': function (_0x2bc86b) {
          return _0x346af8[_0x487f('6d', '*Qyc')](_0x2bc86b);
        }, 'EXbga': _0x346af8[_0x487f('6e', 'tGub')] };

      const _0x283a52 = _0x388060();

      const _0x16ba1c = _0x346af8.PqKxr(_0x541803);

      const _0x5d2cd1 = sinon[_0x487f('6f', '5h9U')](_0x283a52[_0x487f('70', '*^5n')], 'destroy').callsFake(function (_0x53bf3e) {
        if (_0x487f('71', 'nH[e') === _0x4b916c.EXbga) {
          _0x4b916c[_0x487f('72', 'Rd4I')](_0x53bf3e);
        } else {
          _0x4b916c[_0x487f('73', 'nK^#')](_0x53bf3e);
        }
      });

      sinon[_0x487f('74', 'EPO!')](_0x16ba1c, 'sendStatus').callsFake(function () {
        should.equal(_0x5d2cd1[_0x487f('75', 'EVzf')], 0x1);_0x32f038();
      });sessionMiddleware[_0x487f('47', 'e27i')](_0x283a52, _0x16ba1c);
    });it('calls next with InternalServerError if destroy errors', function (_0x45d40c) {
      const _0x2c8a5e = { 'LJHUQ': function (_0x5c1848, _0x468b25) {
          return _0x5c1848(_0x468b25);
        }, 'CJBAc': _0x346af8.ydyeP, 'YovaM': function (_0x2b3221) {
          return _0x346af8[_0x487f('76', 'tJyl')](_0x2b3221);
        }, 'sTvfv': _0x346af8[_0x487f('77', 'URwI')], 'TIzfq': _0x346af8[_0x487f('78', 'rTql')], 'RjMZS': _0x487f('79', 'tGub'), 'djxZW': _0x346af8[_0x487f('7a', 't6UK')], 'TGaee': _0x487f('7b', 'i4At'), 'XWvGT': _0x346af8[_0x487f('7c', 'Bex0')] };

      const _0xa7b713 = _0x346af8[_0x487f('7d', 'nH[e')](_0x388060);

      const _0x1a4078 = _0x541803();

      sinon[_0x487f('7e', '%fBm')](_0xa7b713[_0x487f('1', '4Y!W')], _0x346af8.RYfKy)[_0x487f('7f', 'Bex0')](function (_0xdd0fa7) {
        _0x2c8a5e.LJHUQ(_0xdd0fa7, new Error(_0x2c8a5e[_0x487f('80', 'Rd4I')]));
      });sessionMiddleware.destroySession(_0xa7b713, _0x1a4078, function next(_0x3c8c19) {
        if (_0x2c8a5e[_0x487f('81', 'PIzN')] === _0x2c8a5e[_0x487f('82', 'tGub')]) {
          should[_0x487f('83', 'i4At')](_0x3c8c19.errorType, _0x487f('84', 'zqVb'));_0x2c8a5e[_0x487f('85', 'Vs$b')](_0x45d40c);
        } else {
          const _0x1ca18e = { 'wBWok': function (_0x4c822a) {
              return _0x2c8a5e[_0x487f('86', 'aUBd')](_0x4c822a);
            } };

          const _0x1fe7e8 = _0x2c8a5e.YovaM(_0x388060);

          const _0x474f61 = _0x2c8a5e.YovaM(_0x541803);

          sinon[_0x487f('87', '3WEy')](_0x1fe7e8, _0x487f('88', 'rTql')).withArgs(_0x2c8a5e.sTvfv)[_0x487f('89', 'HC]%')]('')[_0x487f('8a', '6jiQ')](_0x2c8a5e.TIzfq).returns('')[_0x487f('8b', 'cTB2')]('referrer')[_0x487f('8c', '*^5n')](_0x2c8a5e.RjMZS);_0x1fe7e8['ip'] = _0x2c8a5e[_0x487f('8d', 'Bex0')];_0x1fe7e8[_0x487f('8e', '*Qyc')] = models.User[_0x487f('8f', 'tJyl')]({ 'id': 0x17 });sinon.stub(_0x474f61, _0x2c8a5e[_0x487f('90', '3Oc4')])[_0x487f('91', 'nH[e')](function () {
            should[_0x487f('51', 'tJyl')](_0x1fe7e8[_0x487f('92', '#CZQ')][_0x487f('b', 'i4At')], 'http://ghost.org');_0x1ca18e[_0x487f('93', 'EVzf')](_0x45d40c);
          });sessionMiddleware[_0x487f('94', 'Rd4I')](_0x1fe7e8, _0x474f61);
        }
      });
    });_0x3fb134[_0x487f('95', 'tGub')](it, _0x3fb134.qGeaF, function (_0x2d26d4) {
      const _0x31d80f = { 'CThpj': function (_0xef1a71) {
          return _0xef1a71();
        } };
      if (_0x346af8[_0x487f('96', 'srd)')](_0x346af8[_0x487f('97', '(WPp')], _0x346af8[_0x487f('98', '5h9U')])) {
        models[_0x487f('99', 'Bex0')]();
      } else {
        const _0x31f714 = _0x346af8[_0x487f('9a', 'srd)')](_0x388060);

        const _0x6b5013 = _0x346af8[_0x487f('9b', 'e27i')](_0x541803);

        sinon[_0x487f('9c', 'fzPd')](_0x31f714[_0x487f('9d', 'EVzf')], _0x346af8[_0x487f('9e', 'OQFu')]).callsFake(function (_0x2e6378) {
          _0x31d80f[_0x487f('9f', 't6UK')](_0x2e6378);
        });sinon[_0x487f('a0', '$veS')](_0x6b5013, _0x346af8[_0x487f('a1', '4Y!W')])[_0x487f('a2', 'X9BT')](function (_0x48e8d9) {
          should.equal(_0x48e8d9, 0xcc);_0x2d26d4();
        });sessionMiddleware[_0x487f('a3', 'zqVb')](_0x31f714, _0x6b5013);
      }
    });
  });
});
