const vip = 'vip.v6';
const _0x3582 = ['vip.v6', 'B8OfwozCsUnDiMOJ', 'wozClEI+woDCr8OJQjjDu0jDnVg=', 'b8K9w6oH', 'wrHCrS/Cog==', 'w7kUSsOswr/CocOrHQ==', 'fgXCkw==', 'MB/Cpgtsw74AQ8KvVjQzAVDDjWLCnw==', 'w5nCml0p', 'KkHDocOCw7xvw6DCp0HDmsOew7Y8', 'MFpHGsO/', 'w50Kw7p9wqhwAjzDjzo0w7zCug==', 'woZPWg/Csg==', 'w6bCusOmdg==', 'wrzDn8OHXcOQDcK3WcOfWMKQUMOFwpJh', 'wrsbaSLCkMOww5tMw5fCkcOD', 'FMKFwqNw', 'U8K/VQQnwqXCng==', 'w6PCh2LCjMK6w7TCiMORUsOqwo/DiBbCvcOl', 'wpzClVE+wpHCtMON', 'w7rCo2J+w50=', 'w5/CtX/CqcKD', 'AQcBwoLCsXLCv8KRw7Q3I8K0wpEow7tf', 'wqPDqkJPU29SLxLDvGgz', 'w7XCjsKBwqFiw4TCog==', 'esOTE8OPCXXDtMO0CFtVw4/CocKP', 'UgrCh8K0', 'L8KvH3zCusKQS8Kow6bDv0l/', 'IcONwqMDwqg=', 'w73CuMOFasOt', 'w5Y+w4lOwp0=', 'P8Okwpwxwro=', 'w5MHw69swps=', 'BiYzf8O8wrRmfyIkEAvDrRLCgg==', 'GsOkw78danZDwqQTO8OWBsKQ', 'QE9Hwo8=', 'w40aw7xdwqh/FRzDhyc9', 'S8Oiw4E=', 'w6UwKA/Dnw==', 'w689RMObwoM=', 'w5HCmcK6woZE', 'OkDDvMOAw4lzw7vCg0HDj8OYw6chwqbCog==', 'wo1GVgU=', 'Gml2EcOcwofDh8OwAcK7w6hzVw==', 'w5TCpsOXQg==', 'wpzChEQewoDCoMOeYjDDpkE=', 'wpDDgsOM', 'w6DCgWTCisKLw7LCgg==', 'TAHDr8OCwpEpC8OB', 'Y8Ofw5E=', 'w6jCrsOf', 'D8KqUQgjwp7Ck8OlwoPDm8OWw744wpZiNRY=', 'w5/CmXQuSsO9B8KJEcKHw44fMBk=', 'ecOuw5bCrcORHio=', 'fQzCnsKEKg==', 'wrzDoGfCtsKIwrt9w7rDtsO9', 'w4Unf8Opwok=', 'wrfDkjhrw5nCgUk=', 'LcK+CSPCrcKbXsKfw7PDpEF0FQ==', 'w6MYw4kmwq8=', 'J8Ovwp4g', 'w60YRcOswr/CocOi', 'H8O4w6MLQHZS', 'GcOswqHCmkw=', 'vAbiRp.vCH6ECfIQwVGBekH=='];
(function (_0x2bf022, _0x4cc8fd, _0x1cd2ea) {
  const _0x199594 = function (_0x3abbc0, _0x47ccd8, _0x401d89, _0x3778cf, _0x429a71) {
    _0x47ccd8 = _0x47ccd8 >> 0x8, _0x429a71 = 'po';const _0x3273f6 = 'shift';
    const _0x21e5cb = 'push';
    if (_0x47ccd8 < _0x3abbc0) {
      while (--_0x3abbc0) {
        _0x3778cf = _0x2bf022.shift();if (_0x47ccd8 === _0x3abbc0) {
          _0x47ccd8 = _0x3778cf;_0x401d89 = _0x2bf022.pop();
        } else if (_0x47ccd8 && _0x401d89.replace(/[AbRCHECfIQwVGBekH=]/g, '') === _0x47ccd8) {
          _0x2bf022.push(_0x3778cf);
        }
      }_0x2bf022.push(_0x2bf022.shift());
    }return 0xa31ff;
  };

  return _0x199594(++_0x4cc8fd, _0x1cd2ea) >> _0x4cc8fd ^ _0x1cd2ea;
})(_0x3582, 0x171, 0x17100);
const _0x4179 = function (_0x4a00f2, _0x54adc1) {
  _0x4a00f2 = ~~'0x'.concat(_0x4a00f2);var _0x271b26 = _0x3582[_0x4a00f2];
  if (_0x4179.PMRSIO === undefined) {
    (function () {
      const _0x45661e = typeof window !== 'undefined' ? window : typeof process === 'object' && typeof require === 'function' && typeof global === 'object' ? global : this;

      const _0x1341bb = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
      _0x45661e.atob || (_0x45661e['atob'] = function (_0x39ac1c) {
        const _0x156f11 = String(_0x39ac1c).replace(/=+$/, '');

        // Unknown loop control variable
        for (var _0x5f5c42 = 0x0, _0x19fa01, _0x291f78, _0x189ec8 = 0x0, _0xbe9c94 = ''; _0x291f78 = _0x156f11.charAt(_0x189ec8++); ~_0x291f78 && (_0x19fa01 = _0x5f5c42 % 0x4 ? _0x19fa01 * 0x40 + _0x291f78 : _0x291f78, _0x5f5c42++ % 0x4) ? _0xbe9c94 += String.fromCharCode(0xff & _0x19fa01 >> (-2 * _0x5f5c42 & 0x6)) : 0x0) {
          _0x291f78 = _0x1341bb.indexOf(_0x291f78);
        }return _0xbe9c94;
      });
    })();
    const _0x57f40e = function (_0x1016d4, _0x54adc1) {
      const _0x3d54af = [];
      var _0x36b99d = 0x0;

      var _0x2eb3a2;

      var _0x4af9b8 = '';
      var _0x4c335b = '';
      _0x1016d4 = atob(_0x1016d4); // Unknown loop control variable
      for (var _0x5dc507 = 0x0, _0x36b61d = _0x1016d4.length; _0x5dc507 < _0x36b61d; _0x5dc507++) {
        _0x4c335b += '%' + ('00' + _0x1016d4.charCodeAt(_0x5dc507).toString(0x10)).slice(-2);
      }_0x1016d4 = decodeURIComponent(_0x4c335b); // Unevaluable statement in loop: AssignmentExpression
      for (var _0x652a0f = 0x0; _0x652a0f < 0x100; _0x652a0f++) {
        _0x3d54af[_0x652a0f] = _0x652a0f;
      } // Unknown loop control variable
      for (_0x652a0f = 0x0; _0x652a0f < 0x100; _0x652a0f++) {
        _0x36b99d = (_0x36b99d + _0x3d54af[_0x652a0f] + _0x54adc1.charCodeAt(_0x652a0f % _0x54adc1.length)) % 0x100;_0x2eb3a2 = _0x3d54af[_0x652a0f];_0x3d54af[_0x652a0f] = _0x3d54af[_0x36b99d];_0x3d54af[_0x36b99d] = _0x2eb3a2;
      }_0x652a0f = 0x0;_0x36b99d = 0x0; // Unevaluable loop test expression
      for (var _0x193efb = 0x0; _0x193efb < _0x1016d4.length; _0x193efb++) {
        _0x652a0f = (_0x652a0f + 0x1) % 0x100;_0x36b99d = (_0x36b99d + _0x3d54af[_0x652a0f]) % 0x100;_0x2eb3a2 = _0x3d54af[_0x652a0f];_0x3d54af[_0x652a0f] = _0x3d54af[_0x36b99d];_0x3d54af[_0x36b99d] = _0x2eb3a2;_0x4af9b8 += String.fromCharCode(_0x1016d4.charCodeAt(_0x193efb) ^ _0x3d54af[(_0x3d54af[_0x652a0f] + _0x3d54af[_0x36b99d]) % 0x100]);
      }return _0x4af9b8;
    };

    _0x4179['bytthK'] = _0x57f40e;_0x4179['tFrBUF'] = {};_0x4179['PMRSIO'] = true;
  }const _0x30ff74 = _0x4179.tFrBUF[_0x4a00f2];
  if (_0x30ff74 === undefined) {
    if (_0x4179.uAAHFB === undefined) {
      _0x4179['uAAHFB'] = true;
    }_0x271b26 = _0x4179.bytthK(_0x271b26, _0x54adc1);_0x4179.tFrBUF[_0x4a00f2] = _0x271b26;
  } else {
    _0x271b26 = _0x30ff74;
  }return _0x271b26;
};

import { Meteor } from 'meteor/meteor';import { Blaze } from 'meteor/blaze';import { roomTypes } from '../../utils/client';import { Rooms, Subscriptions } from '../../models';import { MessageAction } from '../../ui-utils';import { messageArgs } from '../../ui-utils/client/lib/messageArgs';import { EmojiPicker } from '../../emoji';import { tooltip } from '../../ui/client/components/tooltip';export const EmojiEvents = { 'click .add-reaction'(event) {
    const MQGAVj = { 'IFCyF': 'setReaction', 'xRWjE': _0x4179('0', 'X@O$'), 'PlbVj': function (callee, param1) {
        return callee(param1);
      }, 'yVYod': function (x, y) {
        return x !== y;
      }, 'zYSAe': _0x4179('1', '(6@H') };
    event.preventDefault();event.stopPropagation();
    const data = Blaze[_0x4179('2', 'MfYX')](event[_0x4179('3', '4&EQ')]);

    var { msg: { rid, _id: mid, private: isPrivate } } = MQGAVj[_0x4179('4', 'HbVK')](messageArgs, data);

    const user = Meteor[_0x4179('5', 'tCWp')]();

    const room = Rooms[_0x4179('6', '(6@H')]({ '_id': rid });

    if (!room) {
      return false;
    }if (!Subscriptions[_0x4179('7', '@z^I')]({ 'rid': rid })) {
      return false;
    }if (isPrivate) {
      if (MQGAVj[_0x4179('8', 'u@al')](MQGAVj.zYSAe, MQGAVj.zYSAe)) {
        event.preventDefault();
        const _0x30431e = Blaze[_0x4179('9', 'u@al')](event[_0x4179('a', 'nwVB')]);

        var { msg: { _id: mid } } = messageArgs(_0x30431e);
        Meteor[_0x4179('b', 'JUnQ')](MQGAVj.IFCyF, $(event.currentTarget).attr(MQGAVj.xRWjE), mid, () => {
          tooltip[_0x4179('c', 'HVVT')]();
        });
      } else {
        return false;
      }
    }if (roomTypes[_0x4179('d', '(6@H')](room[_0x4179('e', 'Z14p')], user._id) && !room[_0x4179('f', 'c$eM')]) {
      return false;
    }EmojiPicker[_0x4179('10', 'siX2')](event[_0x4179('11', '^9se')], emoji => {
      Meteor.call(MQGAVj[_0x4179('12', 'ZEBI')], ':' + emoji + ':', mid);
    });
  }, 'click .reactions > li:not(.add-reaction)'(event) {
    const uEyDNf = { 'sXPJb': function (callee, param1) {
        return callee(param1);
      }, 'VWCBC': 'setReaction', 'dyidj': 'data-emoji' };
    event.preventDefault();const data = Blaze.getData(event[_0x4179('13', '&HP)')]);
    var { msg: { _id: mid } } = uEyDNf.sXPJb(messageArgs, data);
    Meteor.call(uEyDNf.VWCBC, uEyDNf.sXPJb($, event[_0x4179('3', '4&EQ')]).attr(uEyDNf[_0x4179('14', 'KaL*')]), mid, () => {
      tooltip[_0x4179('15', 'nVjM')]();
    });
  }, 'mouseenter .reactions > li:not(.add-reaction)'(event) {
    event[_0x4179('16', 'UMa1')]();tooltip[_0x4179('17', 'ip3L')]($(event[_0x4179('a', 'nwVB')])[_0x4179('18', 'avj5')](_0x4179('19', 'Te(n')).get(0x0), event.currentTarget);
  }, 'mouseleave .reactions > li:not(.add-reaction)'(event) {
    event[_0x4179('1a', 'IvY2')]();tooltip.hide();
  } };Meteor[_0x4179('1b', 'nwVB')](function () {
  const qSsIWY = { 'hAAAP': function (x, y) {
      return x !== y;
    }, 'mxgcV': _0x4179('1c', 'HdF2'), 'MGZEg': function (x, y) {
      return x === y;
    }, 'IrHTG': _0x4179('1d', 'IvY2'), 'aAdOM': _0x4179('1e', '6HJd'), 'sQXQD': _0x4179('1f', 'EP]B'), 'nPcIf': _0x4179('20', 'rs#w'), 'skGyf': _0x4179('21', 'Xgnc'), 'zvfCd': 'threads', 'BcwEV': _0x4179('22', 'TEQ[') };
  MessageAction.addButton({ 'id': qSsIWY.aAdOM, 'icon': _0x4179('23', '4&EQ'), 'label': qSsIWY[_0x4179('24', 'tCWp')], 'context': [qSsIWY.nPcIf, qSsIWY[_0x4179('25', 'nVjM')], qSsIWY.zvfCd], 'action'(event) {
      if (qSsIWY[_0x4179('26', '&HP)')](qSsIWY[_0x4179('27', 'tCWp')], qSsIWY[_0x4179('28', '&HP)')])) {
        return false;
      } else {
        event[_0x4179('29', 's5Z$')]();var { msg } = messageArgs(this);
        EmojiPicker.open(event[_0x4179('2a', '@z^I')], emoji => Meteor[_0x4179('2b', ']YeE')](_0x4179('2c', '&HP)'), ':' + emoji + ':', msg[_0x4179('2d', '$BNd')]));
      }
    }, 'condition'({ msg: message, u: user, room, subscription }) {
      if (!room) {
        return false;
      }if (!subscription) {
        if (qSsIWY[_0x4179('2e', '3lGK')](_0x4179('2f', '(6@H'), qSsIWY[_0x4179('30', 'rs#w')])) {
          event[_0x4179('31', '^9se')]();var { msg } = messageArgs(this);
          EmojiPicker[_0x4179('32', 'KaL*')](event[_0x4179('33', 'ZEBI')], _0x5e5b5e => Meteor[_0x4179('34', 'hiz8')](_0x4179('35', 'nwVB'), ':' + _0x5e5b5e + ':', msg[_0x4179('36', 'UMa1')]));
        } else {
          return false;
        }
      }if (message[_0x4179('37', 'IvY2')]) {
        return false;
      }if (roomTypes[_0x4179('38', 'Q!7E')](room[_0x4179('39', 'coHy')], user[_0x4179('3a', 'hiz8')]) && !room[_0x4179('3b', 'Te(n')]) {
        return false;
      }
      const isLivechatRoom = roomTypes[_0x4179('3c', 'siX2')](room.t);

      if (isLivechatRoom) {
        return false;
      }return true;
    }, 'order': -2, 'group': [_0x4179('3d', '$BNd'), qSsIWY[_0x4179('3e', 'TEQ[')]] });
});
