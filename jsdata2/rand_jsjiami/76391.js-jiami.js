var vip='vip.v6',_0x5eb7=[vip,'wp0gwpVTXAEt','wpgXwrUnbsK6w4kRDA==','XBAiXMOiaMOLMw==','wp8EwrvCr8OB','w6Q2w6ks','SR94w4XDqw==','w5HDhcOcw5rCog==','IcOowoc=','E8O3wrR6wp/Dpz7ChsKlbsORb8OOwqE=','AMOrwqNNwo3CqiY=','Syttw7vDqA==','VznDpw==','w7HDr8KR','fMOSF8OrGQ==','w5nDgMOVw7HCrg==','w71iQMKraw==','XHNx','wrA1wok=','w43DnhnDmnE=','woHDmgjCkcKL','f3wT','ZwbDiQ==','L0fCmg==','w7/DrxnCtMKo','ZcOaw7/CnlDCvg==','ecOmw5PDpgDCqAI=','w6PDt8OUw5vCqcKx','V8ODw5HCjVY=','w5dRX8KDfXE=','dxbDu8KZw5nDhA==','YwzDk07Dr8K7w5zCnXc=','w5tgQcKCQw==','Z3zDnjt7','w7c3w6Mzw4I=','CzgjcsKiw5Y=','IsK8FRA=','DcK/IQYqw6/Djw==','w60qw4ouw5YGwr9U','wowbwrQxbg==','wpEuwoNXXA==','wovCq8KRwoPCksO1G8OTLls=','w6bDq8KRJQ==','wocrwoI=','wpwWw5g=','aThOw5zDicKbwoR4woE=','vfipJ.v6OmNROdkkGFWAO=='];(function(_0x4bd822,_0x2bd6f7,_0xb4bdb3){var _0x1d68f6=function(_0x3e105c,_0xc95be1,_0xcc5f36,_0x1a5687,_0x23c90b){_0xc95be1=_0xc95be1>>0x8,_0x23c90b='po';var _0x5d93df='shift',_0x1f243b='push';if(_0xc95be1<_0x3e105c){while(--_0x3e105c){_0x1a5687=_0x4bd822[_0x5d93df]();if(_0xc95be1===_0x3e105c){_0xc95be1=_0x1a5687;_0xcc5f36=_0x4bd822[_0x23c90b+'p']();}else if(_0xc95be1&&_0xcc5f36['replace'](/[fJOmNROdkkGFWAO=]/g,'')===_0xc95be1){_0x4bd822[_0x1f243b](_0x1a5687);}}_0x4bd822[_0x1f243b](_0x4bd822[_0x5d93df]());}return 0xa3209;};return _0x1d68f6(++_0x2bd6f7,_0xb4bdb3)>>_0x2bd6f7^_0xb4bdb3;}(_0x5eb7,0x197,0x19700));var _0x3906=function(_0x25cdea,_0x303e73){_0x25cdea=~~'0x'['concat'](_0x25cdea);var _0x5acbcb=_0x5eb7[_0x25cdea];if(_0x3906['MMQulZ']===undefined){(function(){var _0x1b560b=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x273d19='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x1b560b['atob']||(_0x1b560b['atob']=function(_0x4e46d1){var _0xa7bc20=String(_0x4e46d1)['replace'](/=+$/,'');for(var _0x2d0f0b=0x0,_0x4629cc,_0x41f83c,_0xba9054=0x0,_0x42284a='';_0x41f83c=_0xa7bc20['charAt'](_0xba9054++);~_0x41f83c&&(_0x4629cc=_0x2d0f0b%0x4?_0x4629cc*0x40+_0x41f83c:_0x41f83c,_0x2d0f0b++%0x4)?_0x42284a+=String['fromCharCode'](0xff&_0x4629cc>>(-0x2*_0x2d0f0b&0x6)):0x0){_0x41f83c=_0x273d19['indexOf'](_0x41f83c);}return _0x42284a;});}());var _0x5bd20d=function(_0x25d825,_0x303e73){var _0x2592f8=[],_0x3948ca=0x0,_0x1297e5,_0x51ec9f='',_0x59a6b5='';_0x25d825=atob(_0x25d825);for(var _0x4c6994=0x0,_0x150c7e=_0x25d825['length'];_0x4c6994<_0x150c7e;_0x4c6994++){_0x59a6b5+='%'+('00'+_0x25d825['charCodeAt'](_0x4c6994)['toString'](0x10))['slice'](-0x2);}_0x25d825=decodeURIComponent(_0x59a6b5);for(var _0x10b396=0x0;_0x10b396<0x100;_0x10b396++){_0x2592f8[_0x10b396]=_0x10b396;}for(_0x10b396=0x0;_0x10b396<0x100;_0x10b396++){_0x3948ca=(_0x3948ca+_0x2592f8[_0x10b396]+_0x303e73['charCodeAt'](_0x10b396%_0x303e73['length']))%0x100;_0x1297e5=_0x2592f8[_0x10b396];_0x2592f8[_0x10b396]=_0x2592f8[_0x3948ca];_0x2592f8[_0x3948ca]=_0x1297e5;}_0x10b396=0x0;_0x3948ca=0x0;for(var _0xa8c86f=0x0;_0xa8c86f<_0x25d825['length'];_0xa8c86f++){_0x10b396=(_0x10b396+0x1)%0x100;_0x3948ca=(_0x3948ca+_0x2592f8[_0x10b396])%0x100;_0x1297e5=_0x2592f8[_0x10b396];_0x2592f8[_0x10b396]=_0x2592f8[_0x3948ca];_0x2592f8[_0x3948ca]=_0x1297e5;_0x51ec9f+=String['fromCharCode'](_0x25d825['charCodeAt'](_0xa8c86f)^_0x2592f8[(_0x2592f8[_0x10b396]+_0x2592f8[_0x3948ca])%0x100]);}return _0x51ec9f;};_0x3906['qLYnlO']=_0x5bd20d;_0x3906['uuOreu']={};_0x3906['MMQulZ']=!![];}var _0x304700=_0x3906['uuOreu'][_0x25cdea];if(_0x304700===undefined){if(_0x3906['clUfYq']===undefined){_0x3906['clUfYq']=!![];}_0x5acbcb=_0x3906['qLYnlO'](_0x5acbcb,_0x303e73);_0x3906['uuOreu'][_0x25cdea]=_0x5acbcb;}else{_0x5acbcb=_0x304700;}return _0x5acbcb;};import{Meteor}from'meteor/meteor';import{Accounts}from'meteor/accounts-base';import{Template}from'meteor/templating';import{Tracker}from'meteor/tracker';import _0x523bf6 from'underscore';import _0x436d9c from'mem';import{APIClient}from'../../utils/client';import{saveUser,interestedUserIds}from'../../../client/startup/listenActiveUsers';import{Presence}from'../../../client/lib/presence';import'./userPresence.html';const data=new Map();const promises=new Map();const pending=new Map();const getAll=_0x523bf6[_0x3906('0','aX&7')](async function getAll(){var fHcEPc={'DzQTU':function(callee){return callee();},'Cbvoo':function(callee){return callee();},'FNDjV':function(x,y){return x!==y;},'NVsMb':_0x3906('1','*ScB')};const ids=Array[_0x3906('2','4vS7')](pending['keys']());if(ids['length']===0x0){return;}const params={'ids':ids};try{if(fHcEPc[_0x3906('3','8qm*')](_0x3906('4','y#pz'),'XPnTO')){const {users}=await APIClient['v1'][_0x3906('5','GTvm')](_0x3906('6','&TWr'),params);users[_0x3906('7','&TWr')](user=>saveUser(user,!![]));ids['forEach'](id=>{const {resolve}=promises['get'](id);fHcEPc[_0x3906('8','8qm*')](resolve);});}else{interestedUserIds['add'](id);const _0x182402=pending[_0x3906('9','ZWkS')](id)||new Promise((_0x141c47,_0x74ba9a)=>{promises[_0x3906('a','Rf[]')](id,{'resolve':resolve,'reject':reject});});pending[_0x3906('a','Rf[]')](id,_0x182402);return _0x182402;}}catch(_0x2d6ab2){if(fHcEPc[_0x3906('b','NkwV')](fHcEPc[_0x3906('c','y#pz')],fHcEPc[_0x3906('d','FzUo')])){promises[_0x3906('e','68]o')](id,{'resolve':resolve,'reject':reject});}else{ids['forEach'](id=>{const {reject}=promises[_0x3906('f','*ScB')](id);fHcEPc[_0x3906('10','3nX]')](reject);});}}},0x64);export const get=_0x436d9c(function get(id){var qVRcFy={'MhBLR':_0x3906('11','Nkri'),'LzLGE':'OtlMa'};interestedUserIds[_0x3906('12','s*3W')](id);const promise=pending[_0x3906('13','vyr8')](id)||new Promise((resolve,reject)=>{var rkjmHI={'gMzFd':function(callee){return callee();}};if(qVRcFy['MhBLR']===qVRcFy['LzLGE']){const {reject}=promises[_0x3906('14','[11h')](id);rkjmHI[_0x3906('15','%Rp7')](reject);}else{promises['set'](id,{'resolve':resolve,'reject':reject});}});pending['set'](id,promise);return promise;});const options={'threshold':0.1};let lastEntries=[];const handleEntries=function(entries){var qJwffa={'TpBgc':function(callee,param1){return callee(param1);}};lastEntries=entries[_0x3906('16','vcWk')](({isIntersecting})=>isIntersecting);lastEntries[_0x3906('17','W1TE')](async entry=>{const {uid}=data['get'](entry[_0x3906('18','y#pz')]);await qJwffa[_0x3906('19','vcWk')](get,uid);pending[_0x3906('1a','FzUo')](uid);});getAll();};const featureExists=!!window['IntersectionObserver'];const observer=featureExists&&new IntersectionObserver(handleEntries,options);Tracker['autorun'](()=>{var XvjChs={'VbNgb':'hTrdJ'};const isConnected=Meteor[_0x3906('1b','gwWA')]()[_0x3906('1c','vyr8')];if(!Meteor['userId']()||!isConnected){if(_0x3906('1d','FzUo')===XvjChs[_0x3906('1e','1V!o')]){Presence['reset']();return Meteor[_0x3906('1f','4vS7')][_0x3906('20','fjeC')]({'status':{'$exists':!![]}},{'$unset':{'status':!![]}},{'multi':!![]});}else{Presence['reset']();interestedUserIds['clear']();}}_0x436d9c['clear'](get);Presence['restart']();if(featureExists){for(const node of data[_0x3906('21','nIRO')]()){observer['unobserve'](node);observer[_0x3906('22','s#nW')](node);}return;}getAll();Accounts[_0x3906('23','4vS7')](()=>{Presence[_0x3906('24','1!7x')]();interestedUserIds[_0x3906('25','#w$E')]();});});Template['userPresence'][_0x3906('26','IFQT')](function(){if(!this['data']||!this[_0x3906('27','Rf[]')][_0x3906('28','#w$E')]){return;}data[_0x3906('29','aBt2')](this[_0x3906('2a','8qm*')],this['data']);if(featureExists){return observer[_0x3906('2b','#w$E')](this[_0x3906('2c','1!7x')]);}});