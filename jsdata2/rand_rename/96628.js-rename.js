var nwNatives=requireNative("nw_natives");var fullArgv=null;var dataPath;var eventsMap={open:"onOpen",reopen:"onReopen"};var filteredArgv=[/^--url=/,/^--remote-debugging-port=/,/^--renderer-cmd-prefix=/,/^--nwapp=/];apiBridge.registerCustomHook(function(e){var t=e.apiFunctions;t.setHandleRequest("crashRenderer",function(){nwNatives.crashRenderer()});e.compiledApi.__defineGetter__("argv",function(){var e=this.fullArgv;var t=e.filter(function(t){return!filteredArgv.some(function(e){return e.test(t)})});return t});e.compiledApi.__defineGetter__("fullArgv",function(){if(fullArgv)return fullArgv;fullArgv=nw.App.getArgvSync();return fullArgv});e.compiledApi.__defineGetter__("filteredArgv",function(){return filteredArgv});e.compiledApi.__defineSetter__("filteredArgv",function(e){return filteredArgv=e});e.compiledApi.__defineGetter__("manifest",function(){var e=chrome.runtime.getManifest();if(e.hasOwnProperty("__nwjs_manifest"))return e["__nwjs_manifest"];return e});t.setHandleRequest("getArgvSync",function(){return bindingUtil.sendRequestSync("nw.App.getArgvSync",[],undefined,undefined)});t.setHandleRequest("setProxyConfig",function(){bindingUtil.sendRequestSync("nw.App.setProxyConfig",$Array.from(arguments),undefined,undefined)});t.setHandleRequest("clearCache",function(){bindingUtil.sendRequestSync("nw.App.clearCache",$Array.from(arguments),undefined,undefined)});t.setHandleRequest("clearAppCache",function(){bindingUtil.sendRequestSync("nw.App.clearAppCache",$Array.from(arguments),undefined,undefined)});t.setHandleRequest("getProxyForURL",function(){return nwNatives.getProxyForURL.apply(this,arguments)});t.setHandleRequest("addOriginAccessWhitelistEntry",function(){nwNatives.addOriginAccessWhitelistEntry.apply(this,arguments)});t.setHandleRequest("removeOriginAccessWhitelistEntry",function(){nwNatives.removeOriginAccessWhitelistEntry.apply(this,arguments)});t.setHandleRequest("once",function(e,t){if(typeof t!=="function")throw new TypeError("listener must be a function");var n=false;var r=this;function i(){r.removeListener(e,i);if(!n){n=true;t.apply(r,arguments)}}this.on(e,i);return this});t.setHandleRequest("on",function(e,t){if(eventsMap.hasOwnProperty(e)){nw.App[eventsMap[e]].addListener(t)}});t.setHandleRequest("removeListener",function(e,t){if(eventsMap.hasOwnProperty(e)){nw.App[eventsMap[e]].removeListener(t)}});t.setHandleRequest("removeAllListeners",function(t){if(eventsMap.hasOwnProperty(t)){for(let e of nw.App[eventsMap[t]].getListeners()){nw.App[eventsMap[t]].removeListener(e.callback)}}});t.setHandleRequest("getDataPath",function(){return bindingUtil.sendRequestSync("nw.App.getDataPath",[],undefined,undefined)[0]});t.setHandleRequest("getStartPath",function(){return nwNatives.getOldCwd()});e.compiledApi.__defineGetter__("dataPath",function(){if(!dataPath)dataPath=nw.App.getDataPath();return dataPath});e.compiledApi.__defineGetter__("startPath",function(){return nw.App.getStartPath()});e.compiledApi.registerGlobalHotKey=function(){return nw.Shortcut.registerGlobalHotKey.apply(nw.Shortcut,arguments)};e.compiledApi.unregisterGlobalHotKey=function(){return nw.Shortcut.unregisterGlobalHotKey.apply(nw.Shortcut,arguments)}});