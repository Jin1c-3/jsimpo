var mkdirp=require("../");var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;var _0777=parseInt("0777",8);var _0755=parseInt("0755",8);test("sync perm",function(e){e.plan(4);var r="/tmp/"+(Math.random()*(1<<30)).toString(16)+".json";mkdirp.sync(r,_0755);exists(r,function(t){e.ok(t,"file created");fs.stat(r,function(t,r){e.ifError(t);e.equal(r.mode&_0777,_0755);e.ok(r.isDirectory(),"target not a directory")})})});test("sync root perm",function(e){e.plan(3);var r="/tmp";mkdirp.sync(r,_0755);exists(r,function(t){e.ok(t,"file created");fs.stat(r,function(t,r){e.ifError(t);e.ok(r.isDirectory(),"target not a directory")})})});