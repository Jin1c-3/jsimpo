(function(){"use strict";var s=function(u){u.defaults=function(e){if(!e){return e}for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];if(n){for(var a in n){if(e[a]==null){e[a]=n[a]}}}}return e};u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var c=/(.)^/;var l={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var f=/\\|'|\r|\n|\t|\u2028|\u2029/g;u.template=function(o,e,t){var r;t=u.defaults({},t,u.templateSettings);var n=new RegExp([(t.escape||c).source,(t.interpolate||c).source,(t.evaluate||c).source].join("|")+"|$","g");var i=0;var s="__p+='";o.replace(n,function(e,t,r,n,a){s+=o.slice(i,a).replace(f,function(e){return"\\"+l[e]});if(t){s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"}if(r){s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}if(n){s+="';\n"+n+"\n__p+='"}i=a+e.length;return e});s+="';\n";if(!t.variable)s="with(obj||{}){\n"+s+"}\n";s="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(e){e.source=s;throw e}if(e)return r(e,u);var a=function(e){return r.call(this,e,u)};a.source="function("+(t.variable||"obj")+"){\n"+s+"}";return a};return u}({});if(location.hostname==="todomvc.com"){window._gaq=[["_setAccount","UA-31081062-1"],["_trackPageview"]];(function(e,t){var r=e.createElement(t),n=e.getElementsByTagName(t)[0];r.src="//www.google-analytics.com/ga.js";n.parentNode.insertBefore(r,n)})(document,"script")}function e(){if(location.hostname==="tastejs.github.io"){location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com")}}function u(){var e=location.href.indexOf("examples/");return location.href.substr(0,e)}function t(e,t){if(!location.host){return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.")}var r=new XMLHttpRequest;r.open("GET",u()+e,true);r.send();r.onload=function(){if(r.status===200&&t){t(r.responseText)}}}function a(e,t){if(!(this instanceof a)){return new a(e,t)}var r,n;if(typeof e!=="object"){try{e=JSON.parse(e)}catch(e){return}}if(t){r=t.template;n=t.framework}if(!r&&e.templates){r=e.templates.todomvc}if(!n&&document.querySelector("[data-framework]")){n=document.querySelector("[data-framework]").dataset.framework}this.template=r;if(e.backend){this.frameworkJSON=e.backend;this.frameworkJSON.issueLabel=n;this.append({backend:true})}else if(e[n]){this.frameworkJSON=e[n];this.frameworkJSON.issueLabel=n;this.append()}this.fetchIssueCount()}a.prototype.append=function(e){var t=document.createElement("aside");t.innerHTML=s.template(this.template,this.frameworkJSON);t.className="learn";if(e&&e.backend){var r=t.querySelector(".source-links");var n=r.firstElementChild;var a=r.lastElementChild;var o=a.getAttribute("href");a.setAttribute("href",o.substr(o.lastIndexOf("http")));r.innerHTML=n.outerHTML+a.outerHTML}else{var i=t.querySelectorAll(".demo-link");Array.prototype.forEach.call(i,function(e){if(e.getAttribute("href").substr(0,4)!=="http"){e.setAttribute("href",u()+e.getAttribute("href"))}})}document.body.className=(document.body.className+" learn-bar").trim();document.body.insertAdjacentHTML("afterBegin",t.outerHTML)};a.prototype.fetchIssueCount=function(){var n=document.getElementById("issue-count-link");if(n){var e=n.href.replace("https://github.com","https://api.github.com/repos");var t=new XMLHttpRequest;t.open("GET",e,true);t.onload=function(e){var t=JSON.parse(e.target.responseText);if(t instanceof Array){var r=t.length;if(r!==0){n.innerHTML="This app has "+r+" open issues";document.getElementById("issue-count").style.display="inline"}}};t.send()}};e();t("learn.json",a)})();