"use strict";const common=require("../common");const http=require("http");{let e;const server=http.Server(function(t,o){o.write("Part of my res.");e=o});server.listen(0,common.mustCall(function(){http.get({port:this.address().port,headers:{connection:"keep-alive"}},common.mustCall(function(t){server.close();e.destroy();t.on("aborted",common.mustCall());t.on("error",common.expectsError({code:"ECONNRESET"}))}))}))}{let e;const server=http.Server(function(t,o){o.write("Part of my res.");e=o});server.listen(0,common.mustCall(function(){http.get({port:this.address().port,headers:{connection:"keep-alive"}},common.mustCall(function(t){server.close();e.destroy();t.on("aborted",common.mustCall())}))}))}