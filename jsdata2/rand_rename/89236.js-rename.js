import{app,dialog}from"electron";import is from"electron-is";import logger from"./Logger";const defaults={showDialog:!is.dev()};export default class ExceptionHandler{constructor(o){this.options={...defaults,...o};this.setup()}setup(){if(is.dev()){return}const{showDialog:e}=this.options;process.on("uncaughtException",o=>{const{message:r,stack:t}=o;logger.error(`[Motrix] Uncaught exception: ${r}`);logger.error(t);if(e&&app.isReady()){dialog.showErrorBox("Error: ",r)}})}}