import{inject,reactive,watch}from"vue";import{setupDevtoolsPlugin}from"@vue/devtools-api";var storeKey="store";function useStore(t){if(t===void 0)t=null;return inject(t!==null?t:storeKey)}function find(t,e){return t.filter(e)[0]}function deepCopy(e,r){if(r===void 0)r=[];if(e===null||typeof e!=="object"){return e}var t=find(r,function(t){return t.original===e});if(t){return t.copy}var o=Array.isArray(e)?[]:{};r.push({original:e,copy:o});Object.keys(e).forEach(function(t){o[t]=deepCopy(e[t],r)});return o}function forEachValue(e,r){Object.keys(e).forEach(function(t){return r(e[t],t)})}function isObject(t){return t!==null&&typeof t==="object"}function isPromise(t){return t&&typeof t.then==="function"}function assert(t,e){if(!t){throw new Error("[vuex] "+e)}}function partial(t,e){return function(){return t(e)}}function genericSubscribe(e,r,t){if(r.indexOf(e)<0){t&&t.prepend?r.unshift(e):r.push(e)}return function(){var t=r.indexOf(e);if(t>-1){r.splice(t,1)}}}function resetStore(t,e){t._actions=Object.create(null);t._mutations=Object.create(null);t._wrappedGetters=Object.create(null);t._modulesNamespaceMap=Object.create(null);var r=t.state;installModule(t,r,[],t._modules.root,true);resetStoreState(t,r,e)}function resetStoreState(r,t,e){var o=r._state;r.getters={};r._makeLocalGettersCache=Object.create(null);var n=r._wrappedGetters;var a={};forEachValue(n,function(t,e){a[e]=partial(t,r);Object.defineProperty(r.getters,e,{get:function(){return a[e]()},enumerable:true})});r._state=reactive({data:t});if(r.strict){enableStrictMode(r)}if(o){if(e){r._withCommit(function(){o.data=null})}}}function installModule(n,r,o,t,a){var e=!o.length;var i=n._modules.getNamespace(o);if(t.namespaced){if(n._modulesNamespaceMap[i]&&true){console.error("[vuex] duplicate namespace "+i+" for the namespaced module "+o.join("/"))}n._modulesNamespaceMap[i]=t}if(!e&&!a){var s=getNestedState(r,o.slice(0,-1));var c=o[o.length-1];n._withCommit(function(){{if(c in s){console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+o.join(".")+'"')}}s[c]=t.state})}var u=t.context=makeLocalContext(n,i,o);t.forEachMutation(function(t,e){var r=i+e;registerMutation(n,r,t,u)});t.forEachAction(function(t,e){var r=t.root?e:i+e;var o=t.handler||t;registerAction(n,r,o,u)});t.forEachGetter(function(t,e){var r=i+e;registerGetter(n,r,t,u)});t.forEachChild(function(t,e){installModule(n,r,o.concat(e),t,a)})}function makeLocalContext(s,c,t){var e=c==="";var r={dispatch:e?s.dispatch:function(t,e,r){var o=unifyObjectStyle(t,e,r);var n=o.payload;var a=o.options;var i=o.type;if(!a||!a.root){i=c+i;if(!s._actions[i]){console.error("[vuex] unknown local action type: "+o.type+", global type: "+i);return}}return s.dispatch(i,n)},commit:e?s.commit:function(t,e,r){var o=unifyObjectStyle(t,e,r);var n=o.payload;var a=o.options;var i=o.type;if(!a||!a.root){i=c+i;if(!s._mutations[i]){console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+i);return}}s.commit(i,n,a)}};Object.defineProperties(r,{getters:{get:e?function(){return s.getters}:function(){return makeLocalGetters(s,c)}},state:{get:function(){return getNestedState(s.state,t)}}});return r}function makeLocalGetters(r,o){if(!r._makeLocalGettersCache[o]){var n={};var a=o.length;Object.keys(r.getters).forEach(function(t){if(t.slice(0,a)!==o){return}var e=t.slice(a);Object.defineProperty(n,e,{get:function(){return r.getters[t]},enumerable:true})});r._makeLocalGettersCache[o]=n}return r._makeLocalGettersCache[o]}function registerMutation(r,t,o,n){var e=r._mutations[t]||(r._mutations[t]=[]);e.push(function t(e){o.call(r,n.state,e)})}function registerAction(o,t,n,a){var e=o._actions[t]||(o._actions[t]=[]);e.push(function t(e){var r=n.call(o,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:o.getters,rootState:o.state},e);if(!isPromise(r)){r=Promise.resolve(r)}if(o._devtoolHook){return r.catch(function(t){o._devtoolHook.emit("vuex:error",t);throw t})}else{return r}})}function registerGetter(t,e,r,o){if(t._wrappedGetters[e]){{console.error("[vuex] duplicate getter key: "+e)}return}t._wrappedGetters[e]=function t(e){return r(o.state,o.getters,e.state,e.getters)}}function enableStrictMode(t){watch(function(){return t._state.data},function(){{assert(t._committing,"do not mutate vuex store state outside mutation handlers.")}},{deep:true,flush:"sync"})}function getNestedState(t,e){return e.reduce(function(t,e){return t[e]},t)}function unifyObjectStyle(t,e,r){if(isObject(t)&&t.type){r=e;e=t;t=t.type}{assert(typeof t==="string","expects string as the type, but found "+typeof t+".")}return{type:t,payload:e,options:r}}var LABEL_VUEX_BINDINGS="vuex bindings";var MUTATIONS_LAYER_ID="vuex:mutations";var ACTIONS_LAYER_ID="vuex:actions";var INSPECTOR_ID="vuex";var actionId=0;function addDevtools(o,a){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:o,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(n){n.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500});n.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500});n.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."});n.on.getInspectorTree(function(t){if(t.app===o&&t.inspectorId===INSPECTOR_ID){if(t.filter){var e=[];flattenStoreForInspectorTree(e,a._modules.root,t.filter,"");t.rootNodes=e}else{t.rootNodes=[formatStoreForInspectorTree(a._modules.root,"")]}}});n.on.getInspectorState(function(t){if(t.app===o&&t.inspectorId===INSPECTOR_ID){var e=t.nodeId;makeLocalGetters(a,e);t.state=formatStoreForInspectorState(getStoreModule(a._modules,e),e==="root"?a.getters:a._makeLocalGettersCache,e)}});n.on.editInspectorState(function(t){if(t.app===o&&t.inspectorId===INSPECTOR_ID){var e=t.nodeId;var r=t.path;if(e!=="root"){r=e.split("/").filter(Boolean).concat(r)}a._withCommit(function(){t.set(a._state.data,r,t.state.value)})}});a.subscribe(function(t,e){var r={};if(t.payload){r.payload=t.payload}r.state=e;n.notifyComponentUpdate();n.sendInspectorTree(INSPECTOR_ID);n.sendInspectorState(INSPECTOR_ID);n.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:t.type,data:r}})});a.subscribeAction({before:function(t,e){var r={};if(t.payload){r.payload=t.payload}t._id=actionId++;t._time=Date.now();r.state=e;n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:r}})},after:function(t,e){var r={};var o=Date.now()-t._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}};if(t.payload){r.payload=t.payload}r.state=e;n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:r}})}})})}var COLOR_LIME_500=8702998;var COLOR_DARK=6710886;var COLOR_WHITE=16777215;var TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE,backgroundColor:COLOR_DARK};function extractNameFromPath(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(e,r){return{id:r||"root",label:extractNameFromPath(r),tags:e.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(e._children).map(function(t){return formatStoreForInspectorTree(e._children[t],r+t+"/")})}}function flattenStoreForInspectorTree(e,r,o,n){if(n.includes(o)){e.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:r.namespaced?[TAG_NAMESPACED]:[]})}Object.keys(r._children).forEach(function(t){flattenStoreForInspectorTree(e,r._children[t],o,n+t+"/")})}function formatStoreForInspectorState(e,t,r){t=r==="root"?t:t[r];var o=Object.keys(t);var n={state:Object.keys(e.state).map(function(t){return{key:t,editable:true,value:e.state[t]}})};if(o.length){var a=transformPathsToObjectTree(t);n.getters=Object.keys(a).map(function(t){return{key:t.endsWith("/")?extractNameFromPath(t):t,editable:false,value:canThrow(function(){return a[t]})}})}return n}function transformPathsToObjectTree(n){var a={};Object.keys(n).forEach(function(t){var e=t.split("/");if(e.length>1){var r=a;var o=e.pop();e.forEach(function(t){if(!r[t]){r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:true}}}r=r[t]._custom.value});r[o]=canThrow(function(){return n[t]})}else{a[t]=canThrow(function(){return n[t]})}});return a}function getStoreModule(t,n){var a=n.split("/").filter(function(t){return t});return a.reduce(function(t,e,r){var o=t[e];if(!o){throw new Error('Missing module "'+e+'" for path "'+n+'".')}return r===a.length-1?o:o._children},n==="root"?t:t.root._children)}function canThrow(t){try{return t()}catch(t){return t}}var Module=function t(e,r){this.runtime=r;this._children=Object.create(null);this._rawModule=e;var o=e.state;this.state=(typeof o==="function"?o():o)||{}};var prototypeAccessors$1={namespaced:{configurable:true}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function t(e,r){this._children[e]=r};Module.prototype.removeChild=function t(e){delete this._children[e]};Module.prototype.getChild=function t(e){return this._children[e]};Module.prototype.hasChild=function t(e){return e in this._children};Module.prototype.update=function t(e){this._rawModule.namespaced=e.namespaced;if(e.actions){this._rawModule.actions=e.actions}if(e.mutations){this._rawModule.mutations=e.mutations}if(e.getters){this._rawModule.getters=e.getters}};Module.prototype.forEachChild=function t(e){forEachValue(this._children,e)};Module.prototype.forEachGetter=function t(e){if(this._rawModule.getters){forEachValue(this._rawModule.getters,e)}};Module.prototype.forEachAction=function t(e){if(this._rawModule.actions){forEachValue(this._rawModule.actions,e)}};Module.prototype.forEachMutation=function t(e){if(this._rawModule.mutations){forEachValue(this._rawModule.mutations,e)}};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function t(e){this.register([],e,false)};ModuleCollection.prototype.get=function t(e){return e.reduce(function(t,e){return t.getChild(e)},this.root)};ModuleCollection.prototype.getNamespace=function t(e){var r=this.root;return e.reduce(function(t,e){r=r.getChild(e);return t+(r.namespaced?e+"/":"")},"")};ModuleCollection.prototype.update=function t(e){update([],this.root,e)};ModuleCollection.prototype.register=function t(r,e,o){var n=this;if(o===void 0)o=true;{assertRawModule(r,e)}var a=new Module(e,o);if(r.length===0){this.root=a}else{var i=this.get(r.slice(0,-1));i.addChild(r[r.length-1],a)}if(e.modules){forEachValue(e.modules,function(t,e){n.register(r.concat(e),t,o)})}};ModuleCollection.prototype.unregister=function t(e){var r=this.get(e.slice(0,-1));var o=e[e.length-1];var n=r.getChild(o);if(!n){{console.warn("[vuex] trying to unregister module '"+o+"', which is "+"not registered")}return}if(!n.runtime){return}r.removeChild(o)};ModuleCollection.prototype.isRegistered=function t(e){var r=this.get(e.slice(0,-1));var o=e[e.length-1];if(r){return r.hasChild(o)}return false};function update(t,e,r){{assertRawModule(t,r)}e.update(r);if(r.modules){for(var o in r.modules){if(!e.getChild(o)){{console.warn("[vuex] trying to add a new module '"+o+"' on hot reloading, "+"manual reload is needed")}return}update(t.concat(o),e.getChild(o),r.modules[o])}}}var functionAssert={assert:function(t){return typeof t==="function"},expected:"function"};var objectAssert={assert:function(t){return typeof t==="function"||typeof t==="object"&&typeof t.handler==="function"},expected:'function or object with "handler" function'};var assertTypes={getters:functionAssert,mutations:functionAssert,actions:objectAssert};function assertRawModule(n,t){Object.keys(assertTypes).forEach(function(r){if(!t[r]){return}var o=assertTypes[r];forEachValue(t[r],function(t,e){assert(o.assert(t),makeAssertionMessage(n,r,e,t,o.expected))})})}function makeAssertionMessage(t,e,r,o,n){var a=e+" should be "+n+' but "'+e+"."+r+'"';if(t.length>0){a+=' in module "'+t.join(".")+'"'}a+=" is "+JSON.stringify(o)+".";return a}function createStore(t){return new Store(t)}var Store=function t(e){var r=this;if(e===void 0)e={};{assert(typeof Promise!=="undefined","vuex requires a Promise polyfill in this browser.");assert(this instanceof t,"store must be called with the new operator.")}var o=e.plugins;if(o===void 0)o=[];var n=e.strict;if(n===void 0)n=false;var a=e.devtools;this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new ModuleCollection(e);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._makeLocalGettersCache=Object.create(null);this._devtools=a;var i=this;var s=this;var c=s.dispatch;var u=s.commit;this.dispatch=function t(e,r){return c.call(i,e,r)};this.commit=function t(e,r,o){return u.call(i,e,r,o)};this.strict=n;var l=this._modules.root.state;installModule(this,l,[],this._modules.root);resetStoreState(this,l);o.forEach(function(t){return t(r)})};var prototypeAccessors={state:{configurable:true}};Store.prototype.install=function t(e,r){e.provide(r||storeKey,this);e.config.globalProperties.$store=this;var o=this._devtools!==undefined?this._devtools:true;if(o){addDevtools(e,this)}};prototypeAccessors.state.get=function(){return this._state.data};prototypeAccessors.state.set=function(t){{assert(false,"use store.replaceState() to explicit replace store state.")}};Store.prototype.commit=function t(e,r,o){var n=this;var a=unifyObjectStyle(e,r,o);var i=a.type;var s=a.payload;var c=a.options;var u={type:i,payload:s};var l=this._mutations[i];if(!l){{console.error("[vuex] unknown mutation type: "+i)}return}this._withCommit(function(){l.forEach(function t(e){e(s)})});this._subscribers.slice().forEach(function(t){return t(u,n.state)});if(c&&c.silent){console.warn("[vuex] mutation type: "+i+". Silent option has been removed. "+"Use the filter functionality in the vue-devtools")}};Store.prototype.dispatch=function t(e,r){var o=this;var n=unifyObjectStyle(e,r);var a=n.type;var i=n.payload;var s={type:a,payload:i};var c=this._actions[a];if(!c){{console.error("[vuex] unknown action type: "+a)}return}try{this._actionSubscribers.slice().filter(function(t){return t.before}).forEach(function(t){return t.before(s,o.state)})}catch(t){{console.warn("[vuex] error in before action subscribers: ");console.error(t)}}var u=c.length>1?Promise.all(c.map(function(t){return t(i)})):c[0](i);return new Promise(function(e,t){u.then(function(t){try{o._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(s,o.state)})}catch(t){{console.warn("[vuex] error in after action subscribers: ");console.error(t)}}e(t)},function(e){try{o._actionSubscribers.filter(function(t){return t.error}).forEach(function(t){return t.error(s,o.state,e)})}catch(t){{console.warn("[vuex] error in error action subscribers: ");console.error(t)}}t(e)})})};Store.prototype.subscribe=function t(e,r){return genericSubscribe(e,this._subscribers,r)};Store.prototype.subscribeAction=function t(e,r){var o=typeof e==="function"?{before:e}:e;return genericSubscribe(o,this._actionSubscribers,r)};Store.prototype.watch=function t(e,r,o){var n=this;{assert(typeof e==="function","store.watch only accepts a function.")}return watch(function(){return e(n.state,n.getters)},r,Object.assign({},o))};Store.prototype.replaceState=function t(e){var r=this;this._withCommit(function(){r._state.data=e})};Store.prototype.registerModule=function t(e,r,o){if(o===void 0)o={};if(typeof e==="string"){e=[e]}{assert(Array.isArray(e),"module path must be a string or an Array.");assert(e.length>0,"cannot register the root module by using registerModule.")}this._modules.register(e,r);installModule(this,this.state,e,this._modules.get(e),o.preserveState);resetStoreState(this,this.state)};Store.prototype.unregisterModule=function t(e){var r=this;if(typeof e==="string"){e=[e]}{assert(Array.isArray(e),"module path must be a string or an Array.")}this._modules.unregister(e);this._withCommit(function(){var t=getNestedState(r.state,e.slice(0,-1));delete t[e[e.length-1]]});resetStore(this)};Store.prototype.hasModule=function t(e){if(typeof e==="string"){e=[e]}{assert(Array.isArray(e),"module path must be a string or an Array.")}return this._modules.isRegistered(e)};Store.prototype.hotUpdate=function t(e){this._modules.update(e);resetStore(this,true)};Store.prototype._withCommit=function t(e){var r=this._committing;this._committing=true;e();this._committing=r};Object.defineProperties(Store.prototype,prototypeAccessors);var mapState=normalizeNamespace(function(a,t){var r={};if(!isValidMap(t)){console.error("[vuex] mapState: mapper parameter must be either an Array or an Object")}normalizeMap(t).forEach(function(t){var e=t.key;var n=t.val;r[e]=function t(){var e=this.$store.state;var r=this.$store.getters;if(a){var o=getModuleByNamespace(this.$store,"mapState",a);if(!o){return}e=o.context.state;r=o.context.getters}return typeof n==="function"?n.call(this,e,r):e[n]};r[e].vuex=true});return r});var mapMutations=normalizeNamespace(function(i,t){var r={};if(!isValidMap(t)){console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object")}normalizeMap(t).forEach(function(t){var e=t.key;var a=t.val;r[e]=function t(){var e=[];var r=arguments.length;while(r--)e[r]=arguments[r];var o=this.$store.commit;if(i){var n=getModuleByNamespace(this.$store,"mapMutations",i);if(!n){return}o=n.context.commit}return typeof a==="function"?a.apply(this,[o].concat(e)):o.apply(this.$store,[a].concat(e))}});return r});var mapGetters=normalizeNamespace(function(o,t){var n={};if(!isValidMap(t)){console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object")}normalizeMap(t).forEach(function(t){var e=t.key;var r=t.val;r=o+r;n[e]=function t(){if(o&&!getModuleByNamespace(this.$store,"mapGetters",o)){return}if(!(r in this.$store.getters)){console.error("[vuex] unknown getter: "+r);return}return this.$store.getters[r]};n[e].vuex=true});return n});var mapActions=normalizeNamespace(function(i,t){var r={};if(!isValidMap(t)){console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object")}normalizeMap(t).forEach(function(t){var e=t.key;var a=t.val;r[e]=function t(){var e=[];var r=arguments.length;while(r--)e[r]=arguments[r];var o=this.$store.dispatch;if(i){var n=getModuleByNamespace(this.$store,"mapActions",i);if(!n){return}o=n.context.dispatch}return typeof a==="function"?a.apply(this,[o].concat(e)):o.apply(this.$store,[a].concat(e))}});return r});var createNamespacedHelpers=function(t){return{mapState:mapState.bind(null,t),mapGetters:mapGetters.bind(null,t),mapMutations:mapMutations.bind(null,t),mapActions:mapActions.bind(null,t)}};function normalizeMap(e){if(!isValidMap(e)){return[]}return Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function isValidMap(t){return Array.isArray(t)||isObject(t)}function normalizeNamespace(r){return function(t,e){if(typeof t!=="string"){e=t;t=""}else if(t.charAt(t.length-1)!=="/"){t+="/"}return r(t,e)}}function getModuleByNamespace(t,e,r){var o=t._modulesNamespaceMap[r];if(!o){console.error("[vuex] module namespace not found in "+e+"(): "+r)}return o}function createLogger(t){if(t===void 0)t={};var s=t.collapsed;if(s===void 0)s=true;var c=t.filter;if(c===void 0)c=function(t,e,r){return true};var u=t.transformer;if(u===void 0)u=function(t){return t};var l=t.mutationTransformer;if(l===void 0)l=function(t){return t};var a=t.actionFilter;if(a===void 0)a=function(t,e){return true};var f=t.actionTransformer;if(f===void 0)f=function(t){return t};var e=t.logMutations;if(e===void 0)e=true;var r=t.logActions;if(r===void 0)r=true;var p=t.logger;if(p===void 0)p=console;return function(t){var i=deepCopy(t.state);if(typeof p==="undefined"){return}if(e){t.subscribe(function(t,e){var r=deepCopy(e);if(c(t,i,r)){var o=getFormattedTime();var n=l(t);var a="mutation "+t.type+o;startMessage(p,a,s);p.log("%c prev state","color: #9E9E9E; font-weight: bold",u(i));p.log("%c mutation","color: #03A9F4; font-weight: bold",n);p.log("%c next state","color: #4CAF50; font-weight: bold",u(r));endMessage(p)}i=r})}if(r){t.subscribeAction(function(t,e){if(a(t,e)){var r=getFormattedTime();var o=f(t);var n="action "+t.type+r;startMessage(p,n,s);p.log("%c action","color: #03A9F4; font-weight: bold",o);endMessage(p)}})}}}function startMessage(e,r,t){var o=t?e.groupCollapsed:e.group;try{o.call(e,r)}catch(t){e.log(r)}}function endMessage(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function getFormattedTime(){var t=new Date;return" @ "+pad(t.getHours(),2)+":"+pad(t.getMinutes(),2)+":"+pad(t.getSeconds(),2)+"."+pad(t.getMilliseconds(),3)}function repeat(t,e){return new Array(e+1).join(t)}function pad(t,e){return repeat("0",e-t.toString().length)+t}var index={version:"4.0.2",Store:Store,storeKey:storeKey,createStore:createStore,useStore:useStore,mapState:mapState,mapMutations:mapMutations,mapGetters:mapGetters,mapActions:mapActions,createNamespacedHelpers:createNamespacedHelpers,createLogger:createLogger};export default index;export{Store,createLogger,createNamespacedHelpers,createStore,mapActions,mapGetters,mapMutations,mapState,storeKey,useStore};