const Debug=debug.Debug;let exception=null;let step_count=0;Debug.setListener((e,t,n,u)=>{if(e!=Debug.DebugEvent.Break)return;try{const s=t.frame(0).sourceLineText();print(s);const[r,c,i]=/\/\/ B(\d) (\w+)$/.exec(s);assertEquals(step_count++,parseInt(c));if(i!="Continue")t.prepareStep(Debug.StepAction[i])}catch(e){print(e,e.stack);exception=e}});function f(x){debugger;with({}){return x}}f(42);assertNull(exception);assertEquals(4,step_count);