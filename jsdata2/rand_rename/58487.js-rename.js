"use strict";description("Test Promise.all");var result=undefined;var p1=new Promise(function(e){e("p1")});var p2=new Promise(function(e){e("p2")});var p3=new Promise(function(e){e("p3")});var p4=new Promise(function(){});var p5=new Promise(function(){});var p6=new Promise(function(e,l){l("p6")});var p7=new Promise(function(e,l){l("p7")});var p8=new Promise(function(e,l){l("p8")});var p9=new Promise(function(e){e(p2)});Promise.all([p1,p2,p5]).then(function(e){testFailed("Promise.all([p1, p2, p5]) is fulfilled.")},function(){testFailed("Promise.all([p1, p2, p5]) is rejected.")});Promise.all().then(function(){testFailed("Promise.all() is fulfilled.")},function(){testPassed("Promise.all() is rejected.");return Promise.all([]).then(function(e){testPassed("Promise.all([]) is fulfilled.");result=e;shouldBe("result.length","0")},function(){testFailed("Promise.all([]) is rejected.")})}).then(function(){return Promise.all([p1,p2,p3]).then(function(e){testPassed("Promise.all([p1, p2, p3]) is fulfilled.");result=e;shouldBe("result.length","3");shouldBeEqualToString("result[0]","p1");shouldBeEqualToString("result[1]","p2");shouldBeEqualToString("result[2]","p3")},function(){testFailed("Promise.all([p1, p2, p3]) is rejected.")})}).then(function(){return Promise.all([p1,p6,p5]).then(function(e){testFailed("Promise.all([p1, p6, p5]) is fulfilled.")},function(e){testPassed("Promise.all([p1, p6, p5]) is rejected.");result=e;shouldBeEqualToString("result","p6")})}).then(function(){return Promise.all([p9]).then(function(e){testPassed("Promise.all([p9]) is fulfilled.");result=e;shouldBe("result.length","1");shouldBeEqualToString("result[0]","p2")},function(e){testFailed("Promise.all([p9]) is rejected.")})}).then(function(){return Promise.all([p9,,,]).then(function(e){testPassed("Promise.all([p9,,,]) is fulfilled.");result=e;shouldBe("result.length","3");shouldBeEqualToString("result[0]","p2");shouldBe("result[1]","undefined");shouldBe("result[2]","undefined")},function(e){testFailed("Promise.all([p9,,,]) is rejected.")})}).then(function(){return Promise.all([p9,42]).then(function(e){testPassed("Promise.all([p9,42]) is fulfilled.");result=e;shouldBe("result.length","2");shouldBeEqualToString("result[0]","p2");shouldBe("result[1]","42")},function(e){testFailed("Promise.all([p9,42]) is rejected.")})}).then(function(){return Promise.all({}).then(function(e){testFailed("Promise.all({}) is fulfilled.")},function(e){testPassed("Promise.all({}) is rejected.")})}).then(finishJSTest,finishJSTest);shouldBe("result","undefined");