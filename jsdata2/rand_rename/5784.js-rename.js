var wrappy=require("wrappy");var reqs=Object.create(null);var once=require("once");module.exports=wrappy(inflight);function inflight(e,r){if(reqs[e]){reqs[e].push(r);return null}else{reqs[e]=[r];return makeres(e)}}function makeres(a){return once(function e(){var r=reqs[a];var n=r.length;var l=slice(arguments);try{for(var t=0;t<n;t++){r[t].apply(null,l)}}finally{if(r.length>n){r.splice(0,n);process.nextTick(function(){e.apply(null,l)})}else{delete reqs[a]}}})}function slice(e){var r=e.length;var n=[];for(var l=0;l<r;l++)n[l]=e[l];return n}