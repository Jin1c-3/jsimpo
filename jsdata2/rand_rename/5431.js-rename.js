module.exports=minimatch;minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=require("path")}catch(t){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var expand=require("brace-expansion");var plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var qmark="[^/]";var star=qmark+"*?";var twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?";var reSpecials=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce(function(t,e){t[e]=true;return t},{})}var slashSplit=/\/+/;minimatch.filter=filter;function filter(i,n){n=n||{};return function(t,e,r){return minimatch(t,i,n)}}function ext(e,r){e=e||{};r=r||{};var i={};Object.keys(r).forEach(function(t){i[t]=r[t]});Object.keys(e).forEach(function(t){i[t]=e[t]});return i}minimatch.defaults=function(n){if(!n||!Object.keys(n).length)return minimatch;var a=minimatch;var t=function t(e,r,i){return a.minimatch(e,r,ext(n,i))};t.Minimatch=function t(e,r){return new a.Minimatch(e,ext(n,r))};return t};Minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return Minimatch;return minimatch.defaults(t).Minimatch};function minimatch(t,e,r){if(typeof e!=="string"){throw new TypeError("glob pattern string required")}if(!r)r={};if(!r.nocomment&&e.charAt(0)==="#"){return false}if(e.trim()==="")return t==="";return new Minimatch(e,r).match(t)}function Minimatch(t,e){if(!(this instanceof Minimatch)){return new Minimatch(t,e)}if(typeof t!=="string"){throw new TypeError("glob pattern string required")}if(!e)e={};t=t.trim();if(path.sep!=="/"){t=t.split(path.sep).join("/")}this.options=e;this.set=[];this.pattern=t;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made)return;var t=this.pattern;var e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();var r=this.globSet=this.braceExpand();if(e.debug)this.debug=console.error;this.debug(this.pattern,r);r=this.globParts=r.map(function(t){return t.split(slashSplit)});this.debug(this.pattern,r);r=r.map(function(t,e,r){return t.map(this.parse,this)},this);this.debug(this.pattern,r);r=r.filter(function(t){return t.indexOf(false)===-1});this.debug(this.pattern,r);this.set=r}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var t=this.pattern;var e=false;var r=this.options;var i=0;if(r.nonegate)return;for(var n=0,a=t.length;n<a&&t.charAt(n)==="!";n++){e=!e;i++}if(i)this.pattern=t.substr(i);this.negate=e}minimatch.braceExpand=function(t,e){return braceExpand(t,e)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(t,e){if(!e){if(this instanceof Minimatch){e=this.options}else{e={}}}t=typeof t==="undefined"?this.pattern:t;if(typeof t==="undefined"){throw new TypeError("undefined pattern")}if(e.nobrace||!t.match(/\{.*\}/)){return[t]}return expand(t)}Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(t,e){if(t.length>1024*64){throw new TypeError("pattern is too long")}var r=this.options;if(!r.noglobstar&&t==="**")return GLOBSTAR;if(t==="")return"";var i="";var n=!!r.nocase;var a=false;var s=[];var h=[];var c;var o=false;var u=-1;var f=-1;var p=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var l=this;function m(){if(c){switch(c){case"*":i+=star;n=true;break;case"?":i+=qmark;n=true;break;default:i+="\\"+c;break}l.debug("clearStateChar %j %j",c,i);c=false}}for(var g=0,v=t.length,d;g<v&&(d=t.charAt(g));g++){this.debug("%s\t%s %s %j",t,g,i,d);if(a&&reSpecials[d]){i+="\\"+d;a=false;continue}switch(d){case"/":return false;case"\\":m();a=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",t,g,i,d);if(o){this.debug("  in class");if(d==="!"&&g===f+1)d="^";i+=d;continue}l.debug("call clearStateChar %j",c);m();c=d;if(r.noext)m();continue;case"(":if(o){i+="(";continue}if(!c){i+="\\(";continue}s.push({type:c,start:g-1,reStart:i.length,open:plTypes[c].open,close:plTypes[c].close});i+=c==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",c,i);c=false;continue;case")":if(o||!s.length){i+="\\)";continue}m();n=true;var b=s.pop();i+=b.close;if(b.type==="!"){h.push(b)}b.reEnd=i.length;continue;case"|":if(o||!s.length||a){i+="\\|";a=false;continue}m();i+="|";continue;case"[":m();if(o){i+="\\"+d;continue}o=true;f=g;u=i.length;i+=d;continue;case"]":if(g===f+1||!o){i+="\\"+d;a=false;continue}if(o){var y=t.substring(f+1,g);try{RegExp("["+y+"]")}catch(t){var S=this.parse(y,SUBPARSE);i=i.substr(0,u)+"\\["+S[0]+"\\]";n=n||S[1];o=false;continue}}n=true;o=false;i+=d;continue;default:m();if(a){a=false}else if(reSpecials[d]&&!(d==="^"&&o)){i+="\\"}i+=d}}if(o){y=t.substr(f+1);S=this.parse(y,SUBPARSE);i=i.substr(0,u)+"\\["+S[0];n=n||S[1]}for(b=s.pop();b;b=s.pop()){var w=i.slice(b.reStart+b.open.length);this.debug("setting tail",i,b);w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){if(!r){r="\\"}return e+e+r+"|"});this.debug("tail=%j\n   %s",w,w,b,i);var E=b.type==="*"?star:b.type==="?"?qmark:"\\"+b.type;n=true;i=i.slice(0,b.reStart)+E+"\\("+w}m();if(a){i+="\\\\"}var x=false;switch(i.charAt(0)){case".":case"[":case"(":x=true}for(var M=h.length-1;M>-1;M--){var k=h[M];var R=i.slice(0,k.reStart);var A=i.slice(k.reStart,k.reEnd-8);var O=i.slice(k.reEnd-8,k.reEnd);var j=i.slice(k.reEnd);O+=j;var T=R.split("(").length-1;var B=j;for(g=0;g<T;g++){B=B.replace(/\)[+*?]?/,"")}j=B;var $="";if(j===""&&e!==SUBPARSE){$="$"}var L=R+A+j+$+O;i=L}if(i!==""&&n){i="(?=.)"+i}if(x){i=p+i}if(e===SUBPARSE){return[i,n]}if(!n){return globUnescape(t)}var q=r.nocase?"i":"";try{var N=new RegExp("^"+i+"$",q)}catch(t){return new RegExp("$.")}N._glob=t;N._src=i;return N}minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var t=this.set;if(!t.length){this.regexp=false;return this.regexp}var e=this.options;var r=e.noglobstar?star:e.dot?twoStarDot:twoStarNoDot;var i=e.nocase?"i":"";var n=t.map(function(t){return t.map(function(t){return t===GLOBSTAR?r:typeof t==="string"?regExpEscape(t):t._src}).join("\\/")}).join("|");n="^(?:"+n+")$";if(this.negate)n="^(?!"+n+").*$";try{this.regexp=new RegExp(n,i)}catch(t){this.regexp=false}return this.regexp}minimatch.match=function(t,e,r){r=r||{};var i=new Minimatch(e,r);t=t.filter(function(t){return i.match(t)});if(i.options.nonull&&!t.length){t.push(e)}return t};Minimatch.prototype.match=match;function match(t,e){this.debug("match",t,this.pattern);if(this.comment)return false;if(this.empty)return t==="";if(t==="/"&&e)return true;var r=this.options;if(path.sep!=="/"){t=t.split(path.sep).join("/")}t=t.split(slashSplit);this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var n;var a;for(a=t.length-1;a>=0;a--){n=t[a];if(n)break}for(a=0;a<i.length;a++){var s=i[a];var h=t;if(r.matchBase&&s.length===1){h=[n]}var c=this.matchOne(h,s,e);if(c){if(r.flipNegate)return true;return!this.negate}}if(r.flipNegate)return false;return this.negate}Minimatch.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e});this.debug("matchOne",t.length,e.length);for(var n=0,a=0,s=t.length,h=e.length;n<s&&a<h;n++,a++){this.debug("matchOne loop");var c=e[a];var o=t[n];this.debug(e,c,o);if(c===false)return false;if(c===GLOBSTAR){this.debug("GLOBSTAR",[e,c,o]);var u=n;var f=a+1;if(f===h){this.debug("** at the end");for(;n<s;n++){if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return false}return true}while(u<s){var p=t[u];this.debug("\nglobstar while",t,u,e,f,p);if(this.matchOne(t.slice(u),e.slice(f),r)){this.debug("globstar found match!",u,s,p);return true}else{if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,u,e,f);break}this.debug("globstar swallow a segment, and continue");u++}}if(r){this.debug("\n>>> no match, partial?",t,u,e,f);if(u===s)return true}return false}var l;if(typeof c==="string"){if(i.nocase){l=o.toLowerCase()===c.toLowerCase()}else{l=o===c}this.debug("string match",c,o,l)}else{l=o.match(c);this.debug("pattern match",c,o,l)}if(!l)return false}if(n===s&&a===h){return true}else if(n===s){return r}else if(a===h){var m=n===s-1&&t[n]==="";return m}throw new Error("wtf?")};function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}