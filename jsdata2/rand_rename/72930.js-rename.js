(function(n,a){"use strict";let t={duration:300,onShow:null,swipeable:false,responsiveThreshold:Infinity};class e extends Component{constructor(t,i){super(e,t,i);this.el.M_Tabs=this;this.options=n.extend({},e.defaults,i);this.$tabLinks=this.$el.children("li.tab").children("a");this.index=0;this._setupActiveTabLink();if(this.options.swipeable){this._setupSwipeableTabs()}else{this._setupNormalTabs()}this._setTabsAndTabWidth();this._createIndicator();this._setupEventHandlers()}static get defaults(){return t}static init(t,i){return super.init(this,t,i)}static getInstance(t){let i=!!t.jquery?t[0]:t;return i.M_Tabs}destroy(){this._removeEventHandlers();this._indicator.parentNode.removeChild(this._indicator);if(this.options.swipeable){this._teardownSwipeableTabs()}else{this._teardownNormalTabs()}this.$el[0].M_Tabs=undefined}_setupEventHandlers(){this._handleWindowResizeBound=this._handleWindowResize.bind(this);window.addEventListener("resize",this._handleWindowResizeBound);this._handleTabClickBound=this._handleTabClick.bind(this);this.el.addEventListener("click",this._handleTabClickBound)}_removeEventHandlers(){window.removeEventListener("resize",this._handleWindowResizeBound);this.el.removeEventListener("click",this._handleTabClickBound)}_handleWindowResize(){this._setTabsAndTabWidth();if(this.tabWidth!==0&&this.tabsWidth!==0){this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px";this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px"}}_handleTabClick(t){let i=n(t.target).closest("li.tab");let e=n(t.target).closest("a");if(!e.length||!e.parent().hasClass("tab")){return}if(i.hasClass("disabled")){t.preventDefault();return}if(!!e.attr("target")){return}this.$activeTabLink.removeClass("active");let s=this.$content;this.$activeTabLink=e;this.$content=n(M.escapeHash(e[0].hash));this.$tabLinks=this.$el.children("li.tab").children("a");this.$activeTabLink.addClass("active");let a=this.index;this.index=Math.max(this.$tabLinks.index(e),0);if(this.options.swipeable){if(this._tabsCarousel){this._tabsCarousel.set(this.index,()=>{if(typeof this.options.onShow==="function"){this.options.onShow.call(this,this.$content[0])}})}}else{if(this.$content.length){this.$content[0].style.display="block";this.$content.addClass("active");if(typeof this.options.onShow==="function"){this.options.onShow.call(this,this.$content[0])}if(s.length&&!s.is(this.$content)){s[0].style.display="none";s.removeClass("active")}}}this._setTabsAndTabWidth();this._animateIndicator(a);t.preventDefault()}_createIndicator(){let t=document.createElement("li");t.classList.add("indicator");this.el.appendChild(t);this._indicator=t;setTimeout(()=>{this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px";this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px"},0)}_setupActiveTabLink(){this.$activeTabLink=n(this.$tabLinks.filter('[href="'+location.hash+'"]'));if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()}if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children("li.tab").children("a").first()}this.$tabLinks.removeClass("active");this.$activeTabLink[0].classList.add("active");this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0);if(this.$activeTabLink.length){this.$content=n(M.escapeHash(this.$activeTabLink[0].hash));this.$content.addClass("active")}}_setupSwipeableTabs(){if(window.innerWidth>this.options.responsiveThreshold){this.options.swipeable=false}let e=n();this.$tabLinks.each(t=>{let i=n(M.escapeHash(t.hash));i.addClass("carousel-item");e=e.add(i)});let t=n('<div class="tabs-content carousel carousel-slider"></div>');e.first().before(t);t.append(e);e[0].style.display="";let i=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(t[0],{fullWidth:true,noWrap:true,onCycleTo:t=>{let i=this.index;this.index=n(t).index();this.$activeTabLink.removeClass("active");this.$activeTabLink=this.$tabLinks.eq(this.index);this.$activeTabLink.addClass("active");this._animateIndicator(i);if(typeof this.options.onShow==="function"){this.options.onShow.call(this,this.$content[0])}}});this._tabsCarousel.set(i)}_teardownSwipeableTabs(){let t=this._tabsCarousel.$el;this._tabsCarousel.destroy();t.after(t.children());t.remove()}_setupNormalTabs(){this.$tabLinks.not(this.$activeTabLink).each(i=>{if(!!i.hash){let t=n(M.escapeHash(i.hash));if(t.length){t[0].style.display="none"}}})}_teardownNormalTabs(){this.$tabLinks.each(i=>{if(!!i.hash){let t=n(M.escapeHash(i.hash));if(t.length){t[0].style.display=""}}})}_setTabsAndTabWidth(){this.tabsWidth=this.$el.width();this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}_calcRightPos(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}_calcLeftPos(t){return Math.floor(t.position().left)}updateTabIndicator(){this._setTabsAndTabWidth();this._animateIndicator(this.index)}_animateIndicator(t){let i=0,e=0;if(this.index-t>=0){i=90}else{e=90}let s={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:i},right:{value:this._calcRightPos(this.$activeTabLink),delay:e},duration:this.options.duration,easing:"easeOutQuad"};a.remove(this._indicator);a(s)}select(t){let i=this.$tabLinks.filter('[href="#'+t+'"]');if(i.length){i.trigger("click")}}}M.Tabs=e;if(M.jQueryLoaded){M.initializeJqueryWrapper(e,"tabs","M_Tabs")}})(cash,M.anime);