'use strict';
const _0x4782 = ["379925rZIAwJ", "295510ifZTnE", "112757YpxSQQ", "1WCLBVH", "10Crjmrz", "34331zOsioO", "path", "ansicolors", "util", "readFile", "name", "QHjTL", "usage", "<text>", "params", "exec", "helpSearch", "then", "catch", "docs/content", "output", "resolve", "OZLYs", "/*/*.md", "readFiles", "searchFiles", "npm", "No matches in help for: ", "join", "all", "map", "gbegP", "NGsUQ", "trim", "toLowerCase", "some", "includes", "split", "length", "reduce", "hBisj", "xZzWP", "push", "pop", "cdLie", 
"PvNJu", "aHHxg", "basename", "keys", "sort", "found", "totalHits", "lines", "slice", "long", "Top hits for ", "WwtBC", "min", "stdout", "columns", "zflIO", "HoZKf", "qWyeN", "hits", "repeat", "ePqSs", "fIdYg", "zODkw", "color", "dsCgJ", "substr", "bgBlack", "red", "config", "Jixgj", "BfLBZ", "TCfec", "stringify", "(run with -l or --long to see more context)", "708097WyUWYw", "1649HtkdKr", "131WauwwS", "119813ONCqXw"];
const _0x291d53 = _0x3f4a;
function _0x3f4a(isBgroundImg, stgs) {
  return _0x3f4a = function(isBgroundImg, stgs) {
    isBgroundImg = isBgroundImg - (1 * -1663 + -2788 * 2 + 7597);
    let _0x1a6bd1 = _0x4782[isBgroundImg];
    return _0x1a6bd1;
  }, _0x3f4a(isBgroundImg, stgs);
}
(function(data, val) {
  const toMonths = _0x3f4a;
  for (; !![];) {
    try {
      const nodeval = parseInt(toMonths(358)) + parseInt(toMonths(359)) * parseInt(toMonths(360)) + -parseInt(toMonths(361)) + -parseInt(toMonths(362)) + -parseInt(toMonths(363)) + -parseInt(toMonths(364)) * parseInt(toMonths(365)) + -parseInt(toMonths(366)) * -parseInt(toMonths(367));
      if (nodeval === val) {
        break;
      } else {
        data["push"](data["shift"]());
      }
    } catch (_0x30dd7e) {
      data["push"](data["shift"]());
    }
  }
})(_0x4782, 8799 * 61 + 355216 + -4513 * 118);
const fs = require("fs");
const path = require(_0x291d53(368));
const color = require(_0x291d53(369));
const {
  promisify : promisify
} = require(_0x291d53(370));
const glob = promisify(require("glob"));
const readFile = promisify(fs[_0x291d53(371)]);
const BaseCommand = require("./base-command.js");
class HelpSearch extends BaseCommand {
  static get ["description"]() {
    const _0x39fc27 = {
      "IJvUP" : "Search npm help documentation"
    };
    return _0x39fc27["IJvUP"];
  }
  static get [_0x291d53(372)]() {
    const now = _0x291d53;
    const rpm_traffic = {
      "QHjTL" : "help-search"
    };
    return rpm_traffic[now(373)];
  }
  static get [_0x291d53(374)]() {
    const gotoNewOfflinePage = _0x291d53;
    return [gotoNewOfflinePage(375)];
  }
  static get [_0x291d53(376)]() {
    const _0x5258fb = {
      "MQRyC" : "long"
    };
    return [_0x5258fb["MQRyC"]];
  }
  [_0x291d53(377)](name, wrongCredsCallback) {
    const getLeaf = _0x291d53;
    this[getLeaf(378)](name)[getLeaf(379)](() => {
      return wrongCredsCallback();
    })[getLeaf(380)](wrongCredsCallback);
  }
  async["helpSearch"](bStack) {
    const now = _0x291d53;
    const VoiceEffects = {
      "OZLYs" : now(381),
      "rkVck" : function(saveNotifs, notifications) {
        return saveNotifs(notifications);
      }
    };
    if (!bStack["length"]) {
      return this["npm"][now(382)](this["usage"]);
    }
    const time = path[now(383)](__dirname, "..", VoiceEffects[now(384)]);
    const GET_AUTH_URL_TIMEOUT = await VoiceEffects["rkVck"](glob, time + now(385));
    const numKeysDeleted = await this[now(386)](GET_AUTH_URL_TIMEOUT);
    const artistTrack = await this[now(387)](bStack, numKeysDeleted, GET_AUTH_URL_TIMEOUT);
    const regex = this["formatResults"](bStack, artistTrack);
    if (!regex["trim"]()) {
      this[now(388)][now(382)](now(389) + bStack[now(390)](" ") + "\n");
    } else {
      this[now(388)]["output"](regex);
    }
  }
  async[_0x291d53(386)](myPreferences) {
    const getPreferenceKey = _0x291d53;
    const rpm_traffic = {
      "gbegP" : function(require, load, callback) {
        return require(load, callback);
      },
      "NGsUQ" : "utf8"
    };
    const moduleDesignerElements = {};
    return await Promise[getPreferenceKey(391)](myPreferences[getPreferenceKey(392)](async(tabId) => {
      const now = getPreferenceKey;
      moduleDesignerElements[tabId] = (await rpm_traffic[now(393)](readFile, tabId, rpm_traffic[now(394)]))["replace"](/^---\n(.*\n)*?---\n/, "")[now(395)]();
    })), moduleDesignerElements;
  }
  async[_0x291d53(387)](exports, descriptor, canCreateDiscussions) {
    const zoneSymbol = _0x291d53;
    const view = {
      "hBisj" : function(name, initialValue) {
        return name === initialValue;
      },
      "xZzWP" : function(connectNumber, concurency) {
        return connectNumber - concurency;
      },
      "DCFvN" : function(progressOld, progressNew) {
        return progressOld < progressNew;
      },
      "cdLie" : function(connectNumber, concurency) {
        return connectNumber - concurency;
      },
      "jOYVh" : function(beforeZero, afterZero) {
        return beforeZero || afterZero;
      },
      "PvNJu" : function(formatters, customFormatters) {
        return formatters + customFormatters;
      },
      "aHHxg" : "npm help "
    };
    const PL$86 = [];
    for (const [d, cGreen] of Object["entries"](descriptor)) {
      const _0x4fd934 = cGreen[zoneSymbol(396)]();
      if (!exports[zoneSymbol(397)]((B58) => {
        return _0x4fd934[zoneSymbol(398)](B58["toLowerCase"]());
      })) {
        continue;
      }
      const cur = cGreen[zoneSymbol(399)](/\n+/);
      for (let node = -71 * -1 + -2166 * 1 + 2095; view["DCFvN"](node, cur[zoneSymbol(400)]); node++) {
        const Object = cur[node];
        const B58 = cur[node + (-1919 * 3 + -961 * 3 + 8641)];
        let _0x14b251 = ![];
        if (B58) {
          _0x14b251 = exports[zoneSymbol(397)]((Object) => {
            return B58["toLowerCase"]()["includes"](Object[zoneSymbol(396)]());
          });
          if (_0x14b251) {
            node = node + (-5751 + -1952 + 23 * 335);
            continue;
          }
        }
        _0x14b251 = exports["some"]((B58) => {
          return Object[zoneSymbol(396)]()[zoneSymbol(398)](B58["toLowerCase"]());
        });
        if (_0x14b251) {
          node++;
          continue;
        }
        cur[node] = null;
      }
      const deps = cur[zoneSymbol(401)]((PL$103, byteOffset) => {
        const getFrameType = zoneSymbol;
        if (!(view[getFrameType(402)](byteOffset, null) && view[getFrameType(402)](PL$103[view[getFrameType(403)](PL$103["length"], 9156 * -1 + -4685 + 13842)], null))) {
          PL$103[getFrameType(404)](byteOffset);
        }
        return PL$103;
      }, []);
      if (view[zoneSymbol(402)](deps[view["xZzWP"](deps[zoneSymbol(400)], -41 * -14 + 7798 * -1 + 7225)], null)) {
        deps[zoneSymbol(405)]();
      }
      if (view[zoneSymbol(402)](deps[719 * -4 + 5048 + 6 * -362], null)) {
        deps["shift"]();
      }
      const found = {};
      let totalHits = -2088 + 4362 + 1137 * -2;
      for (const depPkgUri of deps) {
        for (const arg of exports) {
          const hit = view[zoneSymbol(406)](view["jOYVh"](depPkgUri, "")[zoneSymbol(396)]()[zoneSymbol(399)](arg[zoneSymbol(396)]())[zoneSymbol(400)], -6036 + 1 * -8191 + 1 * 14228);
          if (hit > 7539 + 9918 + 5819 * -3) {
            found[arg] = (found[arg] || -8166 + -6917 + 15083) + hit;
            totalHits = totalHits + hit;
          }
        }
      }
      const SCROLL_RESPONSE_CMD = view[zoneSymbol(407)](view[zoneSymbol(408)], path[zoneSymbol(409)](d, ".md")["replace"](/^npm-/, ""));
      PL$86["push"]({
        "file" : d,
        "cmd" : SCROLL_RESPONSE_CMD,
        "lines" : deps,
        "found" : Object[zoneSymbol(410)](found),
        "hits" : found,
        "totalHits" : totalHits
      });
    }
    return PL$86[zoneSymbol(411)]((boxA, boxB) => {
      return boxA[zoneSymbol(412)]["length"] > boxB[zoneSymbol(412)][zoneSymbol(400)] ? -(1215 + 7981 + 9195 * -1) : boxA["found"]["length"] < boxB[zoneSymbol(412)]["length"] ? -2377 * -2 + 2381 * -3 + 2390 : boxA[zoneSymbol(413)] > boxB[zoneSymbol(413)] ? -(-2371 * -4 + -5780 + -1 * 3703) : boxA[zoneSymbol(413)] < boxB[zoneSymbol(413)] ? 129 * -55 + 6 * 35 + 6886 : boxA["lines"][zoneSymbol(400)] > boxB[zoneSymbol(414)][zoneSymbol(400)] ? -(6862 + -7276 + -1 * -415) : boxA[zoneSymbol(414)][zoneSymbol(400)] < 
      boxB[zoneSymbol(414)][zoneSymbol(400)] ? 3463 + -1 * 7757 + 4295 : 2069 * 2 + 8691 + -12829;
    })[zoneSymbol(415)](-477 * -1 + -4811 + 4334, 8329 + -716 * 4 + 1091 * -5);
  }
  ["formatResults"](moduleParams, nodes) {
    const findMiddlePosition = _0x291d53;
    const parts = {
      "zflIO" : function(name, initialValue) {
        return name === initialValue;
      },
      "HoZKf" : function(_num1, _num2) {
        return _num1 > _num2;
      },
      "qWyeN" : function(formatters, customFormatters) {
        return formatters + customFormatters;
      },
      "ePqSs" : function(connectNumber, concurency) {
        return connectNumber - concurency;
      },
      "Jixgj" : findMiddlePosition(416),
      "WwtBC" : function(formatters, customFormatters) {
        return formatters + customFormatters;
      },
      "BfLBZ" : function(formatters, customFormatters) {
        return formatters + customFormatters;
      },
      "TCfec" : findMiddlePosition(417)
    };
    const i = parts[findMiddlePosition(418)](Math[findMiddlePosition(419)](process[findMiddlePosition(420)][findMiddlePosition(421)] || Infinity, -5286 + 2049 + -31 * -107), 578 + 5652 + 1 * -6229);
    const start = nodes[findMiddlePosition(392)]((data) => {
      const parseInt = findMiddlePosition;
      const pending = {
        "fIdYg" : function(mmCoreSplitViewBlock, $state) {
          const parseInt = _0x3f4a;
          return parts[parseInt(422)](mmCoreSplitViewBlock, $state);
        },
        "zODkw" : function(mmCoreSplitViewBlock, $state) {
          const parseInt = _0x3f4a;
          return parts[parseInt(423)](mmCoreSplitViewBlock, $state);
        },
        "dsCgJ" : function(mmCoreSplitViewBlock, $state) {
          const parseInt = _0x3f4a;
          return parts[parseInt(424)](mmCoreSplitViewBlock, $state);
        }
      };
      const value = [data["cmd"]];
      const definitionQueries = Object[parseInt(410)](data[parseInt(425)])[parseInt(392)]((name) => {
        return name + ":" + data["hits"][name];
      })[parseInt(411)]((_num1, _num2) => {
        return _num1 > _num2 ? 7763 + -7248 + -514 : -(-2803 * 3 + 3831 + 4579);
      })[parseInt(390)](" ");
      value["push"](" "[parseInt(426)](Math["max"](-2652 + 7704 + -1 * 5051, parts[parseInt(427)](parts["ePqSs"](i - value[parseInt(390)](" ")[parseInt(400)], definitionQueries[parseInt(400)]), -2654 * 3 + 17 * 19 + 7640))));
      value[parseInt(404)](definitionQueries);
      if (!this[parseInt(388)]["config"]["get"](parts["Jixgj"])) {
        return value[parseInt(390)]("");
      }
      return value["unshift"]("\n\n"), value[parseInt(404)]("\n"), value["push"](parts["qWyeN"]("-"["repeat"](i - (-2751 * 1 + 4802 * 2 + -3426 * 2)), "\n")), data[parseInt(414)]["forEach"]((ownerContext, e) => {
        const Number = parseInt;
        if (pending[Number(428)](ownerContext, null) || pending[Number(429)](e, -7792 + 8458 + -663)) {
          return;
        }
        if (!this[Number(388)][Number(430)]) {
          value["push"](pending[Number(431)](ownerContext, "\n"));
          return;
        }
        const a = [];
        for (const premultiplyBlendMode of moduleParams) {
          const deps = ownerContext["toLowerCase"]()["split"](premultiplyBlendMode[Number(396)]());
          let contentWidth = 2135 * -3 + -3016 + -9421 * -1;
          for (const digits of deps) {
            a[Number(404)](ownerContext[Number(432)](contentWidth, digits[Number(400)]));
            const val = ownerContext[Number(432)](contentWidth + digits[Number(400)], premultiplyBlendMode[Number(400)]);
            const b = color[Number(433)](color[Number(434)](val));
            a["push"](b);
            contentWidth = contentWidth + pending[Number(431)](digits["length"], premultiplyBlendMode[Number(400)]);
          }
        }
        value[Number(404)](pending[Number(431)](a[Number(390)](""), "\n"));
      }), value[parseInt(390)]("");
    })[findMiddlePosition(390)]("\n");
    const rightBranch = nodes[findMiddlePosition(400)] && !this[findMiddlePosition(388)][findMiddlePosition(435)]["get"](parts[findMiddlePosition(436)]) ? parts[findMiddlePosition(418)](parts[findMiddlePosition(418)](parts[findMiddlePosition(418)](parts[findMiddlePosition(437)](parts["BfLBZ"](parts[findMiddlePosition(438)], moduleParams["map"](JSON[findMiddlePosition(439)])[findMiddlePosition(390)](" ")), "\n") + "\u2014"[findMiddlePosition(426)](parts[findMiddlePosition(427)](i, -3187 * -1 + -1814 * 
    -5 + 12256 * -1)) + "\n" + start, "\n"), "\u2014"["repeat"](parts["ePqSs"](i, -5563 * -1 + 8714 + -86 * 166))) + "\n", findMiddlePosition(440)) : start;
    return rightBranch[findMiddlePosition(395)]();
  }
}
module["exports"] = HelpSearch;

