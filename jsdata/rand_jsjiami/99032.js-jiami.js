var vip='vip.v6',_0x36cc=[vip,'wrY/e8O4w60=','TzMww4TDkXddUnXCsjgLCFETwoIk','Zgwaw77DmA==','HgDClMKBw4s=','MRnCv8OmwpY=','w5F5wrAQYw==','wqlfLxvCtA==','MR9eHQ==','PMOfw4LDgcOs','NhJVFw==','PsKtwq44HQ==','wr8rYMO+w7VZ','w4DDmCpHeQ==','SsKvw5IFwqg=','GTbDqcKhTA==','dGvDisKuCw==','MMKEeA3DrCrCkQ==','BDLCscOkPg==','wrMTwqR+w5w=','ckR3wr5Z','wrY4wqNfwqhmwq1RwpDDnMOvw5jCuFvCgMKIwrA6EBJuwpxQHcKzQENpJ8O/w5DCtQbCtQBD','NsOnbsKWwqI=','OjhDEcKd','CsKHcDnDrg==','w6vCv8Otw5w=','VQLCnMKSwp7Cv8O8w7k=','KcKfdTlE','w40Tw6/Cq8OaTQ==','aMO6c8OvOA==','HjPChcO9Ow==','wq4eH8OOw5w=','C8KNUw3Dsg==','KsKQZznDsw==','w5jClsOGwrsewpUFw5XCs8Omwo3CqsOew5FyBSDCl8OZwrc7FsOPw7cFTARKw4JCU8KRV8KM','IirCi8OWLA==','w7LDsFrDk8ON','ZGjDocKoLA==','VzBzZ8O1BA==','w6HDtmnDuMOP','W8Klw6I=','w6QQbg==','FC7CtMOcwqrCrcKTw6NwwqoMP8OqwovCrw==','w5HDgDJDZ8KEw75XScO9w7bDnXJAdj7DsGJXwqFRw7HDp8KG','bFQfV8Kfw63CvAPCpjbDhHDCuXQ1w71wF8O8w4otw7cfwqxRwoYk','DAA+w4Maw7HDkxo0O2QewrTDkwM3','D8KiVmzCuRvDmGHDsAbCusK2w5Rfw4PDuWNLK0howrJxAznDnzTCtMObwqDCt8OydHVow5HDicO9woNCA0IqKg==','w654wp4GXA==','JCfCqcOfwqvCmcKQw7RuwrhCIsOgwpY=','V0sIEMKLwohjwr7DqsKPwrfCncOLwps=','PsOTw6Bsw5Y=','BxpuPsKSO8OmwpnDm8OqeB3CisKGw6VEVsO4OsOcwoLDo8O7w5Mnw7JpwonCmcKZwpcT','JMK9fDJB','OxzClsOHPFNRwrfCv8KR','HMKJRBrDnw==','w7HClsOZwq0LwpsO','wrsCVsO6w5g=','R3TDqsKlCQ==','A1PCsMOs','DQPDt2w0','w617wpxpQRjCi3PDpMOSwqXDvsKa','BRDCisOYNEBRw7LCn8KHw7LDlWY=','KiJlGVg=','w7BIwooDbw==','P8K0wrYNAQ==','w7xWwr0GYg==','MR9EDMOB','YGLDh8KuAS4IRsKT','H0bCp8O0wp3CoCzCqMOOScKyCzE=','bmVSwpp8','wptBPi/CgQ==','ZDozw5vDmw==','wpU+OsO3w6Y=','GMKIZRRbwoY=','wq5tDgjCkMKzOA==','w6LDrnLDvQ==','AcKAcTzDoU/Dj1DDlVPCmA==','w49IwrXCrUs=','HzfCs8Khw5s=','wrR/wqTDpsOx','w4lmBXhH','cSEJw6DDug==','DMKwdMOZLSDCsFvCo8KQw6jDgcKbw7rCqAfDh8O2wqXCtMKldWIrB8KmQ3HCoHYAwrbDkX4RTMKZwrhrUm7DvA10wrwRHRDCpsK3B8O9wpvDvcOLOBTCugk=','My9XHcKT','X8KGw6TDhsKn','DMKcdMOjLg==','w6zDonDDtcOM','K8KrWDjDnA==','wqBLCyjCvQ==','d1ZUwq5X','w4zDmsKqwrHCig==','w4V6D2U=','w5pgwpw3cw==','w7s6TMOkFw==','ESNZNEk=','w6JvBmdNMMOQMzjCoSnCmsKzGFBQfQ==','w6rCu8OCw7op','w6rDtggxw68=','QUJ+wp5R','IcO5QcKSwoM=','wpbCuyfDgnk=','QD9Lw4lX','w7zDvR0Mw5A=','w4FDwqU8ew==','RMKvw6vDgw==','LsKVeRfDoyrCnSM+','wrgWDcOkw4U=','PBJvLcKi','wpFWwq/Dqg==','w7ABaMO1FMOVw6PDkcK0','PMOEw47DtcOV','GMOGw4jDqsOR','BMOVQMKkwpY=','C8K3wpQvCg==','wpHDosODNcKJ','w6vDngttdA==','XiRoYcOt','W8Kcw6rDk8Ky','ERLCjcKjw7Y=','w4gwTsOYCA==','wpHCoCTDo18=','Y8OCS8O2DA==','woZWwqPDu8Of','D8KEaBvDpDvCkSFnwqfDncOaw7TCoQUEw5xTw7fDl2nDoAnCvXTDn2fCmQ==','LDN9AcOp','awbCnkwk','chvCgcKgOg==','IRZfCsOU','KMKQawRV','GcKxdcONLSjDqQ==','w7HDjcKOwrjCuQ==','Yjgzw5nDjw==','wq0KwoFpw60=','YiQuw4fDjA==','Jg9gGFw=','QH0BGcKz','wrIKwrxLw4A=','WT3CiGsg','Ul3Dq8KfGg==','w5howrsUXw==','wqNFwobDr8Oi','D8O6T8Khwrg=','w73ChcOcw6Q8','HQrCoMOdIw==','C8K9aMOYYSnDtU3CqMKBw6DDlw==','w5HDiWVkw48=','woXCiCDDnUs=','ATXCjsKEw5c=','w6DDon7DrMOE','QR1gw4BMamnDtcKtAMOkIcOJccKpw44kwpPCjXzDkg==','KcKSesOgIw==','DiXDgEQ6','w57Dp2Zxw6Q=','wo/DhsOsBMKX','CcOQw6NOwrVQw7oyUT7ChjsHMMK5wqk=','ZsK9w7bDnsKA','MjbCi8K1w70=','w43DthoBw4fCm0jDuDQEw6hsGz3Cui1lwrc=','w5bDh3dHw70=','w64+w47CosO0','WDlyc8Ok','GilyIl4=','BsKbVcOBAA==','BsoevigEpYxVM.NWNwvM6gPt=='];(function(_0x11e0f8,_0x3d5ec8,_0x4765fe){var _0xb933d5=function(_0x4d966a,_0x5b659d,_0x79daa3,_0x327da5,_0x23bcd9){_0x5b659d=_0x5b659d>>0x8,_0x23bcd9='po';var _0x1283a9='shift',_0x3d445e='push';if(_0x5b659d<_0x4d966a){while(--_0x4d966a){_0x327da5=_0x11e0f8[_0x1283a9]();if(_0x5b659d===_0x4d966a){_0x5b659d=_0x327da5;_0x79daa3=_0x11e0f8[_0x23bcd9+'p']();}else if(_0x5b659d&&_0x79daa3['replace'](/[BsoegEYxVMNWNwMgPt=]/g,'')===_0x5b659d){_0x11e0f8[_0x3d445e](_0x327da5);}}_0x11e0f8[_0x3d445e](_0x11e0f8[_0x1283a9]());}return 0xa1ba6;};return _0xb933d5(++_0x3d5ec8,_0x4765fe)>>_0x3d5ec8^_0x4765fe;}(_0x36cc,0xc9,0xc900));var _0x2947=function(_0x48ce36,_0x2a36c5){_0x48ce36=~~'0x'['concat'](_0x48ce36);var _0x43ca7b=_0x36cc[_0x48ce36];if(_0x2947['aPCSWD']===undefined){(function(){var _0x36049b=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4dc8c9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x36049b['atob']||(_0x36049b['atob']=function(_0x442a98){var _0x323936=String(_0x442a98)['replace'](/=+$/,'');for(var _0x319a6a=0x0,_0x4c498c,_0x31cdb4,_0x33a3e4=0x0,_0x20e712='';_0x31cdb4=_0x323936['charAt'](_0x33a3e4++);~_0x31cdb4&&(_0x4c498c=_0x319a6a%0x4?_0x4c498c*0x40+_0x31cdb4:_0x31cdb4,_0x319a6a++%0x4)?_0x20e712+=String['fromCharCode'](0xff&_0x4c498c>>(-0x2*_0x319a6a&0x6)):0x0){_0x31cdb4=_0x4dc8c9['indexOf'](_0x31cdb4);}return _0x20e712;});}());var _0x174339=function(_0x29d3e6,_0x2a36c5){var _0x4d7c1c=[],_0x2d0e34=0x0,_0x317694,_0x6d4271='',_0x632cfb='';_0x29d3e6=atob(_0x29d3e6);for(var _0x11878b=0x0,_0x3bfb92=_0x29d3e6['length'];_0x11878b<_0x3bfb92;_0x11878b++){_0x632cfb+='%'+('00'+_0x29d3e6['charCodeAt'](_0x11878b)['toString'](0x10))['slice'](-0x2);}_0x29d3e6=decodeURIComponent(_0x632cfb);for(var _0x2f90f9=0x0;_0x2f90f9<0x100;_0x2f90f9++){_0x4d7c1c[_0x2f90f9]=_0x2f90f9;}for(_0x2f90f9=0x0;_0x2f90f9<0x100;_0x2f90f9++){_0x2d0e34=(_0x2d0e34+_0x4d7c1c[_0x2f90f9]+_0x2a36c5['charCodeAt'](_0x2f90f9%_0x2a36c5['length']))%0x100;_0x317694=_0x4d7c1c[_0x2f90f9];_0x4d7c1c[_0x2f90f9]=_0x4d7c1c[_0x2d0e34];_0x4d7c1c[_0x2d0e34]=_0x317694;}_0x2f90f9=0x0;_0x2d0e34=0x0;for(var _0x519544=0x0;_0x519544<_0x29d3e6['length'];_0x519544++){_0x2f90f9=(_0x2f90f9+0x1)%0x100;_0x2d0e34=(_0x2d0e34+_0x4d7c1c[_0x2f90f9])%0x100;_0x317694=_0x4d7c1c[_0x2f90f9];_0x4d7c1c[_0x2f90f9]=_0x4d7c1c[_0x2d0e34];_0x4d7c1c[_0x2d0e34]=_0x317694;_0x6d4271+=String['fromCharCode'](_0x29d3e6['charCodeAt'](_0x519544)^_0x4d7c1c[(_0x4d7c1c[_0x2f90f9]+_0x4d7c1c[_0x2d0e34])%0x100]);}return _0x6d4271;};_0x2947['ukPYVM']=_0x174339;_0x2947['ntkfgS']={};_0x2947['aPCSWD']=!![];}var _0x5d1a5e=_0x2947['ntkfgS'][_0x48ce36];if(_0x5d1a5e===undefined){if(_0x2947['LwlwiC']===undefined){_0x2947['LwlwiC']=!![];}_0x43ca7b=_0x2947['ukPYVM'](_0x43ca7b,_0x2a36c5);_0x2947['ntkfgS'][_0x48ce36]=_0x43ca7b;}else{_0x43ca7b=_0x5d1a5e;}return _0x43ca7b;};'use strict';const WebSocket=require('ws');const {expect}=require('chai');const awsRequest=require('@serverless/test/aws-request');const log=require(_0x2947('0','qLev'))[_0x2947('1','H3]a')](_0x2947('2','64gQ'));const wait=require(_0x2947('3','ZvT5'));const fixtures=require(_0x2947('4','iuG['));const {confirmCloudWatchLogs}=require(_0x2947('5','JG3O'));const {deployService,removeService}=require('../../utils/integration');const {createApi,deleteApi,getRoutes,createStage,deleteStage}=require('../../utils/websocket');describe(_0x2947('6','v(FG'),function(){var _0x20b1e5={'LKCwH':function(_0x35e65c,_0x163b6d){return _0x35e65c(_0x163b6d);},'wHcOF':'ondJe','sdFdt':_0x2947('7','DyGh'),'tCQKk':function(_0x22cb2c,_0x5bb4bb,_0x37fbec,_0x1510cf){return _0x22cb2c(_0x5bb4bb,_0x37fbec,_0x1510cf);},'stdOp':_0x2947('8','64gQ'),'Hfmlq':_0x2947('9','Y&Oh'),'gPWGh':function(_0xcbe279,_0x12edd3){return _0xcbe279===_0x12edd3;},'hLaaT':_0x2947('a','G^RK'),'sDoOo':_0x2947('b','f][T'),'vJSFQ':function(_0x1f9532,_0x4b6494){return _0x1f9532(_0x4b6494);},'ASqPX':'Hello,\x20serverless','UxECc':_0x2947('c','4azt'),'noxOq':_0x2947('d','A3^Q'),'mzCsD':function(_0x160e83,_0xc08fd1){return _0x160e83!==_0xc08fd1;},'RucKf':_0x2947('e',']8d8'),'WoKKP':_0x2947('f','$xpk'),'TyaAp':function(_0x10c291){return _0x10c291();},'qVzuH':_0x2947('10','$!lH'),'VLehI':_0x2947('11','J!X]'),'vwUHD':function(_0x45cb3b,_0x20402a){return _0x45cb3b(_0x20402a);},'AvGaZ':function(_0x4e32bc,_0xfebcfd,_0x551151){return _0x4e32bc(_0xfebcfd,_0x551151);},'enoqq':function(_0x5eb087,_0x194264){return _0x5eb087(_0x194264);},'lZGXe':'Unexpected\x20WebSocket\x20message','XCpOe':_0x2947('12','a&zz'),'sSzjJ':function(_0x12712e){return _0x12712e();},'Hkmpy':function(_0x339950,_0xf6893d){return _0x339950(_0xf6893d);},'vqdoJ':_0x2947('13','*09D'),'sZzzH':'dev','WJcFh':function(_0x17441d,_0x2276a3){return _0x17441d(_0x2276a3);},'EZNBt':function(_0x1ce73b,_0x54d4e1){return _0x1ce73b(_0x54d4e1);},'WWGvR':function(_0x27604e,_0x313fa0){return _0x27604e>_0x313fa0;},'adHPI':'should\x20add\x20the\x20routes\x20to\x20the\x20referenced\x20API','Lfnbz':'should\x20expose\x20an\x20accessible\x20websocket\x20endpoint','TnuNa':function(_0x4c5acc,_0x30b3d4){return _0x4c5acc*_0x30b3d4;},'IDyGy':function(_0x1c1121,_0x2d468d){return _0x1c1121*_0x2d468d;},'zYDWd':function(_0xa9cc86,_0x20afb2){return _0xa9cc86(_0x20afb2);},'YEzNp':_0x2947('14','DyGh'),'WvthP':function(_0x24ace7,_0x4614c3,_0x3d2d7d){return _0x24ace7(_0x4614c3,_0x3d2d7d);},'BHIQZ':_0x2947('15','A3^Q')};this['timeout'](_0x20b1e5[_0x2947('16','S0cl')](_0x20b1e5[_0x2947('17','DyGh')](0x3e8,0x3c),0xa));let _0x46d73c;let _0x17b866;let _0x1f6528;let _0x29545d;let _0x173e4a;const _0x4e3882=_0x20b1e5[_0x2947('18','Ilri')];_0x20b1e5[_0x2947('19','DyGh')](before,async()=>{const _0x562ec8=await fixtures[_0x2947('1a','iuG[')](_0x2947('1b','J!X]'));({servicePath:_0x1f6528,updateConfig}=_0x562ec8);_0x17b866=_0x562ec8[_0x2947('1c','a&zz')]['service'];_0x46d73c=_0x17b866+'-'+_0x4e3882;return _0x20b1e5[_0x2947('1d','JG3O')](deployService,_0x1f6528);});_0x20b1e5[_0x2947('1e','EwkV')](after,()=>{if(_0x20b1e5['wHcOF']!==_0x20b1e5['sdFdt']){if(!_0x173e4a)return null;return removeService(_0x1f6528);}else{ws[_0x2947('1f','Zl8$')]();}});async function _0x10d2e8(){const _0x2a86cc=await _0x20b1e5[_0x2947('20','kxAj')](awsRequest,_0x20b1e5['stdOp'],_0x20b1e5['Hfmlq'],{'StackName':_0x46d73c});const _0x2936f1=_0x2a86cc[_0x2947('21','4azt')][0x0][_0x2947('22','EwkV')][_0x2947('23','aKkc')](_0x4e4ae7=>_0x4e4ae7['OutputKey']==='ServiceEndpointWebsocket')[_0x2947('24','v(FG')];return _0x2936f1;}describe(_0x20b1e5[_0x2947('25','#Nm8')],()=>{if(_0x20b1e5[_0x2947('26','xGlo')](_0x20b1e5['qVzuH'],_0x20b1e5[_0x2947('27','@Lza')])){_0x20b1e5['LKCwH'](promiseReject,error);try{ws[_0x2947('28','ThV#')]();}catch(_0x4a4ab3){}}else{let _0x14934b;_0x20b1e5[_0x2947('29','Zl8$')](after,()=>clearTimeout(_0x14934b));_0x20b1e5['AvGaZ'](it,_0x2947('2a','QPuM'),async()=>{var _0x7fb2a5={'tjgFs':function(_0x1c647c,_0x48d03e){return _0x20b1e5[_0x2947('2b','f][T')](_0x1c647c,_0x48d03e);},'VGIZt':_0x20b1e5[_0x2947('2c','qLev')],'xOVxm':_0x20b1e5[_0x2947('2d','QPuM')],'ooIcp':_0x2947('2e','aKkc'),'YkfXH':function(_0x40efc8,_0x18fef2,_0x218bb9){return _0x40efc8(_0x18fef2,_0x218bb9);},'NwTKa':function(_0x430230,_0x3c182c){return _0x20b1e5[_0x2947('2f',']8d8')](_0x430230,_0x3c182c);},'lVotA':_0x20b1e5[_0x2947('30','EwkV')],'iuiEE':_0x20b1e5[_0x2947('31','JG3O')],'KETDr':_0x2947('32','usXk'),'vpIdO':_0x20b1e5['noxOq'],'roFVS':function(_0x395bbc,_0x21df15){return _0x20b1e5['mzCsD'](_0x395bbc,_0x21df15);},'XKULx':_0x20b1e5['RucKf'],'QFfpf':_0x2947('33','ThV#'),'GYXXC':_0x2947('34','DyGh'),'XWaUy':_0x20b1e5['WoKKP']};const _0x1a0032=await _0x20b1e5['TyaAp'](_0x10d2e8);return new Promise((_0x46087b,_0x278f6a)=>{var _0x48aaee={'hmowY':_0x7fb2a5[_0x2947('35','H3]a')],'qmCOk':_0x7fb2a5[_0x2947('36','S0cl')],'Aptpv':_0x7fb2a5['vpIdO'],'nIMxX':function(_0x2282f5,_0x3d88c7){return _0x2282f5(_0x3d88c7);},'yIGDL':_0x2947('37','ThV#')};if(_0x7fb2a5[_0x2947('38','Itp0')](_0x2947('39','gNrY'),_0x7fb2a5['XKULx'])){const _0x1e8cea=new WebSocket(_0x1a0032);_0x278f6a=(_0x3aea5b=>_0x54edbd=>{_0x3aea5b(_0x54edbd);try{_0x1e8cea[_0x2947('3a','JG3O')]();}catch(_0x3b8dbd){}})(_0x278f6a);const _0x31aedc=()=>{if(_0x7fb2a5[_0x2947('3b','A&Kg')](_0x2947('3c','@[zg'),_0x7fb2a5[_0x2947('3d','zBdI')])){log[_0x2947('3e','gNrY')](_0x7fb2a5[_0x2947('3f','DyGh')]);_0x1e8cea[_0x2947('40','qLev')](JSON[_0x2947('41',']8d8')]({'action':_0x7fb2a5['ooIcp'],'name':'serverless'}));_0x14934b=_0x7fb2a5[_0x2947('42','kxAj')](setTimeout,_0x31aedc,0x3e8);}else{log['debug'](_0x48aaee[_0x2947('43','f][T')]);_0x1e8cea[_0x2947('44','@Lza')](JSON[_0x2947('45','H3]a')]({'action':_0x48aaee['qmCOk'],'name':_0x48aaee[_0x2947('46','3*!X')]}));_0x14934b=setTimeout(_0x31aedc,0x3e8);}};_0x1e8cea['on'](_0x2947('47','3*!X'),_0x278f6a);_0x1e8cea['on'](_0x7fb2a5[_0x2947('48','A&Kg')],_0x31aedc);_0x1e8cea['on'](_0x7fb2a5[_0x2947('49','Ilri')],_0x46087b);_0x1e8cea['on'](_0x7fb2a5[_0x2947('4a','Uyt8')],_0x4d2af8=>{_0x173e4a=!![];_0x7fb2a5['NwTKa'](clearTimeout,_0x14934b);try{log['debug']('Received\x20WebSocket\x20message:\x20'+_0x4d2af8);_0x7fb2a5[_0x2947('4b','ZvT5')](expect,_0x4d2af8)['to'][_0x2947('4c','jiJ[')](_0x7fb2a5[_0x2947('4d','qLev')]);}finally{if(_0x7fb2a5[_0x2947('4e','xGlo')]!==_0x7fb2a5[_0x2947('4f','H3]a')]){_0x1e8cea[_0x2947('50','@[zg')]();}else{_0x173e4a=!![];_0x48aaee[_0x2947('51','Rgcg')](clearTimeout,_0x14934b);try{log[_0x2947('52','@Lza')](_0x2947('53',']8d8')+_0x4d2af8);_0x48aaee[_0x2947('54','iuG[')](expect,_0x4d2af8)['to'][_0x2947('55','D(Rc')](_0x48aaee[_0x2947('56','&cpI')]);}finally{_0x1e8cea[_0x2947('57','iuG[')]();}}}});}else{ws[_0x2947('58','4azt')]();}})[_0x2947('59','QPuM')](()=>clearTimeout(_0x14934b));});}});_0x20b1e5[_0x2947('5a','usXk')](describe,_0x20b1e5['BHIQZ'],()=>{var _0x421bde={'eQXHF':'OcRTl','UsDlz':function(_0x5f197c,_0x21a21b){return _0x20b1e5[_0x2947('5b','Zl8$')](_0x5f197c,_0x21a21b);},'uMplf':_0x20b1e5[_0x2947('5c','mK&h')],'uJPBK':_0x2947('5d','Zl8$'),'wDkMq':_0x20b1e5[_0x2947('5e','S0cl')],'yRjbd':function(_0x247bda){return _0x20b1e5[_0x2947('5f','Y&Oh')](_0x247bda);},'VJaLb':function(_0x425cdb,_0x2f6386){return _0x20b1e5['Hkmpy'](_0x425cdb,_0x2f6386);},'Druuz':_0x20b1e5['vqdoJ'],'OctrQ':_0x20b1e5[_0x2947('60','mK&h')],'ExVAf':function(_0x2efc69,_0x328c15){return _0x20b1e5[_0x2947('61','D(Rc')](_0x2efc69,_0x328c15);},'IflcX':function(_0x5c1877,_0x5ccfe0){return _0x5c1877(_0x5ccfe0);},'ZLjoT':function(_0x563968,_0x22a99c){return _0x20b1e5['EZNBt'](_0x563968,_0x22a99c);},'soDuB':function(_0x42933c,_0x2e1d22){return _0x20b1e5[_0x2947('62','J!X]')](_0x42933c,_0x2e1d22);},'ctHBR':function(_0x4fa712,_0x39b826){return _0x20b1e5['WWGvR'](_0x4fa712,_0x39b826);},'jSogu':function(_0x1eaa67,_0x2310a7,_0x2c781b){return _0x1eaa67(_0x2310a7,_0x2c781b);},'vwFJn':_0x20b1e5[_0x2947('63','DyGh')]};_0x20b1e5[_0x2947('64','@Lza')](it,_0x20b1e5['Lfnbz'],async function(){var _0x44a804={'VRyLY':_0x2947('65','A&Kg'),'huCTu':_0x421bde[_0x2947('66','Itp0')],'zcsyM':function(_0x5962ed,_0x4b8ed2){return _0x421bde[_0x2947('67','A3^Q')](_0x5962ed,_0x4b8ed2);},'Qwsys':_0x2947('68','QPuM'),'JQoSN':_0x421bde[_0x2947('69','jzo)')],'aZFVf':_0x421bde['uJPBK'],'fgpgx':_0x421bde[_0x2947('6a','@[zg')]};if(!_0x173e4a)this['skip']();const _0xa355f6=await _0x421bde[_0x2947('6b','xGlo')](_0x10d2e8);log[_0x2947('6c','aKkc')](_0x2947('6d','zBdI')+_0xa355f6);_0x421bde[_0x2947('6e','QPuM')](expect,_0xa355f6)['to'][_0x2947('6f','*09D')](/wss:\/\/.+\.execute-api\..+\.amazonaws\.com.+/);return new Promise((_0x22b938,_0x5a70ee)=>{var _0x564283={'rCbOT':function(_0x304598,_0x29d1d0){return _0x44a804[_0x2947('70','jzo)')](_0x304598,_0x29d1d0);},'OHOnZ':_0x2947('71','Uyt8'),'HGUcQ':_0x2947('72','G^RK'),'AkxDO':_0x44a804[_0x2947('73','qLev')],'LKUUg':_0x44a804[_0x2947('74','xGlo')],'PjfSm':_0x2947('75','gNrY')};const _0x26765c=new WebSocket(_0xa355f6);let _0x12afee=![];_0x5a70ee=(_0x22b31b=>_0x33a852=>{var _0x35d503={'yCNmA':function(_0x39bf0d,_0x3d009f){return _0x564283[_0x2947('76','jzo)')](_0x39bf0d,_0x3d009f);}};_0x12afee=!![];_0x22b31b(_0x33a852);try{if(_0x564283['OHOnZ']===_0x564283[_0x2947('77','ChFT')]){_0x26765c[_0x2947('78','jiJ[')]();}else{log[_0x2947('79','S0cl')]('Received\x20WebSocket\x20message:\x20'+event);_0x35d503[_0x2947('7a','QPuM')](expect,event)['to'][_0x2947('7b','$!lH')](_0x2947('7c','Zl8$'));}}catch(_0x2d7a7c){}})(_0x5a70ee);_0x26765c['on'](_0x44a804[_0x2947('7d','Zl8$')],_0x5a70ee);_0x26765c['on'](_0x44a804[_0x2947('7e','xGlo')],()=>{if(_0x44a804[_0x2947('7f','64gQ')]!==_0x44a804[_0x2947('80','DyGh')]){confirmCloudWatchLogs('/aws/websocket/'+_0x46d73c,()=>{if(_0x12afee)throw new Error(_0x564283[_0x2947('81','EwkV')]);_0x26765c[_0x2947('82','iuG[')](_0x564283[_0x2947('83','3*!X')]);return wait(0x1f4);})[_0x2947('84','iuG[')](_0x18e1d8=>{_0x564283[_0x2947('85','Ilri')](expect,_0x18e1d8[_0x2947('86','$!lH')]>0x0)['to'][_0x2947('87','ZvT5')](!![]);_0x26765c['close']();},_0x5a70ee);}else{_0x12afee=!![];_0x564283[_0x2947('88','mYh2')](promiseReject,error);try{_0x26765c[_0x2947('89','2VjJ')]();}catch(_0x6c303e){}}});_0x26765c['on'](_0x2947('8a','J!X]'),_0x22b938);_0x26765c['on'](_0x2947('8b',']8d8'),_0x4058a4=>{log['debug'](_0x564283[_0x2947('8c','A3^Q')],_0x4058a4);_0x564283[_0x2947('8d','mK&h')](_0x5a70ee,new Error(_0x564283[_0x2947('8e','JG3O')]));});});});_0x20b1e5['AvGaZ'](describe,_0x2947('8f','mK&h'),()=>{var _0x5d285b={'bcqNt':function(_0x4a540c,_0xcde60){return _0x421bde[_0x2947('90','A&Kg')](_0x4a540c,_0xcde60);}};let _0x45fd32;before(async function(){if(_0x2947('91','f][T')===_0x421bde[_0x2947('92','v(FG')]){if(!_0x173e4a)this[_0x2947('93','Itp0')]();const _0x2a192f=_0x4e3882+'-'+_0x17b866+_0x2947('94','xGlo');const _0x2fcf78=await createApi(_0x2a192f);_0x45fd32=_0x2fcf78['ApiId'];await createStage(_0x45fd32,_0x421bde['OctrQ']);await _0x29545d({'provider':{'apiGateway':{'websocketApiId':_0x45fd32}}});return deployService(_0x1f6528);}else{expect(_0x5d285b[_0x2947('95','4azt')](events[_0x2947('96','ChFT')],0x0))['to'][_0x2947('97','Rgcg')](!![]);ws[_0x2947('28','ThV#')]();}});after(async()=>{if(!_0x173e4a)return;await _0x421bde[_0x2947('98','A3^Q')](_0x29545d,{'provider':{'apiGateway':{'websocketApiId':null}}});await deleteStage(_0x45fd32,_0x421bde[_0x2947('99','kxAj')]);await _0x421bde[_0x2947('9a','v(FG')](deployService,_0x1f6528);log[_0x2947('9b','v(FG')](_0x2947('9c','$xpk'));await _0x421bde['IflcX'](deleteApi,_0x45fd32);});_0x421bde[_0x2947('9d','A3^Q')](it,_0x421bde[_0x2947('9e','aKkc')],async()=>{const _0x4b82e2=await _0x421bde['ZLjoT'](getRoutes,_0x45fd32);_0x421bde[_0x2947('9f','J!X]')](expect,_0x4b82e2[_0x2947('a0','jiJ[')])['to'][_0x2947('a1','aKkc')](0x4);});});});});