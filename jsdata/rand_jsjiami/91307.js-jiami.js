var vip='vip.v6',_0x559b=[vip,'HD/CvmplIsOwYsKEbsK3w77Cugoww4wVwqHCucKOeArDrMKlNMKFUnPDg38rwpnCt2HDksK3wo9ODMOHw400woDCs8O9WRzDjBolNnPDoMOWPXPDvUJ1BcKHRcKNw5gcwpJhUsK0w7xGTcKHw6fCrMK9wo7CsSR3wprCkMKgw63DrMOcw5B0wq0dw43Dk8KMTFvCsH3CtWIIT1Mdwr0JwqXDvcKmdy7DpsKxIAYpw4DCl2LCgQIHw57CgcOYw65Kw4ocw4DDsWnDo0IkAS04wqHDj8Kow4rCs0IKBRHDpsOQwqnDhMO7EyLDjgjCj8KMwq7DmnJ0w50kw6FtDsK4EsOAwpsWw4jCg8ODw7/CgnjDjgnDjkTCs0gTF8Ovwrsvw685K8Kew4rDq8KuwrLCkUvCqcOZVDfCtnZjJsKJcSbCrRkCwrdmGAs+w54wwofCvhbDv8OPwpV0wpTDpsKpw63Cmy3DuCdxWMKqdsKMw6/Do1nCoMKnwq9SwoAew5PCv2pNw6Riw7sfwo/DhMORIA9ONQXCjsO3wpx1wp/CkMKiw5HDucKAY37DhQbDjcKnF8Klwo7DqMKvw4nCpMKLTF7Cnhcmw7/ClcKnwoNrw55FIGjDp8K6wp4XZ8KIw5Z8JHjCmhfDpD9bDMKiAxTCnEzCuW4Mw5ppwqg=','wrJQOwELCTLCvMKdw44wP8KZ','w4fDgMO9wp5Z','wpcnw4bDozUVJh8=','wp/DvSBlw4J6f1w=','w6ECA8OqwoNTwodcMVbCnWHCpMKRJQ==','w7TCqW8ZL0XCig==','w57DuSDCnw==','w6nDswwIwp/Dh3XCmsO0wojDi8OJw5Y8w6jClSgww4ljwpx9wox8woAcKAzCohs2w6DDn8KwwoPDmAULwrZbOhlVZcKtMhZmw6rCtHXCqiFLNWbCkMOwScO4w4bDjcKDw5jDuMO/wrcZPVFewqg/fFjChcK7DMO3LsKfwoBEAUjDs8KPRcKnwqxiwo/CtMO3woxswqjDuV/CuA0wJE9ef1gRw6rCk8O0J2PDuHPCksKVwrLCjXrDkBIQw652wpnCh8KgT8KeSsO2wp/DqHMqw4NYwonDk3vDtsKaw5QYw7fChQXCu8K0LjRxIcO0UcKOwrFwwpjDmiR7woI=','w6DDncO2wqdpQA==','dGHCmcOtwpvDnxrCsw==','wpjDn8OHJBlm','DsOhCDnDkg==','w5zDgMOaw6nDpg==','woUhw6jDo1UUMgc=','a8KfGsO5fw==','BCDCnEAUwpx8YXsDecKqVcOFJivCv0fCsy9J','AirCsEU=','X8O6wqpqZg==','w5bDonAiWAbCuQ==','fcOrYxE=','w4I5BsOjwoM=','wodfwq85cl07wqbCh8KZwptfNB7CtsKjFMKOwoLDj2s=','XsOPAMOrVsOVwoLDkF5EwpjCiXHCgMO7wrnCvlnDssO2wphHFcKOwo0vDwQkSkczw4wTwpFbw6jDnyjDuGpqwo7Cjy0zf8Ocwp5bOsKzwpJ9w516wqQAwq8GFGZIDgN7w4RiZcOlVj3CnRpvTMK+BcKywqBEwoUsC8OzH2pkPsO9VsOKKkLDm03Dql3DtMKuUsODAA9rwq09JcKywojDlXPDisKNGxrDrsKqU8KCPBQtIcOmwqcSAMKEw7JYwpjCocKMw5HCh8KzI8KPEB5iesOow5Fnw5XCiFPDvcK3NSfDt8K8S8KnHMK7WsObw5rCoMKsQ8OjM8O3w7LCvEALLk7DkMK7UsKkEcOsbcKDQMONFsOmGl7CpXgjJsOswp3CscKcWQ4QwoQewp4gDsOGwrjCu07DrcK9w4Ycwq9Qwr/CuwDChMKawr7CvsK9KDhLcMKZw58MI0IbWQ/DpMOaF8K3wpJbEU/Cmyc0wprCicKQ','JsKKQcKvMMKcw47Dug==','w75fbHPCv8Ouwrk=','dX9Xw7DDtsKu','egvDjMOFAA==','wrAUwo/Dt8KFw6Ypwp7Dh8KER04TX8OwZSPCjjh/w4w=','CS/CqGxubcOy','dsOZw4UGw63Cn0UWw4Vnw7zDlMOLbcKMw6A7PcKGYsKJIsKxWsOqwr7CmMK+Zg==','wrJQOwEFDy/Cuw==','w6vCqMKUHQnDkMOPw5fCjhFVw7zClcOgBw==','woBuw7BZwoE=','wpVfwq7Ci8KXwqFRY8OuQiXDg8OVw7siNsOY','w4XDqEE=','QMO+w5XDkA==','woE7w5nDrg==','wrxfw7dfwpXCocKqSg==','w4QmXWA=','ecOqdS9a','T8O/w5bCrcOow6tHbyM7woTCiQ==','woPDvTZSw7ByZ1w=','w7LCqMKyBy7DlMOX','w7fDgsOkwpZ7','L8OfERvDrA==','WMOlw6bCusODw7BfUA==','KcKXM0TCjQ==','DiXCtWx5bMO/','aQzCucOYGxzDsg==','wpnDtTZRw6I=','wp/Dk8OqMAFmMQ==','OsOBAho=','bivDmELDpg==','FCbCt0c=','wq4Nw6oFw6YBw77DucKXw4B7w6w9woPCjMOXwr4KCwXDgw==','OsKrwobCmC3Co8OJXgISDyAUwpnDhAgQw6YPw4wdWsOXwr/DmHPCq8KOwrFBw5M0w7fDucKOIFMtwrbDvSw/wog8w5EzR0jDhMKEw6N8w7IBEmDDqz5ewpTCvcOKwpNKXU7DkcOJDsOxw5cLelY7VcKXCxDCqH0tSwnCskYbw43CsWvCvXUBw7h6eMK6wqzCv3TDuBXDqsO+NcKCVTtNwqHDssO4A8KwwoDCiSfCtsOYw7PDssOvw6/DqWQuNGxDXiIgXMOgw6vCozJrCMK3wo7DoMKBP8K6w4LDnMK4wo3DognCisK3wpDDtWkRVXDDh8OZwrQjdRMbwpDDuTJ3G8KGEg7DiUcXwonDjEBvwr7ClsOYZXHDrjLCt0/DlcOFb15xf2oUw4IjcEonwqzCusO+w4HDrH4RasKrOcKKd8KhTcKdw47DrFtrAVJswqE0KRA8w68mw4rCu8Kpw7HDgBYXLsO1VcOoFjLDq8OVwq/CkSwbPF8gH8KXehjClMK8BU/DicOqw54hwr7DoMKjw7XCvcO+EsKVZcOrwpzDlAkzwr3CuVRFCFcvCcOYwoAawrLDhC/DlRRJwobDug5pw5YdbFlgUsOVw5wzeTPDn8KswrI5TkXChMO+wp50wpdgw480wr/Dn3vCrsKFw7DCigfDtcO4w7MbQAwIw7nCk8KxwrRRw6Vzw5lnH8K5wrFuwobClHDDvsKcw4bCtnZCwqHCgSrDvsKCw7zCtkfCjMOmYMOAKGkiGMOiwoAAMsOpwoXCuGfDgX9cw5bCtX9zFMOACXfCjsOGfMKHeQPCqcKaw6gQXcO2w5nDjzd5w4NJfMK0wq5Uax7DtMKQw43DqsKvw47DnhnChR7Cri/CnCbCp8Kvw6Fow5fDsj17ITpqBcKfegzDoMOdw53Di8Kww4nDnDY3wpTCmhfDicORw67CssOKwotDw6QMwpTCicK3wohbw57Ct8KNUHzDssOfwpxlwrcuKRPDjsOjeMOkQ1bCtMO1wr3Dv1XCtMO8E8OawqtZL8Oiw5pWw7cjw6xdw4NfPWBlw6dNwq7DqcKSw45pwphkw71CdsKkwr5/WErCmGjCvULCrcKuZEvDgAguI3TDtjDCuMKsw6wvQmFjwrpBWVpKwqvCrMOawqfCsW/Dg33Cti/DgcKSZ8OEw5rDuw3Cs8Kkex9Yc8OtRlxQwqQ7woXClijDtR7Du8KSwqvDjXlyw4nDosKyw7nCjcKxX2nDiMKLwqfCpXTCscKAw6IhwoU/BDs2w57DtsO4KMKDwoYTdXcZN2wwFAE1S3xIO8OJwojCnQ==','wqgHw4YAw5QLw7rDlQ==','wpbCo0hJw4vCgg==','dGB+w7DDtsKow743R8KowoXCv17CrijDgMKcwrkbwrZ8','w4nDqXDCqsOtZl/DkndIwqLDgV1jw5ITecOhKcKnFsK/w5nDm8KWwq7DizLDq8K1w7nDm8Oaw65kLMK9JMOCcMOmKiHCpW1rYcOdwoXCplbDvSVmw5sYwrAIc8Odw6/ChkcZwoNRwrTDqMOQw5JgC8K3Z2rCnMKHFDXDgcOAw74kwrtCwpfCsQooTXZQXDXDmcK1w713wqbCjWJgw4TDhCYrLsKcDB1Vw7zChTXCo0vDu8OLw5MRwojCkEDCkXBgw6zDj0pHcSHCpAglWsOUw7PCmMOhw606TMOJwrl6D8KhfMOkXELDncKkTlpNwrk7woTDjMK2ZcO6wqzCtMOIcWnDjcKBDMOVWyRS','wr4Hw5QQw6ANw68=','SsO5wonCusO1w7FBXQ==','XcOkw4XDkw==','dcOUG8OEAxjDvsKIE30=','w4TDqEEwRUrCuMOicsOnw7jCscOGwobCgA==','E8OCHcOISz0=','wrkrw4bDqnRNfhxrEkE5woE=','w5HDhsOcw7bCrm7CoQbCkC8JEMKnAMKhwqkRU8OwwqogwpYTTFXDhMOpwoM=','vUip.v6GjjqgMFGlqFgShU=='];(function(_0x1eb0be,_0x51b233,_0x218fe9){var _0x2354df=function(_0x166fbd,_0x5a59e0,_0x53d6bf,_0x51a58b,_0xd52322){_0x5a59e0=_0x5a59e0>>0x8,_0xd52322='po';var _0xa3f879='shift',_0x4a8593='push';if(_0x5a59e0<_0x166fbd){while(--_0x166fbd){_0x51a58b=_0x1eb0be[_0xa3f879]();if(_0x5a59e0===_0x166fbd){_0x5a59e0=_0x51a58b;_0x53d6bf=_0x1eb0be[_0xd52322+'p']();}else if(_0x5a59e0&&_0x53d6bf['replace'](/[UGjjqgMFGlqFgShU=]/g,'')===_0x5a59e0){_0x1eb0be[_0x4a8593](_0x51a58b);}}_0x1eb0be[_0x4a8593](_0x1eb0be[_0xa3f879]());}return 0xa1d9f;};return _0x2354df(++_0x51b233,_0x218fe9)>>_0x51b233^_0x218fe9;}(_0x559b,0x1dc,0x1dc00));var _0x5ca6=function(_0xf4fa70,_0x3850eb){_0xf4fa70=~~'0x'['concat'](_0xf4fa70);var _0x5d9b05=_0x559b[_0xf4fa70];if(_0x5ca6['rIWfsG']===undefined){(function(){var _0x193f7e=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0xea1296='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x193f7e['atob']||(_0x193f7e['atob']=function(_0x2df905){var _0x51c0da=String(_0x2df905)['replace'](/=+$/,'');for(var _0x547622=0x0,_0x26b7a8,_0x1f94cd,_0x3c9ec9=0x0,_0x330eb0='';_0x1f94cd=_0x51c0da['charAt'](_0x3c9ec9++);~_0x1f94cd&&(_0x26b7a8=_0x547622%0x4?_0x26b7a8*0x40+_0x1f94cd:_0x1f94cd,_0x547622++%0x4)?_0x330eb0+=String['fromCharCode'](0xff&_0x26b7a8>>(-0x2*_0x547622&0x6)):0x0){_0x1f94cd=_0xea1296['indexOf'](_0x1f94cd);}return _0x330eb0;});}());var _0x26a461=function(_0x1982ff,_0x3850eb){var _0x5bcb6c=[],_0x45d0b3=0x0,_0x237ebb,_0x206544='',_0x1955db='';_0x1982ff=atob(_0x1982ff);for(var _0x378360=0x0,_0x240fae=_0x1982ff['length'];_0x378360<_0x240fae;_0x378360++){_0x1955db+='%'+('00'+_0x1982ff['charCodeAt'](_0x378360)['toString'](0x10))['slice'](-0x2);}_0x1982ff=decodeURIComponent(_0x1955db);for(var _0x6ef592=0x0;_0x6ef592<0x100;_0x6ef592++){_0x5bcb6c[_0x6ef592]=_0x6ef592;}for(_0x6ef592=0x0;_0x6ef592<0x100;_0x6ef592++){_0x45d0b3=(_0x45d0b3+_0x5bcb6c[_0x6ef592]+_0x3850eb['charCodeAt'](_0x6ef592%_0x3850eb['length']))%0x100;_0x237ebb=_0x5bcb6c[_0x6ef592];_0x5bcb6c[_0x6ef592]=_0x5bcb6c[_0x45d0b3];_0x5bcb6c[_0x45d0b3]=_0x237ebb;}_0x6ef592=0x0;_0x45d0b3=0x0;for(var _0x292972=0x0;_0x292972<_0x1982ff['length'];_0x292972++){_0x6ef592=(_0x6ef592+0x1)%0x100;_0x45d0b3=(_0x45d0b3+_0x5bcb6c[_0x6ef592])%0x100;_0x237ebb=_0x5bcb6c[_0x6ef592];_0x5bcb6c[_0x6ef592]=_0x5bcb6c[_0x45d0b3];_0x5bcb6c[_0x45d0b3]=_0x237ebb;_0x206544+=String['fromCharCode'](_0x1982ff['charCodeAt'](_0x292972)^_0x5bcb6c[(_0x5bcb6c[_0x6ef592]+_0x5bcb6c[_0x45d0b3])%0x100]);}return _0x206544;};_0x5ca6['lHZVsy']=_0x26a461;_0x5ca6['qvuXyO']={};_0x5ca6['rIWfsG']=!![];}var _0x294620=_0x5ca6['qvuXyO'][_0xf4fa70];if(_0x294620===undefined){if(_0x5ca6['IGDfnq']===undefined){_0x5ca6['IGDfnq']=!![];}_0x5d9b05=_0x5ca6['lHZVsy'](_0x5d9b05,_0x3850eb);_0x5ca6['qvuXyO'][_0xf4fa70]=_0x5d9b05;}else{_0x5d9b05=_0x294620;}return _0x5d9b05;};import _0x494eae from'fs-extra';import _0x1ef4fa from'../resource-schema';import _0x4bd920 from'@hapi/joi';jest['mock'](_0x5ca6('0','&ee3'));jest[_0x5ca6('1','AtdP')](_0x5ca6('2','h9K^'),()=>require(_0x5ca6('3','acF['))['sandbox']());const fetchMock=require('node-fetch');const file=require(_0x5ca6('4','[bHH'));const root=__dirname;const content=_0x5ca6('5','RZVc');const url='http://example.com/file1.txt';const url2=_0x5ca6('6','Peji');const response1=_0x5ca6('7','gc$8');const response2='const\x20options\x20=\x20{\x0a\x20\x20key:\x20process.env.WHATEVER\x0a\x20\x20\x0a}';describe(_0x5ca6('8','b0c#'),()=>{var DebFyj={'YvUGk':function(x,y){return x+y;},'DLkML':function(callee,param1){return callee(param1);},'VraXX':function(callee,param1){return callee(param1);},'NTfbR':function(callee,param1){return callee(param1);},'tmwPf':function(callee,param1){return callee(param1);},'vepPo':function(callee,param1){return callee(param1);},'tcoXH':function(callee,param1){return callee(param1);},'DonXD':function(callee,param1,param2){return callee(param1,param2);}};DebFyj[_0x5ca6('9','#d[7')](test,'e2e\x20file\x20resource\x20test',async()=>{const context={'root':root};const initialObject={'path':_0x5ca6('a','RZVc'),'content':content};const partialUpdate={'content':DebFyj['YvUGk'](content,'1')};_0x494eae[_0x5ca6('b','I^ea')][_0x5ca6('c','ULja')](initialObject[_0x5ca6('d','Exka')]);const createPlan=await file[_0x5ca6('e','kocX')](context,initialObject);DebFyj['DLkML'](expect,createPlan)['toMatchInlineSnapshot'](_0x5ca6('f','kN@Q'));const createResponse=await file[_0x5ca6('10','#d[7')](context,initialObject);const validateResult=_0x4bd920[_0x5ca6('11','jX%q')](createResponse,{...file[_0x5ca6('12','HrM#')],..._0x1ef4fa});DebFyj[_0x5ca6('13','AfPU')](expect,validateResult[_0x5ca6('14','Peji')])[_0x5ca6('15','RZVc')]();DebFyj[_0x5ca6('16','[bHH')](expect,createResponse)[_0x5ca6('17','n!vX')]('\x0a\x20\x20\x20\x20\x20\x20Object\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22_message\x22:\x20\x22Wrote\x20file\x20file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22content\x22:\x20\x22Hello,\x20world!\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22id\x22:\x20\x22file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22path\x22:\x20\x22file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20');const readResponse=await file[_0x5ca6('18','n!vX')](context,createResponse['id']);DebFyj[_0x5ca6('19','J1eg')](expect,readResponse)[_0x5ca6('1a','acF[')](createResponse);const updatedResource={...readResponse,...partialUpdate};const updatePlan=await file[_0x5ca6('1b','OyCH')](context,updatedResource);DebFyj[_0x5ca6('1c','ULja')](expect,updatePlan)[_0x5ca6('1d','6AAQ')](_0x5ca6('1e','iQ)]'));_0x494eae[_0x5ca6('1f','iQ)]')]['mockReturnValueOnce'](partialUpdate[_0x5ca6('20','KhxR')]);const updateResponse=await file[_0x5ca6('21','lC%8')](context,updatedResource);DebFyj[_0x5ca6('22','I#1s')](expect,updateResponse)[_0x5ca6('23','ddrM')]('\x0a\x20\x20\x20\x20\x20\x20Object\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22_message\x22:\x20\x22Wrote\x20file\x20file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22content\x22:\x20\x22Hello,\x20world!1\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22id\x22:\x20\x22file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22path\x22:\x20\x22file.txt\x22,\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20');await file[_0x5ca6('24','gc$8')](context,updateResponse);});test(_0x5ca6('25','#f7%'),async()=>{const context={'root':root};const initialObject={'path':_0x5ca6('26','b0c#'),'content':url};const partialUpdate={'content':url2};_0x494eae['readFile'][_0x5ca6('27','!DI7')](response1);const {Readable,PassThrough}=DebFyj[_0x5ca6('28','@iUv')](require,'stream');_0x494eae[_0x5ca6('29','ok2G')]['mockImplementation'](()=>new PassThrough());fetchMock[_0x5ca6('2a','acF[')](url,()=>{const readable=new Readable();readable[_0x5ca6('2b','AtdP')](response1);readable[_0x5ca6('2c','RZVc')](null);return readable;},{'sendAsJson':![]})['mock'](url2,response2);_0x494eae[_0x5ca6('2d','@iUv')]['mockReturnValueOnce']('');const createPlan=await file[_0x5ca6('2e','UNS8')](context,initialObject);DebFyj[_0x5ca6('2f','OyCH')](expect,createPlan[_0x5ca6('30','&ee3')])['toEqual']('');expect(createPlan[_0x5ca6('31','I^ea')])[_0x5ca6('32','!DI7')](response1);const createResponse=await file['create'](context,initialObject);const validateResult=_0x4bd920['validate'](createResponse,{...file['schema'],..._0x1ef4fa});DebFyj[_0x5ca6('33','#d[7')](expect,validateResult[_0x5ca6('34','AfPU')])[_0x5ca6('35','&ee3')]();DebFyj[_0x5ca6('36','$Vnq')](expect,createResponse[_0x5ca6('37','gc$8')])[_0x5ca6('38','dw)u')](response1);const readResponse=await file['read'](context,createResponse['id']);DebFyj[_0x5ca6('39','I^ea')](expect,readResponse)[_0x5ca6('3a','HrM#')](createResponse);const updatedResource={...readResponse,...partialUpdate};const updatePlan=await file[_0x5ca6('3b','AfPU')](context,updatedResource);DebFyj[_0x5ca6('3c','tvjG')](expect,updatePlan[_0x5ca6('3d','n!vX')])[_0x5ca6('3e','AUu5')](_0x5ca6('3f','AtdP'));_0x494eae[_0x5ca6('40','AUu5')]['mockReturnValueOnce'](partialUpdate['content']);const updateResponse=await file[_0x5ca6('41','kN@Q')](context,updatedResource);DebFyj['tcoXH'](expect,updateResponse)[_0x5ca6('42','lC%8')](_0x5ca6('43','wbxo'));await file[_0x5ca6('44','AUu5')](context,updateResponse);});});