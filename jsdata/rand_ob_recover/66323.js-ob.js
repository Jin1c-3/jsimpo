const URL = require(_0x17002e(431))['URL'], Arborist = require(_0x17002e(432));
function normalizeFunding(_0x5ad679) {
    const _0x146e4f = _0x17002e, _0x3f212a = _0x14e2aa => typeof _0x14e2aa === _0x146e4f(433) ? { 'url': _0x14e2aa } : _0x14e2aa, _0x28340c = [][_0x146e4f(434)](_0x5ad679 || [])[_0x146e4f(435)](_0x3f212a);
    return Array[_0x146e4f(436)](_0x5ad679) ? _0x28340c : _0x28340c[64 * -103 + -415 * -12 + -13 * -124];
}
function isValidFunding(_0x1d2c33) {
    const _0x50fa40 = _0x17002e, _0x1ef7ae = {
            'uhAPe': _0x50fa40(437),
            'Vgfxj': function (_0x59eae1, _0x1587a4) {
                return _0x59eae1(_0x1587a4);
            },
            'zdarJ': function (_0x1e1787, _0x20f866) {
                return _0x1e1787 !== _0x20f866;
            }
        }, _0x3f9b4f = _0x1ef7ae['uhAPe']['split']('|');
    let _0x453573 = -149 * 18 + -1548 * -4 + -3510;
    while (!![]) {
        switch (_0x3f9b4f[_0x453573++]) {
        case '0':
            return _0x1ef7ae[_0x50fa40(438)](Boolean, _0x2a8244[_0x50fa40(439)]);
        case '1':
            if (Array['isArray'](_0x1d2c33))
                return _0x1d2c33[_0x50fa40(440)](_0x3ff2b1 => !Array['isArray'](_0x3ff2b1) && isValidFunding(_0x3ff2b1));
            continue;
        case '2':
            try {
                var _0x2a8244 = new URL(_0x1d2c33[_0x50fa40(431)] || _0x1d2c33);
            } catch (_0x4c20a1) {
                return ![];
            }
            continue;
        case '3':
            if (_0x1ef7ae['zdarJ'](_0x2a8244['protocol'], _0x50fa40(441)) && _0x1ef7ae[_0x50fa40(442)](_0x2a8244[_0x50fa40(443)], 'http:'))
                return ![];
            continue;
        case '4':
            if (!_0x1d2c33)
                return ![];
            continue;
        }
        break;
    }
}
function _0x51c7(_0x45465a, _0x47a404) {
    return _0x51c7 = function (_0x499bec, _0x4ac5b8) {
        _0x499bec = _0x499bec - (4163 + 4776 * 2 + -13295 * 1);
        let _0x104db2 = _0xf980[_0x499bec];
        return _0x104db2;
    }, _0x51c7(_0x45465a, _0x47a404);
}
const empty = () => Object[_0x17002e(444)](null);
function readTree(_0x36a818, _0x216d4d) {
    const _0x29bbac = _0x17002e, _0x237f7e = {
            'SKXCx': function (_0x6c1eaf, _0x57b4da) {
                return _0x6c1eaf + _0x57b4da;
            },
            'rVQIw': function (_0x56cfcb, _0x538afa) {
                return _0x56cfcb(_0x538afa);
            },
            'CEGoH': function (_0x2ed7f5, _0x47c617) {
                return _0x2ed7f5(_0x47c617);
            },
            'tLFGm': function (_0x1edb15) {
                return _0x1edb15();
            },
            'skOMV': function (_0x391245, _0x3c7d03) {
                return _0x391245(_0x3c7d03);
            },
            'gUuld': function (_0x19f1bf) {
                return _0x19f1bf();
            },
            'TpDbj': function (_0x435b04) {
                return _0x435b04();
            },
            'oeTuD': function (_0x180c0f, _0x260b2e, _0xc73689) {
                return _0x180c0f(_0x260b2e, _0xc73689);
            },
            'oJJft': function (_0x349f7c) {
                return _0x349f7c();
            },
            'NNeCf': function (_0x1db865, _0x3ce3da) {
                return _0x1db865 || _0x3ce3da;
            }
        };
    let _0x5c3a75 = -6858 + -679 * -5 + 3463;
    const _0x3b54c0 = new Set(), {countOnly: _0x11c648} = _0x237f7e[_0x29bbac(445)](_0x216d4d, {}), _0x196508 = _0x237f7e[_0x29bbac(446)](Symbol, _0x29bbac(447));
    let _0xbef5e5;
    if (_0x216d4d && _0x216d4d[_0x29bbac(448)] && _0x216d4d[_0x29bbac(448)][_0x29bbac(449)]) {
        const _0x313bce = new Arborist(_0x216d4d);
        _0xbef5e5 = _0x313bce[_0x29bbac(450)](_0x36a818, _0x216d4d[_0x29bbac(448)]);
    }
    function _0x44402e(_0x507239, _0x4785e6) {
        const _0x1ebd05 = _0x29bbac, _0xa7d98 = _0x237f7e[_0x1ebd05(451)](_0x237f7e[_0x1ebd05(452)](String, _0x507239), _0x237f7e[_0x1ebd05(453)](String, _0x4785e6));
        if (_0x3b54c0[_0x1ebd05(454)](_0xa7d98))
            return !![];
        _0x3b54c0['add'](_0xa7d98);
    }
    function _0x5d7f2b(_0xd0b5ff) {
        const _0x2cb31d = _0x29bbac, _0x40c5d9 = _0xd0b5ff[_0x196508];
        if (_0x40c5d9)
            return Object[_0x2cb31d(455)](_0x237f7e['tLFGm'](empty), _0xd0b5ff, _0x40c5d9);
        return _0xd0b5ff;
    }
    function _0x2dbed6(_0x4f4307) {
        const _0x2e80d8 = _0x29bbac;
        return _0x4f4307 && (Object[_0x2e80d8(456)](_0x4f4307)[_0x2e80d8(449)] || _0x4f4307[_0x196508]);
    }
    function _0xa40dd0(_0x34c0c8, _0x5eb1f4) {
        const _0x137a54 = _0x29bbac;
        _0x5eb1f4 && _0x237f7e['skOMV'](isValidFunding, _0x5eb1f4) && (_0x34c0c8[_0x137a54(457)] = normalizeFunding(_0x5eb1f4), _0x5c3a75++);
    }
    function _0x5c1e62(_0x2afae3) {
        const _0x5a97d4 = _0x29bbac, _0x49262b = {
                'zECBh': function (_0xea941a, _0x57d0dc) {
                    return _0xea941a === _0x57d0dc;
                },
                'lIVIl': function (_0x5441ab, _0x426a8c) {
                    return _0x5441ab > _0x426a8c;
                },
                'wOmqp': function (_0x457b92, _0x1d3e86) {
                    return _0x457b92(_0x1d3e86);
                }
            }, _0x275766 = _0x2afae3 && _0x2afae3['edgesOut'] && _0x2afae3[_0x5a97d4(458)][_0x5a97d4(459)]();
        if (!_0x275766)
            return _0x237f7e[_0x5a97d4(460)](empty);
        const _0x120f61 = Array['from'](_0x275766)['map'](_0x552b4d => {
            const _0x1fc4db = _0x5a97d4;
            if (!_0x552b4d || !_0x552b4d['to'])
                return _0x237f7e[_0x1fc4db(461)](empty);
            const _0xbb49d2 = _0x552b4d['to']['target'] || _0x552b4d['to'];
            if (!_0xbb49d2[_0x1fc4db(462)])
                return _0x237f7e[_0x1fc4db(461)](empty);
            if (_0xbef5e5 && _0xbef5e5[_0x1fc4db(463)] > 9381 + -2 * -3307 + -15995 && !_0xbef5e5['has'](_0xbb49d2))
                return _0x237f7e[_0x1fc4db(460)](empty);
            const {
                name: _0x267702,
                funding: _0x35c626,
                version: _0x24eb72
            } = _0xbb49d2['package'];
            if (_0x237f7e['oeTuD'](_0x44402e, _0x267702, _0x24eb72))
                return _0x237f7e['TpDbj'](empty);
            const _0x2be1c3 = {};
            if (_0x24eb72)
                _0x2be1c3[_0x1fc4db(464)] = _0x24eb72;
            return _0xa40dd0(_0x2be1c3, _0x35c626), {
                'node': _0xbb49d2,
                'fundingItem': _0x2be1c3
            };
        });
        return _0x120f61[_0x5a97d4(465)]((_0x4a6677, {
            node: _0x3e37f0,
            fundingItem: _0x2ebb6f
        }, _0x1e543e) => {
            const _0x11bf91 = _0x5a97d4;
            if (!_0x2ebb6f || _0x49262b[_0x11bf91(466)](_0x2ebb6f[_0x11bf91(449)], -1 * -4372 + -3201 + -1 * 1171) || !_0x3e37f0)
                return _0x4a6677;
            const _0x4e7add = _0x3e37f0[_0x11bf91(458)] && _0x49262b[_0x11bf91(467)](_0x3e37f0['edgesOut'][_0x11bf91(463)], -51 * -39 + 3 * 2782 + -10335) && _0x49262b[_0x11bf91(468)](_0x5c1e62, _0x3e37f0);
            if (_0x11c648)
                return null;
            _0x49262b['wOmqp'](_0x2dbed6, _0x4e7add) && (_0x2ebb6f[_0x11bf91(469)] = _0x5d7f2b(_0x4e7add));
            if (_0x49262b[_0x11bf91(468)](isValidFunding, _0x2ebb6f[_0x11bf91(457)]))
                _0x4a6677[_0x3e37f0['package'][_0x11bf91(470)]] = _0x2ebb6f;
            else
                _0x49262b[_0x11bf91(468)](_0x2dbed6, _0x2ebb6f[_0x11bf91(469)]) && (_0x4a6677[_0x196508] = Object['assign'](empty(), _0x4a6677[_0x196508], _0x2ebb6f[_0x11bf91(469)]));
            return _0x4a6677;
        }, _0x11c648 ? null : _0x237f7e[_0x5a97d4(471)](empty));
    }
    const _0x3356b3 = _0x237f7e['skOMV'](_0x5c1e62, _0x36a818), _0x3bf40a = { 'length': _0x5c3a75 };
    if (!_0x11c648) {
        const _0x5e7c03 = _0x36a818 && _0x36a818[_0x29bbac(462)] && _0x36a818[_0x29bbac(462)][_0x29bbac(470)] || _0x36a818 && _0x36a818['name'];
        _0x3bf40a[_0x29bbac(470)] = _0x5e7c03 || _0x36a818 && _0x36a818[_0x29bbac(472)];
        if (_0x36a818 && _0x36a818[_0x29bbac(462)] && _0x36a818['package'][_0x29bbac(464)])
            _0x3bf40a[_0x29bbac(464)] = _0x36a818[_0x29bbac(462)][_0x29bbac(464)];
        if (_0x36a818 && _0x36a818[_0x29bbac(462)] && _0x36a818[_0x29bbac(462)][_0x29bbac(457)])
            _0x3bf40a[_0x29bbac(457)] = _0x237f7e['skOMV'](normalizeFunding, _0x36a818['package'][_0x29bbac(457)]);
        _0x3bf40a[_0x29bbac(469)] = _0x237f7e[_0x29bbac(446)](_0x5d7f2b, _0x3356b3);
    }
    return _0x3bf40a;
}
async function read(_0x5030d5) {
    const _0x175947 = _0x17002e, _0xfb1ed0 = {
            'InlRm': function (_0x245ef8, _0x8ae4ea, _0x4dc3b8) {
                return _0x245ef8(_0x8ae4ea, _0x4dc3b8);
            }
        }, _0x45b9e3 = new Arborist(_0x5030d5), _0x339188 = await _0x45b9e3[_0x175947(473)](_0x5030d5);
    return _0xfb1ed0[_0x175947(474)](readTree, _0x339188, _0x5030d5);
}
module[_0x17002e(475)] = {
    'read': read,
    'readTree': readTree,
    'normalizeFunding': normalizeFunding,
    'isValidFunding': isValidFunding
};