const error1 = new Error(_0x33b7f9(245));
error1[_0x33b7f9(246)] = 'error1', promise_test(() => {
    const _0x1ea8b6 = _0x33b7f9, _0x18acdb = {
            'QFEWp': function (_0x3b071c, _0x13f03d) {
                return _0x3b071c < _0x13f03d;
            },
            'jYiwV': function (_0x1d366e, _0x113b4e) {
                return _0x1d366e(_0x113b4e);
            }
        };
    let _0x1ee391, _0x40a67b = 5622 + -73 * -77 + -11243 * 1;
    const _0x548bfc = new ReadableStream({
        'start'(_0x277d8f) {
            _0x1ee391 = _0x277d8f;
        }
    }, {
        'size'() {
            const _0x465b9d = _0x22af;
            return ++_0x40a67b, _0x18acdb['QFEWp'](_0x40a67b, 3 * -619 + 3 * -1527 + -70 * -92) && _0x1ee391[_0x465b9d(247)]('b'), -5 * 1874 + 7734 + 1637;
        }
    });
    return _0x1ee391['enqueue']('a'), _0x1ee391[_0x1ea8b6(248)](), _0x18acdb[_0x1ea8b6(249)](readableStreamToArray, _0x548bfc)[_0x1ea8b6(250)](_0x11c1b2 => assert_array_equals(_0x11c1b2, [
        'b',
        'a'
    ], _0x1ea8b6(251)));
}, 'enqueue() inside size() should work'), promise_test(() => {
    const _0x44cc71 = _0x33b7f9, _0x857662 = {
            'fhYBP': function (_0x335642, _0x38dcba) {
                return _0x335642(_0x38dcba);
            }
        };
    let _0x2cf7b4;
    const _0x26d327 = new ReadableStream({
        'start'(_0x3ec259) {
            _0x2cf7b4 = _0x3ec259;
        }
    }, {
        'size'() {
            return _0x2cf7b4['close'](), 586 * 13 + 15 * -81 + -11 * 582;
        }
    });
    return _0x2cf7b4[_0x44cc71(247)]('a'), _0x857662[_0x44cc71(252)](readableStreamToArray, _0x26d327)[_0x44cc71(250)](_0x38cf1e => assert_array_equals(_0x38cf1e, [], 'array should contain no chunks'));
}, _0x33b7f9(253)), promise_test(() => {
    const _0x3b2788 = _0x33b7f9, _0x5b6faf = {
            'WxMIw': function (_0x2d1c1c, _0x1fde72) {
                return _0x2d1c1c === _0x1fde72;
            },
            'BiIPZ': function (_0x38d501, _0xea50fd) {
                return _0x38d501(_0xea50fd);
            }
        };
    let _0x24f5e2, _0x5c454d = 1 * 1213 + -8070 + 6857 * 1;
    const _0x2c5571 = new ReadableStream({
        'start'(_0x53ef20) {
            _0x24f5e2 = _0x53ef20;
        }
    }, {
        'size'() {
            const _0x92fca4 = _0x22af;
            return ++_0x5c454d, _0x5b6faf['WxMIw'](_0x5c454d, -19 * 203 + -9173 + -181 * -72) && _0x24f5e2[_0x92fca4(248)](), -5 * -155 + -930 + 26 * 6;
        }
    });
    return _0x24f5e2[_0x3b2788(247)]('a'), _0x24f5e2[_0x3b2788(247)]('b'), _0x5b6faf['BiIPZ'](readableStreamToArray, _0x2c5571)['then'](_0x223a85 => assert_array_equals(_0x223a85, [
        'a',
        'b'
    ], 'array should contain two chunks'));
}, _0x33b7f9(254)), promise_test(_0xe215c8 => {
    const _0x2e1169 = _0x33b7f9, _0x153528 = {
            'rgxhh': function (_0x422365, _0x45ca35, _0x3a3d37, _0x420d12, _0x3c8f77) {
                return _0x422365(_0x45ca35, _0x3a3d37, _0x420d12, _0x3c8f77);
            },
            'KOVTL': 'read() should reject'
        };
    let _0x5b8cc5;
    const _0x521349 = new ReadableStream({
        'start'(_0x1a7603) {
            _0x5b8cc5 = _0x1a7603;
        }
    }, {
        'size'() {
            const _0x2bcb0f = _0x22af;
            return _0x5b8cc5[_0x2bcb0f(255)](error1), 1 * -2840 + 22 * 193 + -1405;
        }
    });
    return _0x5b8cc5[_0x2e1169(247)]('a'), _0x153528[_0x2e1169(256)](promise_rejects_exactly, _0xe215c8, error1, _0x521349[_0x2e1169(257)]()[_0x2e1169(258)](), _0x153528[_0x2e1169(259)]);
}, _0x33b7f9(260)), promise_test(() => {
    const _0x297746 = _0x33b7f9, _0x3e1dbf = {
            'cgbAW': function (_0x4c72c1, _0x809983, _0x215f29, _0x3fa04d) {
                return _0x4c72c1(_0x809983, _0x215f29, _0x3fa04d);
            },
            'qiRZk': _0x297746(261),
            'LSdau': function (_0x3e7181, _0x2c1f9b) {
                return _0x3e7181(_0x2c1f9b);
            }
        };
    let _0x31b34a;
    const _0x3cc4c2 = new ReadableStream({
        'start'(_0xbd303a) {
            _0x31b34a = _0xbd303a;
        }
    }, {
        'size'() {
            const _0x5a6ee6 = _0x297746;
            return _0x3e1dbf[_0x5a6ee6(262)](assert_equals, _0x31b34a['desiredSize'], 2985 + 9969 + -12953, _0x3e1dbf[_0x5a6ee6(263)]), 8167 + -39 * 71 + -5397;
        },
        'highWaterMark': 1
    });
    return _0x31b34a[_0x297746(247)]('a'), _0x31b34a[_0x297746(248)](), _0x3e1dbf[_0x297746(264)](readableStreamToArray, _0x3cc4c2)[_0x297746(250)](_0x15e102 => assert_array_equals(_0x15e102, ['a'], _0x297746(265)));
}, 'desiredSize inside size() should work'), promise_test(_0x30d13a => {
    const _0x43aae7 = _0x33b7f9, _0x2d3bb0 = {
            'akDGa': function (_0x2108cf, _0x3d6f63, _0x4eb73b, _0x42b80e) {
                return _0x2108cf(_0x3d6f63, _0x4eb73b, _0x42b80e);
            },
            'chyDF': _0x43aae7(266)
        };
    let _0x243a2b, _0x51b4f2;
    const _0xdd9862 = new ReadableStream({
        'start'(_0x5665bf) {
            _0x51b4f2 = _0x5665bf;
        },
        'cancel': _0x30d13a[_0x43aae7(267)](_0x3fc5ba => {
            const _0xcb8f1d = _0x43aae7;
            _0x2d3bb0[_0xcb8f1d(268)](assert_equals, _0x3fc5ba, error1, _0xcb8f1d(269)), _0x2d3bb0[_0xcb8f1d(268)](assert_throws_js, TypeError, () => _0x51b4f2[_0xcb8f1d(247)](), _0x2d3bb0[_0xcb8f1d(270)]);
        })
    }, {
        'size'() {
            const _0x48ed16 = _0x43aae7;
            return _0x243a2b = _0xdd9862[_0x48ed16(271)](error1), -33 * -243 + -6 * 103 + -7400;
        },
        'highWaterMark': Infinity
    });
    _0x51b4f2[_0x43aae7(247)]('a');
    const _0x2cbb36 = _0xdd9862['getReader']();
    return Promise['all']([
        _0x2cbb36[_0x43aae7(272)],
        _0x243a2b
    ]);
}, _0x33b7f9(273)), promise_test(() => {
    const _0x48b8b2 = _0x33b7f9, _0x44896f = {
            'ezVEX': function (_0x2563a5, _0x2cbd6a, _0x1f5952, _0x328657) {
                return _0x2563a5(_0x2cbd6a, _0x1f5952, _0x328657);
            },
            'xKDyi': _0x48b8b2(274),
            'Scowl': 'ws should contain two chunks',
            'MQoCl': 'close',
            'YJCaU': _0x48b8b2(275),
            'pOjXh': function (_0x23f1a8, _0x37c436, _0x5b95d0) {
                return _0x23f1a8(_0x37c436, _0x5b95d0);
            }
        };
    let _0x2271fd, _0x2911cb;
    const _0x12e3b4 = recordingWritableStream(), _0x566001 = new ReadableStream({
            'start'(_0x2905a0) {
                _0x2271fd = _0x2905a0;
            }
        }, {
            'size'() {
                const _0x2d83f8 = _0x48b8b2;
                return !_0x2911cb && (_0x2911cb = _0x566001[_0x2d83f8(276)](_0x12e3b4)), -3057 + 1117 * 7 + -9 * 529;
            },
            'highWaterMark': 1
        });
    return _0x2271fd['enqueue']('a'), _0x44896f['pOjXh'](assert_not_equals, _0x2911cb, undefined), _0x2271fd['enqueue']('a'), delay(2543 + -5075 + 2532)[_0x48b8b2(250)](() => {
        const _0x2a128d = _0x48b8b2;
        return _0x44896f[_0x2a128d(277)](assert_array_equals, _0x12e3b4[_0x2a128d(278)], [
            _0x44896f[_0x2a128d(279)],
            'a',
            _0x44896f[_0x2a128d(279)],
            'a'
        ], _0x44896f[_0x2a128d(280)]), _0x2271fd[_0x2a128d(248)](), _0x2911cb;
    })[_0x48b8b2(250)](() => {
        const _0xc06a5c = _0x48b8b2;
        assert_array_equals(_0x12e3b4['events'], [
            _0xc06a5c(274),
            'a',
            'write',
            'a',
            _0x44896f[_0xc06a5c(281)]
        ], _0x44896f[_0xc06a5c(282)]);
    });
}, _0x33b7f9(283)), promise_test(() => {
    const _0x3b8f89 = _0x33b7f9, _0x215302 = {
            'xpUKI': function (_0x165b29, _0x499a89) {
                return _0x165b29(_0x499a89);
            },
            'jlawJ': function (_0x489f9e, _0x392f51, _0xa5cf31, _0x153182) {
                return _0x489f9e(_0x392f51, _0xa5cf31, _0x153182);
            },
            'CaWSX': function (_0x296737, _0x5296d8, _0x20d943, _0x24dccf) {
                return _0x296737(_0x5296d8, _0x20d943, _0x24dccf);
            },
            'tIIne': 'size() should only be called once',
            'bgmzh': function (_0x39cbc0, _0x310d9a, _0x522e42) {
                return _0x39cbc0(_0x310d9a, _0x522e42);
            },
            'SWfVX': 'done should be false',
            'BUYav': _0x3b8f89(284),
            'SzykF': _0x3b8f89(285),
            'UKyFh': function (_0x583af7, _0x23b86d, _0x57150b) {
                return _0x583af7(_0x23b86d, _0x57150b);
            },
            'yWzYj': 'done should be false again',
            'mbGhG': function (_0x2b6299) {
                return _0x2b6299();
            }
        };
    let _0x5b9a85, _0x223f3f, _0x86146b = 2714 + 10 * -49 + 8 * -278, _0x4cbe2f = ![], _0x112f04;
    const _0x15365a = new ReadableStream({
        'start'(_0x5d4afc) {
            _0x5b9a85 = _0x5d4afc;
        }
    }, {
        'size'() {
            return _0x223f3f = _0x112f04['read'](), ++_0x86146b, -1836 + 1 * -6127 + 2 * 3982;
        },
        'highWaterMark': 0
    });
    return _0x112f04 = _0x15365a[_0x3b8f89(257)](), _0x5b9a85[_0x3b8f89(247)]('a'), _0x223f3f[_0x3b8f89(250)](() => {
        _0x4cbe2f = !![];
    }), _0x215302['mbGhG'](flushAsyncEvents)[_0x3b8f89(250)](() => {
        const _0x30da85 = _0x3b8f89;
        return _0x215302['xpUKI'](assert_false, _0x4cbe2f), _0x5b9a85[_0x30da85(247)]('b'), _0x215302[_0x30da85(286)](assert_equals, _0x86146b, -3373 + -5019 + 1 * 8393, _0x30da85(287)), _0x215302['xpUKI'](delay, 509 * 17 + -9278 * -1 + -17931);
    })[_0x3b8f89(250)](() => {
        const _0x3c2389 = _0x3b8f89;
        return assert_true(_0x4cbe2f), _0x215302[_0x3c2389(288)](assert_equals, _0x86146b, -7262 + -1055 + 8318, _0x215302[_0x3c2389(289)]), _0x223f3f;
    })[_0x3b8f89(250)](({
        value: _0x4ca002,
        done: _0x542c35
    }) => {
        const _0x29006e = _0x3b8f89;
        return _0x215302[_0x29006e(290)](assert_false, _0x542c35, _0x215302[_0x29006e(291)]), _0x215302[_0x29006e(288)](assert_equals, _0x4ca002, 'b', _0x215302[_0x29006e(292)]), assert_equals(_0x86146b, -6665 + 2882 + 3784, _0x215302[_0x29006e(293)]), _0x112f04['read']();
    })['then'](({
        value: _0x40da8d,
        done: _0x40a10d
    }) => {
        const _0x2173a7 = _0x3b8f89;
        _0x215302[_0x2173a7(294)](assert_false, _0x40a10d, _0x215302['yWzYj']), assert_equals(_0x40da8d, 'a', _0x2173a7(295));
    });
}, _0x33b7f9(296)), promise_test(() => {
    const _0x16b172 = _0x33b7f9, _0x533d72 = {
            'KWEkX': function (_0x25be4f, _0x130dbe, _0x53adeb) {
                return _0x25be4f(_0x130dbe, _0x53adeb);
            },
            'idqyX': _0x16b172(297),
            'dbDWp': _0x16b172(298)
        };
    let _0x112e61, _0x390871;
    const _0x412020 = new ReadableStream({
        'start'(_0x4d0fa2) {
            _0x112e61 = _0x4d0fa2;
        }
    }, {
        'size'() {
            const _0x29c3c3 = _0x16b172;
            return _0x390871 = _0x412020[_0x29c3c3(257)](), -1906 + -1 * 2842 + 4749;
        }
    });
    return _0x112e61[_0x16b172(247)]('a'), _0x390871[_0x16b172(258)]()[_0x16b172(250)](({
        value: _0x245583,
        done: _0xbc49ec
    }) => {
        const _0x4878f3 = _0x16b172;
        _0x533d72[_0x4878f3(299)](assert_false, _0xbc49ec, _0x533d72[_0x4878f3(300)]), assert_equals(_0x245583, 'a', _0x533d72[_0x4878f3(301)]);
    });
}, _0x33b7f9(302)), promise_test(() => {
    const _0x15cb1d = _0x33b7f9, _0x5f23f2 = {
            'nFMVz': function (_0x202b10, _0x4dc1bf, _0x2323d1) {
                return _0x202b10(_0x4dc1bf, _0x2323d1);
            },
            'XxNbl': _0x15cb1d(303),
            'shFxs': function (_0x44c050, _0x548dc3) {
                return _0x44c050(_0x548dc3);
            },
            'NrNpL': function (_0x3b4400, _0x321ff7) {
                return _0x3b4400(_0x321ff7);
            }
        };
    let _0x3f6845, _0x696bdf, _0x1b591f;
    const _0x41c6ae = new ReadableStream({
        'start'(_0x34595b) {
            _0x3f6845 = _0x34595b;
        }
    }, {
        'size'() {
            const _0x58dba1 = _0x15cb1d;
            return [_0x696bdf, _0x1b591f] = _0x41c6ae[_0x58dba1(304)](), 1006 + -3502 + 2497;
        }
    });
    return _0x3f6845[_0x15cb1d(247)]('a'), _0x5f23f2[_0x15cb1d(305)](assert_true, _0x41c6ae[_0x15cb1d(306)], _0x5f23f2[_0x15cb1d(307)]), _0x3f6845[_0x15cb1d(248)](), Promise[_0x15cb1d(308)]([
        _0x5f23f2['shFxs'](readableStreamToArray, _0x696bdf)['then'](_0x349679 => assert_array_equals(_0x349679, ['a'], 'branch1 should have one chunk')),
        _0x5f23f2[_0x15cb1d(309)](readableStreamToArray, _0x1b591f)[_0x15cb1d(250)](_0x2a18a1 => assert_array_equals(_0x2a18a1, ['a'], _0x15cb1d(310)))
    ]);
}, _0x33b7f9(311));