const _0x1f08 = [
    'name',
    'zEvHg',
    '816239jEfUsM',
    '2YbCpNC',
    '1492827IAoiBo',
    '71utpiag',
    '23637QepjzP',
    '1802686vNGLEa',
    '493648VeeEmy',
    '12011ZfWyjY',
    '5OUEsmV',
    '1740076oAPGrB',
    'underscore-plus',
    'child_process',
    'event-kit',
    'path',
    'exports',
    'emitter',
    'command',
    'args',
    'options',
    'stderr',
    'exit',
    'UCVwl',
    'start',
    'win32',
    'hxbWP',
    'started',
    'platform',
    'FtqCJ',
    'OpaVd',
    'shell',
    'spawn',
    'isExplorerCommand',
    'test',
    'toString',
    'replace',
    'unshift',
    'windowsVerbatimArguments',
    'getCmdPath',
    'join',
    'onWillThrowError',
    'will-throw-error',
    'bufferStream',
    'close',
    'setEncoding',
    'XNgzV',
    'JEkQs',
    'killed',
    'length',
    'lastIndexOf',
    'ZhUXI',
    'KAGHE',
    'substring',
    'killOnWindows',
    'process',
    'where',
    'get',
    'processid',
    'pid',
    'TzWMA',
    'ZWFxL',
    'Jngrp',
    'zSGgQ',
    'killProcess',
    'error',
    'stdout',
    'yOndO',
    'split',
    'EWMLS',
    'ZtBIM',
    'explorer',
    'aPfBZ',
    'ehZjb',
    'SystemRoot',
    'env',
    'hYFTp',
    'System32',
    'comspec',
    'EDIUX',
    'BLKll',
    'kill',
    'hBLpb',
    'xHuwE',
    'nextTick',
    'handleEvents',
    'BZQuQ',
    'oVsXK',
    'KeekO',
    'tIpwQ',
    'kRWIX',
    'handleError',
    'FfkHq',
    'jSaPS',
    'code',
    'oPRhU',
    'HtJwf',
    'syscall',
    'indexOf',
    'fKhxE',
    'Failed\x20to\x20spawn\x20command\x20`',
    '`\x20is\x20installed\x20and\x20on\x20your\x20PATH'
];
const _0x46bd30 = _0x49cf;
(function (_0x444c7d, _0x5dd99f) {
    const _0x51c726 = _0x49cf;
    while (!![]) {
        try {
            const _0x5a581a = parseInt(_0x51c726(0x7d)) * parseInt(_0x51c726(0x7e)) + parseInt(_0x51c726(0x7f)) + -parseInt(_0x51c726(0x80)) * parseInt(_0x51c726(0x81)) + parseInt(_0x51c726(0x82)) + -parseInt(_0x51c726(0x83)) + -parseInt(_0x51c726(0x84)) * parseInt(_0x51c726(0x85)) + -parseInt(_0x51c726(0x86));
            if (_0x5a581a === _0x5dd99f)
                break;
            else
                _0x444c7d['push'](_0x444c7d['shift']());
        } catch (_0x4be0c3) {
            _0x444c7d['push'](_0x444c7d['shift']());
        }
    }
}(_0x1f08, 0x43538 + 0x61512 + 0x81 * 0x887));
function _0x49cf(_0x56b9eb, _0x43f7a6) {
    return _0x49cf = function (_0x4c0656, _0x2d3d20) {
        _0x4c0656 = _0x4c0656 - (-0x222b + -0x3 * 0x631 + 0x353b);
        let _0xf0a194 = _0x1f08[_0x4c0656];
        return _0xf0a194;
    }, _0x49cf(_0x56b9eb, _0x43f7a6);
}
const _ = require(_0x46bd30(0x87)), ChildProcess = require(_0x46bd30(0x88)), {Emitter} = require(_0x46bd30(0x89)), path = require(_0x46bd30(0x8a));
module[_0x46bd30(0x8b)] = class BufferedProcess {
    constructor({
        command: _0x13a229,
        args: _0x1705e7,
        options: options = {},
        stdout: _0x2484a0,
        stderr: _0x876e87,
        exit: _0x53ae91,
        autoStart: autoStart = !![]
    } = {}) {
        const _0x56ae3a = _0x46bd30, _0x23824e = {
                'UCVwl': function (_0x288db0, _0x1ba610) {
                    return _0x288db0 === _0x1ba610;
                }
            };
        this[_0x56ae3a(0x8c)] = new Emitter(), this[_0x56ae3a(0x8d)] = _0x13a229, this[_0x56ae3a(0x8e)] = _0x1705e7, this[_0x56ae3a(0x8f)] = options, this['stdout'] = _0x2484a0, this[_0x56ae3a(0x90)] = _0x876e87, this[_0x56ae3a(0x91)] = _0x53ae91, _0x23824e[_0x56ae3a(0x92)](autoStart, !![]) && this['start'](), this['killed'] = ![];
    }
    [_0x46bd30(0x93)]() {
        const _0x9c7d0e = _0x46bd30, _0x898bba = {
                'hxbWP': function (_0x397b1f, _0x3d71e3) {
                    return _0x397b1f === _0x3d71e3;
                },
                'FtqCJ': _0x9c7d0e(0x94),
                'OpaVd': function (_0x3770e1, _0x813768) {
                    return _0x3770e1 === _0x813768;
                }
            };
        if (_0x898bba[_0x9c7d0e(0x95)](this[_0x9c7d0e(0x96)], !![]))
            return;
        this[_0x9c7d0e(0x96)] = !![], _0x898bba['hxbWP'](process[_0x9c7d0e(0x97)], _0x898bba[_0x9c7d0e(0x98)]) && _0x898bba[_0x9c7d0e(0x99)](this['options'][_0x9c7d0e(0x9a)], undefined) ? this['spawnWithEscapedWindowsArgs'](this[_0x9c7d0e(0x8d)], this[_0x9c7d0e(0x8e)], this[_0x9c7d0e(0x8f)]) : this[_0x9c7d0e(0x9b)](this[_0x9c7d0e(0x8d)], this[_0x9c7d0e(0x8e)], this[_0x9c7d0e(0x8f)]), this['handleEvents'](this['stdout'], this[_0x9c7d0e(0x90)], this[_0x9c7d0e(0x91)]);
    }
    ['spawnWithEscapedWindowsArgs'](_0x2c30d9, _0x24785a, _0x1a6cb0) {
        const _0x92efd2 = _0x46bd30;
        let _0x597035 = [];
        _0x24785a && (_0x597035 = _0x24785a['filter'](_0x323b87 => _0x323b87 != null)['map'](_0x174d12 => {
            const _0x2121b6 = _0x49cf;
            return this[_0x2121b6(0x9c)](_0x2c30d9) && /^\/[a-zA-Z]+,.*$/[_0x2121b6(0x9d)](_0x174d12) ? _0x174d12 : '\x22' + _0x174d12[_0x2121b6(0x9e)]()[_0x2121b6(0x9f)](/"/g, '\x5c\x22') + '\x22';
        }));
        _0x597035[_0x92efd2(0xa0)](/\s|&|\^|\(|\)|\||#/['test'](_0x2c30d9) ? '\x22' + _0x2c30d9 + '\x22' : _0x2c30d9);
        const _0x305793 = _['clone'](_0x1a6cb0);
        _0x305793[_0x92efd2(0xa1)] = !![], this[_0x92efd2(0x9b)](this[_0x92efd2(0xa2)](), [
            '/s',
            '/d',
            '/c',
            '\x22' + _0x597035[_0x92efd2(0xa3)]('\x20') + '\x22'
        ], _0x305793);
    }
    [_0x46bd30(0xa4)](_0x2bb176) {
        const _0xcd24f0 = _0x46bd30;
        return this[_0xcd24f0(0x8c)]['on'](_0xcd24f0(0xa5), _0x2bb176);
    }
    [_0x46bd30(0xa6)](_0x4bf67, _0x3cf922, _0x4a35db) {
        const _0x18239d = _0x46bd30, _0xb7e62b = {
                'alUsB': function (_0x4fae9a, _0x46eb8f) {
                    return _0x4fae9a !== _0x46eb8f;
                },
                'ZhUXI': function (_0x54b25d, _0x25b31b) {
                    return _0x54b25d + _0x25b31b;
                },
                'NTEuY': function (_0x5ca606, _0x209e69) {
                    return _0x5ca606 + _0x209e69;
                },
                'KAGHE': function (_0x38d54f, _0xcba374) {
                    return _0x38d54f(_0xcba374);
                },
                'pDAFf': function (_0x2109db) {
                    return _0x2109db();
                },
                'XNgzV': 'utf8',
                'JEkQs': 'data',
                'AkryZ': _0x18239d(0xa7)
            };
        _0x4bf67[_0x18239d(0xa8)](_0xb7e62b[_0x18239d(0xa9)]);
        let _0x5a2287 = '';
        _0x4bf67['on'](_0xb7e62b[_0x18239d(0xaa)], _0xa2563f => {
            const _0x3554b4 = _0x18239d;
            if (this[_0x3554b4(0xab)])
                return;
            let _0x5e0aff = _0x5a2287[_0x3554b4(0xac)];
            _0x5a2287 += _0xa2563f;
            let _0x4e6d88 = _0xa2563f[_0x3554b4(0xad)]('\x0a');
            if (_0xb7e62b['alUsB'](_0x4e6d88, -(-0x12d6 + 0x49 * 0x7c + -0x1085))) {
                let _0x526b8c = _0xb7e62b[_0x3554b4(0xae)](_0xb7e62b['NTEuY'](_0x4e6d88, _0x5e0aff), 0x20 * 0x59 + 0x3b * -0x42 + 0x417);
                _0xb7e62b[_0x3554b4(0xaf)](_0x3cf922, _0x5a2287[_0x3554b4(0xb0)](-0x6df + -0x6ac + -0x1 * -0xd8b, _0x526b8c)), _0x5a2287 = _0x5a2287[_0x3554b4(0xb0)](_0x526b8c);
            }
        }), _0x4bf67['on'](_0xb7e62b['AkryZ'], () => {
            const _0x17647c = _0x18239d;
            if (this[_0x17647c(0xab)])
                return;
            if (_0x5a2287[_0x17647c(0xac)] > 0x48c * -0x5 + 0x468 + -0x8a * -0x22)
                _0xb7e62b[_0x17647c(0xaf)](_0x3cf922, _0x5a2287);
            _0xb7e62b['pDAFf'](_0x4a35db);
        });
    }
    [_0x46bd30(0xb1)]() {
        const _0x70593d = _0x46bd30, _0x2fe62a = {
                'EWMLS': function (_0x39e2e1, _0x293c69, _0x3d0731) {
                    return _0x39e2e1(_0x293c69, _0x3d0731);
                },
                'ZtBIM': function (_0x302e8c, _0x2574ff) {
                    return _0x302e8c === _0x2574ff;
                },
                'TzWMA': 'wmic',
                'ZWFxL': _0x70593d(0xb2),
                'pTTuU': _0x70593d(0xb3),
                'Jngrp': _0x70593d(0xb4),
                'zSGgQ': _0x70593d(0xb5),
                'yOndO': 'data',
                'xziVy': _0x70593d(0xa7)
            };
        if (!this[_0x70593d(0xb2)])
            return;
        const _0x3b7b04 = this[_0x70593d(0xb2)][_0x70593d(0xb6)], _0x5e89f0 = _0x2fe62a[_0x70593d(0xb7)], _0x5a0449 = [
                _0x2fe62a[_0x70593d(0xb8)],
                _0x2fe62a['pTTuU'],
                '(ParentProcessId=' + _0x3b7b04 + ')',
                _0x2fe62a[_0x70593d(0xb9)],
                _0x2fe62a[_0x70593d(0xba)]
            ];
        let _0x4aed40;
        try {
            _0x4aed40 = ChildProcess[_0x70593d(0x9b)](_0x5e89f0, _0x5a0449);
        } catch (_0x3f6261) {
            this[_0x70593d(0xbb)]();
            return;
        }
        _0x4aed40['on'](_0x70593d(0xbc), () => {
        });
        let _0x30fd73 = '';
        _0x4aed40[_0x70593d(0xbd)]['on'](_0x2fe62a[_0x70593d(0xbe)], _0x399e71 => {
            _0x30fd73 += _0x399e71;
        }), _0x4aed40[_0x70593d(0xbd)]['on'](_0x2fe62a['xziVy'], () => {
            const _0x45a484 = _0x70593d;
            for (let _0x126dfc of _0x30fd73[_0x45a484(0xbf)](/\s+/)) {
                if (!/^\d{1,10}$/['test'](_0x126dfc))
                    continue;
                _0x126dfc = _0x2fe62a[_0x45a484(0xc0)](parseInt, _0x126dfc, -0x1e5d * -0x1 + -0xcdf + 0x8ba * -0x2);
                if (!_0x126dfc || _0x2fe62a[_0x45a484(0xc1)](_0x126dfc, _0x3b7b04))
                    continue;
                try {
                    process['kill'](_0x126dfc);
                } catch (_0x2ddab7) {
                }
            }
            this[_0x45a484(0xbb)]();
        });
    }
    [_0x46bd30(0xbb)]() {
        const _0x134154 = _0x46bd30;
        if (this[_0x134154(0xb2)])
            this[_0x134154(0xb2)]['kill']();
        this['process'] = null;
    }
    ['isExplorerCommand'](_0x54ccb5) {
        const _0x3a0754 = _0x46bd30, _0x559845 = {
                'aPfBZ': function (_0x2be7f3, _0x367141) {
                    return _0x2be7f3 === _0x367141;
                },
                'VdsQG': 'explorer.exe',
                'TkumM': function (_0x5e6c0e, _0x40e4d0) {
                    return _0x5e6c0e === _0x40e4d0;
                },
                'ehZjb': _0x3a0754(0xc2),
                'jTNzx': function (_0x121e1f, _0x529239) {
                    return _0x121e1f === _0x529239;
                },
                'hYFTp': function (_0x1b8fc3, _0x5832b5) {
                    return _0x1b8fc3 === _0x5832b5;
                }
            };
        if (_0x559845[_0x3a0754(0xc3)](_0x54ccb5, _0x559845['VdsQG']) || _0x559845['TkumM'](_0x54ccb5, _0x559845[_0x3a0754(0xc4)]))
            return !![];
        else
            return process['env'][_0x3a0754(0xc5)] ? _0x559845['jTNzx'](_0x54ccb5, path[_0x3a0754(0xa3)](process[_0x3a0754(0xc6)][_0x3a0754(0xc5)], _0x559845['VdsQG'])) || _0x559845[_0x3a0754(0xc7)](_0x54ccb5, path['join'](process[_0x3a0754(0xc6)]['SystemRoot'], _0x559845[_0x3a0754(0xc4)])) : ![];
    }
    [_0x46bd30(0xa2)]() {
        const _0x29a698 = _0x46bd30, _0x1026a0 = {
                'EDIUX': _0x29a698(0xc8),
                'BLKll': 'cmd.exe'
            };
        if (process[_0x29a698(0xc6)][_0x29a698(0xc9)])
            return process[_0x29a698(0xc6)][_0x29a698(0xc9)];
        else
            return process['env'][_0x29a698(0xc5)] ? path['join'](process[_0x29a698(0xc6)][_0x29a698(0xc5)], _0x1026a0[_0x29a698(0xca)], _0x1026a0[_0x29a698(0xcb)]) : _0x1026a0[_0x29a698(0xcb)];
    }
    [_0x46bd30(0xcc)]() {
        const _0x2e2300 = _0x46bd30, _0x31f879 = {
                'hBLpb': function (_0x2d858e, _0x5a9f5e) {
                    return _0x2d858e === _0x5a9f5e;
                },
                'xHuwE': _0x2e2300(0x94)
            };
        if (this[_0x2e2300(0xab)])
            return;
        this[_0x2e2300(0xab)] = !![], _0x31f879[_0x2e2300(0xcd)](process[_0x2e2300(0x97)], _0x31f879[_0x2e2300(0xce)]) ? this[_0x2e2300(0xb1)]() : this[_0x2e2300(0xbb)]();
    }
    ['spawn'](_0x18c667, _0x2cd140, _0x336e1e) {
        const _0x4081a5 = _0x46bd30;
        try {
            this[_0x4081a5(0xb2)] = ChildProcess[_0x4081a5(0x9b)](_0x18c667, _0x2cd140, _0x336e1e);
        } catch (_0x2a8c3d) {
            process[_0x4081a5(0xcf)](() => this['handleError'](_0x2a8c3d));
        }
    }
    [_0x46bd30(0xd0)](_0x138745, _0x27ceef, _0x339332) {
        const _0x206d54 = _0x46bd30, _0x33f334 = {
                'xJTwq': function (_0x412f68, _0x49f678) {
                    return _0x412f68 && _0x49f678;
                },
                'BZQuQ': function (_0x142ee9, _0x38af39) {
                    return _0x142ee9 === _0x38af39;
                },
                'oVsXK': 'function',
                'hLIPs': function (_0x3a73f0, _0x494ceb) {
                    return _0x3a73f0(_0x494ceb);
                },
                'KeekO': function (_0x10bd37) {
                    return _0x10bd37();
                },
                'tIpwQ': _0x206d54(0x91),
                'kRWIX': _0x206d54(0xbc)
            };
        if (!this[_0x206d54(0xb2)])
            return;
        const _0x1a6a4e = () => {
            const _0x3dfe3f = _0x206d54;
            if (this[_0x3dfe3f(0xab)])
                return;
            _0x33f334['xJTwq'](_0x180439, _0x134d3b) && _0x8ceb7d && _0x33f334[_0x3dfe3f(0xd1)](typeof _0x339332, _0x33f334[_0x3dfe3f(0xd2)]) && _0x33f334['hLIPs'](_0x339332, _0x392888);
        };
        let _0x180439 = !![], _0x134d3b = !![], _0x8ceb7d = !![], _0x392888 = -0xf41 + 0xb65 + 0x3dc;
        _0x138745 && (_0x180439 = ![], this[_0x206d54(0xa6)](this[_0x206d54(0xb2)]['stdout'], _0x138745, () => {
            const _0xb10239 = _0x206d54;
            _0x180439 = !![], _0x33f334[_0xb10239(0xd3)](_0x1a6a4e);
        })), _0x27ceef && (_0x134d3b = ![], this[_0x206d54(0xa6)](this[_0x206d54(0xb2)][_0x206d54(0x90)], _0x27ceef, () => {
            _0x134d3b = !![], _0x1a6a4e();
        })), _0x339332 && (_0x8ceb7d = ![], this[_0x206d54(0xb2)]['on'](_0x33f334[_0x206d54(0xd4)], _0x314f5c => {
            _0x392888 = _0x314f5c, _0x8ceb7d = !![], _0x33f334['KeekO'](_0x1a6a4e);
        })), this['process']['on'](_0x33f334[_0x206d54(0xd5)], _0x2a5d27 => {
            const _0x4ea729 = _0x206d54;
            this[_0x4ea729(0xd6)](_0x2a5d27);
        });
    }
    ['handleError'](_0x1df021) {
        const _0x3f0a42 = _0x46bd30, _0x461d0e = {
                'FfkHq': _0x3f0a42(0xa5),
                'jSaPS': function (_0x1e1745, _0x15539a) {
                    return _0x1e1745 === _0x15539a;
                },
                'oPRhU': 'ENOENT',
                'HtJwf': function (_0x31f14b, _0x557dd8) {
                    return _0x31f14b === _0x557dd8;
                },
                'fKhxE': _0x3f0a42(0x9b),
                'zEvHg': 'BufferedProcessError'
            };
        let _0x5bcbe5 = ![];
        const _0x4f4baf = () => {
            _0x5bcbe5 = !![];
        };
        this['emitter']['emit'](_0x461d0e[_0x3f0a42(0xd7)], {
            'error': _0x1df021,
            'handle': _0x4f4baf
        });
        _0x461d0e[_0x3f0a42(0xd8)](_0x1df021[_0x3f0a42(0xd9)], _0x461d0e[_0x3f0a42(0xda)]) && _0x461d0e[_0x3f0a42(0xdb)](_0x1df021[_0x3f0a42(0xdc)][_0x3f0a42(0xdd)](_0x461d0e[_0x3f0a42(0xde)]), 0x1e7 + 0x907 * 0x3 + -0x1 * 0x1cfc) && (_0x1df021 = new Error(_0x3f0a42(0xdf) + this[_0x3f0a42(0x8d)] + '`.\x20Make\x20sure\x20`' + this[_0x3f0a42(0x8d)] + _0x3f0a42(0xe0), _0x1df021[_0x3f0a42(0x8a)]), _0x1df021[_0x3f0a42(0xe1)] = _0x461d0e[_0x3f0a42(0xe2)]);
        if (!_0x5bcbe5)
            throw _0x1df021;
    }
};
