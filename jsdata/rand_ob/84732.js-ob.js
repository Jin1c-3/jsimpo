const _0x4f3f = [
    'video/mp4',
    'we\x20selected\x20a\x20new\x20type\x20of\x20video/mp4',
    'we\x20chose\x20the\x20one\x20middleware',
    'hYvHj',
    'remxh',
    'setSource',
    'fErMf',
    'ThNSc',
    'src',
    'length',
    'we\x20got\x20one\x20middleware',
    'zVqFn',
    'setSource\x20can\x20select\x20multiple\x20middleware\x20from\x20multiple\x20types',
    'video/bar',
    'we\x20selected\x20a\x20new\x20src\x20of\x20video.mp4',
    'foomw\x20is\x20the\x20first\x20middleware',
    'Tafry',
    'RDvFL',
    'Fbuao',
    'NbCAx',
    'type',
    'pEwIJ',
    'we\x20got\x20two\x20middleware',
    'bar',
    'dFuCH',
    'xRvQo',
    'hrnYN',
    'rkvcK',
    'hlIDD',
    'xIvJv',
    'nwtCQ',
    'UYzZT',
    'pause',
    'mediate',
    'WUqLi',
    'pauseCalled\x20was\x20called\x20once\x20and\x20no\x20error\x20was\x20thrown',
    'the\x20factory\x20was\x20not\x20called\x20again',
    'ceIyX',
    'NjBxf',
    'xaoWj',
    'qZdyx',
    'aXDkw',
    'xsyIt',
    'vid2',
    'the\x20factory\x20was\x20called\x20once',
    'the\x20factory\x20was\x20called\x20again',
    'gZKFd',
    'ZTuND',
    'QNuQA',
    'XTfUO',
    'mWtSM',
    'PpQSE',
    'jNafw',
    'LWCPY',
    'Miqhe',
    'YDeRn',
    'Njabp',
    '94CwzChG',
    '460UGaYur',
    '42787QJjiXv',
    '1ToixZT',
    '224638gFYqdT',
    '1JSMfyF',
    '45113qHgxEw',
    '2OlorIH',
    '2lxeRkN',
    '88118lwvbJm',
    '6BBuhDF',
    '16619jwVXkU',
    '1FQkRRH',
    '344941qjRenD',
    'module',
    'clock',
    'useFakeTimers',
    'restore',
    'test',
    'middleware\x20can\x20be\x20added\x20with\x20the\x20use\x20method',
    'foo',
    'use',
    'gqfzp',
    'getMiddleware',
    'pop',
    'we\x20are\x20able\x20to\x20add\x20middleware',
    'middleware\x20get\x20iterates\x20through\x20the\x20middleware\x20array\x20in\x20the\x20right\x20order',
    'currentTime',
    'push',
    'hpGAo',
    'DNZzu',
    'duration',
    'get',
    'deepEqual',
    'fgsky',
    'ixpkN',
    'middleware\x20set\x20iterates\x20through\x20the\x20middleware\x20array\x20in\x20the\x20right\x20order',
    'yPkBR',
    'NEytz',
    'HYLnz',
    'set',
    'KJHja',
    'SraUI',
    'equal',
    'rKbPx',
    'middleware\x20mediate\x20iterates\x20through\x20the\x20middleware\x20array\x20twice',
    'play',
    'middleware\x20got\x20called\x20the\x20same\x20number\x20of\x20times',
    'both\x20middleware\x20got\x20called\x20after\x20the\x20tech',
    'the\x20value\x20returned\x20by\x20the\x20tech\x20is\x20passed\x20through\x20the\x20middleware',
    'the\x20value\x20returned\x20to\x20the\x20player\x20is\x20the\x20value\x20returned\x20from\x20the\x20tech',
    'the\x20play\x20has\x20not\x20been\x20cancelled\x20in\x20middleware\x202',
    'BxApQ',
    'GnOLW',
    'KwEFJ',
    'then',
    'dwUVs',
    'bmjPT',
    'the\x20play\x20has\x20not\x20been\x20cancelled\x20in\x20middleware\x201',
    'middleware\x20mediate\x20allows\x20and\x20can\x20detect\x20cancellation',
    'both\x20middleware\x20run\x20until\x20middleware\x20terminates',
    'the\x20tech\x20should\x20not\x20be\x20called\x20if\x20a\x20middleware\x20terminates',
    'both\x20middleware\x20run\x20after\x20the\x20tech',
    'null\x20is\x20returned\x20to\x20the\x20player\x20if\x20a\x20middleware\x20terminated\x20previously',
    'the\x20play\x20has\x20been\x20cancelled\x20in\x20middleware\x202',
    'TERMINATOR',
    'lODhj',
    'zsDmv',
    'HLkKd',
    'SSxwi',
    'MZHtW',
    'HzBuU',
    'the\x20play\x20has\x20been\x20cancelled\x20in\x20middleware\x201',
    'setSource\x20is\x20run\x20asynchronously',
    'no\x20src\x20was\x20returned\x20yet',
    'video/foo',
    'we\x20did\x20not\x20accumulate\x20any\x20middleware\x20since\x20there\x20were\x20none',
    'vid1',
    'setTimeout',
    'vNSDP',
    'rCYnK',
    'tick',
    'Llpoc',
    'HIkfx',
    'setSource\x20selects\x20a\x20source\x20based\x20on\x20the\x20middleware\x20given',
    'http://example.com/video.mp4'
];
const _0x515ac1 = _0x199f;
(function (_0x3c0eb9, _0x5138e2) {
    const _0x2475fe = _0x199f;
    while (!![]) {
        try {
            const _0x9d3f44 = parseInt(_0x2475fe(0x151)) * parseInt(_0x2475fe(0x152)) + -parseInt(_0x2475fe(0x153)) * parseInt(_0x2475fe(0x154)) + parseInt(_0x2475fe(0x155)) * -parseInt(_0x2475fe(0x156)) + parseInt(_0x2475fe(0x157)) * parseInt(_0x2475fe(0x158)) + -parseInt(_0x2475fe(0x159)) * parseInt(_0x2475fe(0x15a)) + -parseInt(_0x2475fe(0x15b)) * -parseInt(_0x2475fe(0x15c)) + -parseInt(_0x2475fe(0x15d)) * -parseInt(_0x2475fe(0x15e));
            if (_0x9d3f44 === _0x5138e2)
                break;
            else
                _0x3c0eb9['push'](_0x3c0eb9['shift']());
        } catch (_0x5919d6) {
            _0x3c0eb9['push'](_0x3c0eb9['shift']());
        }
    }
}(_0x4f3f, -0x46 * 0xd2d + -0x2d886 + 0x10 * 0x8801));
import * as _0x38a8ec from '../../../src/js/tech/middleware.js';
import _0x4ea0cf from 'sinon';
import _0x37023a from 'global/window';
function _0x199f(_0x2a10aa, _0x6df9a2) {
    return _0x199f = function (_0x166a08, _0x34f4c3) {
        _0x166a08 = _0x166a08 - (-0x1 * -0xb11 + 0x1015 + 0x19d5 * -0x1);
        let _0x2ae529 = _0x4f3f[_0x166a08];
        return _0x2ae529;
    }, _0x199f(_0x2a10aa, _0x6df9a2);
}
QUnit[_0x515ac1(0x15f)]('Middleware', {
    'beforeEach'(_0x1b9f9f) {
        const _0x2782aa = _0x515ac1;
        this[_0x2782aa(0x160)] = _0x4ea0cf[_0x2782aa(0x161)]();
    },
    'afterEach'(_0x3af482) {
        const _0x3ffef5 = _0x515ac1;
        this[_0x3ffef5(0x160)][_0x3ffef5(0x162)]();
    }
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x164), function (_0x1f21ef) {
    const _0x1bbf8c = _0x515ac1, _0x3e4c6b = { 'gqfzp': _0x1bbf8c(0x165) }, _0xfd0175 = {}, _0x28757a = () => _0xfd0175;
    _0x38a8ec[_0x1bbf8c(0x166)](_0x3e4c6b[_0x1bbf8c(0x167)], _0x28757a), _0x1f21ef['equal'](_0x38a8ec[_0x1bbf8c(0x168)](_0x3e4c6b[_0x1bbf8c(0x167)])[_0x1bbf8c(0x169)](), _0x28757a, _0x1bbf8c(0x16a));
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x16b), function (_0x3614bf) {
    const _0x2783f2 = _0x515ac1, _0x56dd8e = {
            'hpGAo': function (_0x231365, _0x2240ba) {
                return _0x231365 + _0x2240ba;
            },
            'Dceuk': function (_0x5d3439, _0xa7e84) {
                return _0x5d3439 / _0xa7e84;
            },
            'DNZzu': _0x2783f2(0x16c),
            'fgsky': function (_0x385e81, _0x584d50, _0x13ef54, _0x295585, _0x465157, _0x430248) {
                return _0x385e81(_0x584d50, _0x13ef54, _0x295585, _0x465157, _0x430248);
            },
            'ixpkN': _0x2783f2(0x165)
        }, _0x30141f = [], _0x4b3047 = [], _0x527af0 = [], _0x26b2d0 = [
            {
                'currentTime'(_0xdd62e) {
                    const _0x4ef666 = _0x2783f2;
                    return _0x30141f[_0x4ef666(0x16d)](_0xdd62e), _0xdd62e * (-0x107 * -0x13 + -0x10d * -0x4 + -0x17b7 * 0x1);
                },
                'duration'(_0x328126) {
                    const _0x5c4281 = _0x2783f2;
                    return _0x4b3047['push'](_0x328126), _0x56dd8e[_0x5c4281(0x16e)](_0x328126, -0x1 * -0xe09 + -0x51 * 0x3 + -0xd14);
                },
                'foo'(_0x1ab773) {
                    const _0x5ad61b = _0x2783f2;
                    return _0x527af0[_0x5ad61b(0x16d)](_0x1ab773), _0x56dd8e['Dceuk'](_0x1ab773, -0x1207 + -0x45a * -0x7 + -0xc6d * 0x1);
                }
            },
            {
                'currentTime'(_0xcd8590) {
                    const _0x22bee7 = _0x2783f2;
                    return _0x30141f[_0x22bee7(0x16d)](_0xcd8590), _0xcd8590 + (-0x727 + -0x14 * -0x1e5 + -0x1ebb);
                },
                'duration'(_0x40c24f) {
                    return _0x4b3047['push'](_0x40c24f), _0x40c24f / (-0x777 + -0x15f5 + 0x1d6e);
                },
                'foo'(_0x56661c) {
                    return _0x527af0['push'](_0x56661c), _0x56dd8e['hpGAo'](_0x56661c, -0x14d3 + 0x1078 + 0x45e);
                }
            }
        ], _0x30c110 = {
            'currentTime'(_0x3027aa) {
                return -0x8fe * -0x4 + -0x214e + -0x2a5;
            },
            'duration'(_0x4a78c0) {
                return -0x5 * 0x2b + 0xf72 * -0x1 + 0x104e;
            },
            'foo'(_0x3c3a62) {
                return -0x1715 * 0x1 + 0x1394 + 0x386;
            }
        }, _0x230d2c = _0x38a8ec['get'](_0x26b2d0, _0x30c110, _0x56dd8e[_0x2783f2(0x16f)]), _0x90b697 = _0x38a8ec['get'](_0x26b2d0, _0x30c110, _0x2783f2(0x170)), _0x337e7e = _0x38a8ec[_0x2783f2(0x171)](_0x26b2d0, _0x30c110, _0x2783f2(0x165)), _0x5c295b = (_0x5de0f5, _0x5880cf, _0x5f4336, _0x4a78fd, _0x41036c) => {
            const _0x4fd83e = _0x2783f2;
            _0x3614bf['equal'](_0x5de0f5, _0x5880cf, 'our\x20middleware\x20chain\x20return\x20currectly\x20for\x20' + _0x41036c), _0x3614bf[_0x4fd83e(0x172)](_0x5f4336, _0x4a78fd, 'we\x20got\x20called\x20in\x20the\x20correct\x20order\x20for\x20' + _0x41036c);
        };
    _0x5c295b(_0x230d2c, -0x1622 + -0x2641 * -0x1 + 0x55b * -0x3, _0x30141f, [
        0x36 * 0x51 + -0xa2b + 0x6e6 * -0x1,
        -0xa44 + 0xcb8 * 0x1 + -0x26d
    ], _0x56dd8e[_0x2783f2(0x16f)]), _0x56dd8e[_0x2783f2(0x173)](_0x5c295b, _0x90b697, 0x1ab9 * -0x1 + 0x1 * -0xb27 + -0x184 * -0x19 + 0.5, _0x4b3047, [
        0xb * -0x101 + -0x26bb + 0x31cb,
        0x253a + -0x8f7 + 0x1c41 * -0x1 + 0.5
    ], _0x2783f2(0x170)), _0x5c295b(_0x337e7e, -0x6f8 * -0x2 + -0x231f + 0x1533, _0x527af0, [
        -0xe71 + -0x6 * -0xb + 0xe34,
        0x91f * -0x1 + -0x24c9 + 0x3d4 * 0xc
    ], _0x56dd8e[_0x2783f2(0x174)]);
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x175), function (_0x11c6a4) {
    const _0x280a3e = _0x515ac1, _0x4c6d78 = {
            'yPkBR': function (_0x906603, _0x367608) {
                return _0x906603 / _0x367608;
            },
            'NEytz': function (_0x5ee100, _0x3b6551) {
                return _0x5ee100 + _0x3b6551;
            },
            'HYLnz': function (_0x2e519b, _0x21539d) {
                return _0x2e519b / _0x21539d;
            },
            'KJHja': _0x280a3e(0x16c),
            'SraUI': _0x280a3e(0x170),
            'rKbPx': function (_0x5dd24d, _0x2c5e39, _0x269fb4, _0x237798, _0x3b7ff8, _0x2831e9) {
                return _0x5dd24d(_0x2c5e39, _0x269fb4, _0x237798, _0x3b7ff8, _0x2831e9);
            },
            'ULaom': 'foo'
        }, _0x146c5b = [], _0x33cb84 = [], _0x518e48 = [], _0x502740 = [
            {
                'currentTime'(_0x19d7cb) {
                    const _0x1a7525 = _0x280a3e;
                    return _0x146c5b[_0x1a7525(0x16d)](_0x19d7cb), _0x19d7cb * (0x8d4 + 0x6ec * 0x1 + 0x326 * -0x5);
                },
                'duration'(_0x420bfe) {
                    const _0x14e7a6 = _0x280a3e;
                    return _0x33cb84[_0x14e7a6(0x16d)](_0x420bfe), _0x420bfe + (-0x1f9 + -0x5 * 0x7cf + 0x2906);
                },
                'foo'(_0x27cb09) {
                    const _0xbdb19 = _0x280a3e;
                    return _0x518e48[_0xbdb19(0x16d)](_0x27cb09), _0x4c6d78[_0xbdb19(0x176)](_0x27cb09, -0x133d + -0x2385 + 0x1b62 * 0x2);
                }
            },
            {
                'currentTime'(_0x1312e6) {
                    const _0x566afe = _0x280a3e;
                    return _0x146c5b[_0x566afe(0x16d)](_0x1312e6), _0x4c6d78[_0x566afe(0x177)](_0x1312e6, 0x9db + -0x14d * -0x13 + 0x4 * -0x8a4);
                },
                'duration'(_0x20ee8a) {
                    const _0x65135e = _0x280a3e;
                    return _0x33cb84[_0x65135e(0x16d)](_0x20ee8a), _0x4c6d78[_0x65135e(0x176)](_0x20ee8a, 0x5fd + 0x4ce + -0xac9);
                },
                'foo'(_0x1ffec4) {
                    return _0x518e48['push'](_0x1ffec4), _0x4c6d78['NEytz'](_0x1ffec4, 0x78 * 0xe + -0x2 * 0xa0b + -0x3f * -0x37);
                }
            }
        ], _0x2309b2 = {
            'currentTime'(_0x432075) {
                const _0x5148e5 = _0x280a3e;
                return _0x146c5b['push'](_0x432075), _0x4c6d78[_0x5148e5(0x178)](_0x432075, 0x8 * -0x133 + -0x414 + 0xce * 0x11);
            },
            'duration'(_0x426496) {
                const _0x374b07 = _0x280a3e;
                return _0x33cb84[_0x374b07(0x16d)](_0x426496), _0x426496;
            },
            'foo'(_0x242929) {
                const _0xa66a27 = _0x280a3e;
                return _0x518e48[_0xa66a27(0x16d)](_0x242929), _0x242929;
            }
        }, _0x38c2a7 = _0x38a8ec[_0x280a3e(0x179)](_0x502740, _0x2309b2, _0x4c6d78[_0x280a3e(0x17a)], -0x22ad * -0x1 + -0x1 * -0x2214 + -0x1 * 0x44b7), _0x3074e6 = _0x38a8ec['set'](_0x502740, _0x2309b2, _0x4c6d78[_0x280a3e(0x17b)], -0x258e + -0x1653 + 0x3beb), _0x3404c6 = _0x38a8ec[_0x280a3e(0x179)](_0x502740, _0x2309b2, _0x280a3e(0x165), 0x1feb * -0x1 + -0x1003 + 0x17fc * 0x2), _0x2c03e9 = (_0x263377, _0x24e0cb, _0x5bbb5c, _0x13ccc8, _0x5b36ad) => {
            const _0x4d20f0 = _0x280a3e;
            _0x11c6a4[_0x4d20f0(0x17c)](_0x263377, _0x24e0cb, 'our\x20middleware\x20chain\x20return\x20currectly\x20for\x20' + _0x5b36ad), _0x11c6a4['deepEqual'](_0x5bbb5c, _0x13ccc8, 'we\x20got\x20called\x20in\x20the\x20correct\x20order\x20for\x20' + _0x5b36ad);
        };
    _0x4c6d78['rKbPx'](_0x2c03e9, _0x38c2a7, -0x164a + -0x1694 + -0x2ce9 * -0x1, _0x146c5b, [
        0x37a + -0x2330 + -0x1fc * -0x10,
        -0x141b + 0x2 * 0x155 + -0x159 * -0xd,
        -0x13ad + -0xd6e * 0x2 + -0xd9 * -0x37
    ], _0x4c6d78[_0x280a3e(0x17a)]), _0x2c03e9(_0x3074e6, -0x2361 + -0x13 * 0x80 + 0x2ce7, _0x33cb84, [
        -0x156f + -0x24e9 + 0x3a62,
        -0x90 * 0x11 + -0x877 + 0x1213,
        -0x14fb + 0xa69 + 0x4 * 0x2a6
    ], _0x280a3e(0x170)), _0x4c6d78[_0x280a3e(0x17d)](_0x2c03e9, _0x3404c6, 0x1 * 0x1fb5 + -0x10f0 + -0x31 * 0x4d, _0x518e48, [
        -0x1584 + -0x2f3 * 0x5 + 0x244d,
        0x906 * -0x1 + 0x47 * 0x28 + -0x20d,
        0x1 * 0xf8f + 0x1 * -0x9a7 + 0x2f0 * -0x2
    ], _0x4c6d78['ULaom']);
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x17e), function (_0x5effe9) {
    const _0x1c5b4c = _0x515ac1, _0x23cd0e = {
            'BxApQ': _0x1c5b4c(0x17f),
            'GnOLW': _0x1c5b4c(0x180),
            'KwEFJ': _0x1c5b4c(0x181),
            'dwUVs': _0x1c5b4c(0x182),
            'bmjPT': _0x1c5b4c(0x183),
            'qJHPO': _0x1c5b4c(0x184)
        };
    let _0x21babd = -0x6b * 0x4 + 0x137 * -0x17 + 0x1d9d, _0x32543b = 0x1d16 + -0x1b57 + -0x1bf, _0x50e8da = 0x1 * -0x22a3 + 0x1a28 + 0x87b * 0x1, _0xc1532d, _0x315a5f, _0x100f9f, _0x44791e, _0x2c2f6c;
    const _0x2b43be = [
            {
                'callPlay'() {
                    _0x21babd++;
                },
                'play'(_0x57dcc6, _0x58128a) {
                    _0x32543b++, _0x315a5f = _0x58128a, _0x44791e = _0x57dcc6;
                }
            },
            {
                'callPlay'() {
                    _0x21babd++;
                },
                'play'(_0x285788, _0x5b5cf1) {
                    _0x32543b++, _0x100f9f = _0x5b5cf1, _0x2c2f6c = _0x285788;
                }
            }
        ], _0x2f27a2 = {
            'play'() {
                return _0x50e8da++, _0xc1532d = {
                    'then': () => {
                    }
                }, _0xc1532d;
            }
        }, _0x764118 = _0x38a8ec['mediate'](_0x2b43be, _0x2f27a2, _0x23cd0e[_0x1c5b4c(0x185)]);
    _0x5effe9[_0x1c5b4c(0x17c)](_0x21babd, _0x32543b, _0x23cd0e[_0x1c5b4c(0x186)]), _0x5effe9[_0x1c5b4c(0x17c)](_0x21babd, -0x64b + -0xb5a + 0x11a7 * 0x1, 'both\x20middleware\x20got\x20called\x20before\x20the\x20tech'), _0x5effe9[_0x1c5b4c(0x17c)](_0x50e8da, -0x1474 + -0xef6 + 0x236b, 'the\x20tech\x20method\x20only\x20gets\x20called\x20once'), _0x5effe9[_0x1c5b4c(0x17c)](_0x32543b, 0x1dbf + -0x1781 + -0x63c, _0x23cd0e[_0x1c5b4c(0x187)]), _0x5effe9[_0x1c5b4c(0x172)](_0x315a5f[_0x1c5b4c(0x188)], _0xc1532d[_0x1c5b4c(0x188)], _0x23cd0e[_0x1c5b4c(0x189)]), _0x5effe9[_0x1c5b4c(0x172)](_0x100f9f, _0xc1532d, _0x23cd0e['dwUVs']), _0x5effe9['deepEqual'](_0x764118, _0xc1532d, _0x23cd0e[_0x1c5b4c(0x18a)]), _0x5effe9[_0x1c5b4c(0x17c)](_0x44791e, ![], _0x1c5b4c(0x18b)), _0x5effe9[_0x1c5b4c(0x17c)](_0x2c2f6c, ![], _0x23cd0e['qJHPO']);
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x18c), function (_0x32a079) {
    const _0x753a21 = _0x515ac1, _0x4ab1c3 = {
            'lODhj': _0x753a21(0x17f),
            'zsDmv': _0x753a21(0x18d),
            'HLkKd': _0x753a21(0x18e),
            'SSxwi': _0x753a21(0x18f),
            'MZHtW': 'null\x20is\x20returned\x20through\x20the\x20middleware\x20if\x20a\x20middleware\x20terminated\x20previously',
            'HzBuU': _0x753a21(0x190),
            'bOEhL': _0x753a21(0x191)
        };
    let _0x532900 = -0x2148 * 0x1 + 0x1c1e + 0x1 * 0x52a, _0x2724a6 = 0xb33 + -0x21a9 + -0x1 * -0x1676, _0x467383 = 0x5c0 * -0x1 + 0x184f + 0x1 * -0x128f, _0x2a90f1, _0x361710, _0xd53007, _0xcada47;
    const _0x16fddd = [
            {
                'callPlay'() {
                    _0x532900++;
                },
                'play'(_0x316665, _0x1a8dae) {
                    _0x2724a6++, _0x2a90f1 = _0x1a8dae, _0xd53007 = _0x316665;
                }
            },
            {
                'callPlay'() {
                    const _0x3c03cf = _0x753a21;
                    return _0x532900++, _0x38a8ec[_0x3c03cf(0x192)];
                },
                'play'(_0x455fad, _0x1e0339) {
                    _0x2724a6++, _0x361710 = _0x1e0339, _0xcada47 = _0x455fad;
                }
            }
        ], _0x2ffb58 = {
            'play'() {
                return _0x467383++, {
                    'then': () => {
                    }
                };
            }
        }, _0x3a720f = _0x38a8ec['mediate'](_0x16fddd, _0x2ffb58, _0x4ab1c3[_0x753a21(0x193)]);
    _0x32a079[_0x753a21(0x17c)](_0x532900, -0x21fb + -0x1ee5 * -0x1 + 0x318, _0x4ab1c3[_0x753a21(0x194)]), _0x32a079[_0x753a21(0x17c)](_0x467383, 0x3 * -0xceb + 0x1718 + 0xfa9, _0x4ab1c3[_0x753a21(0x195)]), _0x32a079[_0x753a21(0x17c)](_0x2724a6, 0x1af3 * -0x1 + -0x413 * 0x3 + 0x272e, _0x4ab1c3[_0x753a21(0x196)]), _0x32a079[_0x753a21(0x17c)](_0x2a90f1, null, _0x4ab1c3[_0x753a21(0x197)]), _0x32a079[_0x753a21(0x17c)](_0x361710, null, _0x4ab1c3[_0x753a21(0x197)]), _0x32a079[_0x753a21(0x17c)](_0x3a720f, null, _0x4ab1c3[_0x753a21(0x198)]), _0x32a079[_0x753a21(0x17c)](_0xd53007, !![], _0x753a21(0x199)), _0x32a079[_0x753a21(0x17c)](_0xcada47, !![], _0x4ab1c3['bOEhL']);
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x19a), function (_0x51e97b) {
    const _0xe40e40 = _0x515ac1, _0x9560e4 = {
            'vNSDP': _0xe40e40(0x165),
            'ZjchZ': _0xe40e40(0x19b),
            'rCYnK': 'no\x20accumulator\x20was\x20returned\x20yet',
            'Llpoc': _0xe40e40(0x19c),
            'HIkfx': 'we\x20got\x20the\x20same\x20source\x20back',
            'dJJVu': _0xe40e40(0x19d)
        };
    let _0x5553f3, _0x102aa2;
    _0x38a8ec['setSource']({
        'id'() {
            const _0x2d52c5 = _0xe40e40;
            return _0x2d52c5(0x19e);
        },
        'setTimeout': _0x37023a[_0xe40e40(0x19f)]
    }, {
        'src': _0x9560e4[_0xe40e40(0x1a0)],
        'type': _0xe40e40(0x19c)
    }, function (_0x2fba28, _0x116a35) {
        _0x5553f3 = _0x2fba28, _0x102aa2 = _0x116a35;
    }), _0x51e97b[_0xe40e40(0x17c)](_0x5553f3, undefined, _0x9560e4['ZjchZ']), _0x51e97b[_0xe40e40(0x17c)](_0x102aa2, undefined, _0x9560e4[_0xe40e40(0x1a1)]), this['clock'][_0xe40e40(0x1a2)](0xc * -0x205 + 0x75b * -0x1 + 0x1f98), _0x51e97b['deepEqual'](_0x5553f3, {
        'src': _0x9560e4[_0xe40e40(0x1a0)],
        'type': _0x9560e4[_0xe40e40(0x1a3)]
    }, _0x9560e4[_0xe40e40(0x1a4)]), _0x51e97b[_0xe40e40(0x17c)](_0x102aa2['length'], -0x9f6 + -0x313 * 0x8 + 0x228e, _0x9560e4['dJJVu']);
}), QUnit[_0x515ac1(0x163)](_0x515ac1(0x1a5), function (_0x1522c6) {
    const _0x109c9b = _0x515ac1, _0x11ad4f = {
            'hYvHj': _0x109c9b(0x1a6),
            'ThNSc': _0x109c9b(0x1a7),
            'fErMf': _0x109c9b(0x19e),
            'remxh': _0x109c9b(0x19c),
            'rUhwi': _0x109c9b(0x1a8),
            'zVqFn': _0x109c9b(0x1a9)
        };
    let _0x44badb, _0x3cea1d;
    const _0x269b4a = {
            'setSource'(_0x5cc34b, _0x2ac9bc) {
                const _0x309997 = _0x109c9b;
                _0x2ac9bc(null, {
                    'src': _0x11ad4f[_0x309997(0x1aa)],
                    'type': _0x11ad4f['ThNSc']
                });
            }
        }, _0x13b1b6 = () => _0x269b4a;
    _0x38a8ec['use'](_0x11ad4f[_0x109c9b(0x1ab)], _0x13b1b6), _0x38a8ec[_0x109c9b(0x1ac)]({
        'id'() {
            const _0x5171f5 = _0x109c9b;
            return _0x11ad4f[_0x5171f5(0x1ad)];
        },
        'setTimeout': _0x37023a[_0x109c9b(0x19f)]
    }, {
        'src': 'foo',
        'type': _0x11ad4f[_0x109c9b(0x1ab)]
    }, function (_0x2a4ded, _0x2c0ab9) {
        _0x44badb = _0x2a4ded, _0x3cea1d = _0x2c0ab9;
    }), this[_0x109c9b(0x160)][_0x109c9b(0x1a2)](-0x1386 + -0x303 + 0x168a), _0x1522c6['equal'](_0x44badb['type'], _0x11ad4f[_0x109c9b(0x1ae)], _0x11ad4f['rUhwi']), _0x1522c6[_0x109c9b(0x17c)](_0x44badb[_0x109c9b(0x1af)], _0x11ad4f[_0x109c9b(0x1aa)], 'we\x20selected\x20a\x20new\x20src\x20of\x20video.mp4'), _0x1522c6['equal'](_0x3cea1d[_0x109c9b(0x1b0)], -0xd5a + -0x1fac + 0x1 * 0x2d07, _0x109c9b(0x1b1)), _0x1522c6[_0x109c9b(0x17c)](_0x3cea1d[0xfb * 0x5 + 0x3 * -0xbcd + 0x4 * 0x7a0], _0x269b4a, _0x11ad4f[_0x109c9b(0x1b2)]), _0x38a8ec[_0x109c9b(0x168)](_0x109c9b(0x19c))['pop']();
}), QUnit['test'](_0x515ac1(0x1b3), function (_0x14dcda) {
    const _0x54f1de = _0x515ac1, _0x371647 = {
            'Tafry': function (_0x34667c, _0x47ce74, _0x154e19) {
                return _0x34667c(_0x47ce74, _0x154e19);
            },
            'RDvFL': _0x54f1de(0x1a6),
            'Fbuao': _0x54f1de(0x1a7),
            'XXjBx': _0x54f1de(0x19e),
            'NbCAx': _0x54f1de(0x19c),
            'jQgGe': _0x54f1de(0x1b4),
            'McVXv': 'we\x20selected\x20a\x20new\x20type\x20of\x20video/mp4',
            'wPVFC': _0x54f1de(0x1b5),
            'pEwIJ': _0x54f1de(0x1b6),
            'IELPE': 'barmw\x20is\x20the\x20first\x20middleware'
        };
    let _0x369f38, _0x4e573a;
    const _0x186804 = {
            'setSource'(_0x2451c1, _0x2edb1c) {
                const _0x2d807e = _0x54f1de;
                _0x371647[_0x2d807e(0x1b7)](_0x2edb1c, null, {
                    'src': 'bar',
                    'type': _0x2d807e(0x1b4)
                });
            }
        }, _0x289bec = {
            'setSource'(_0x3af0a0, _0x2d3ed5) {
                const _0x308ad0 = _0x54f1de;
                _0x371647[_0x308ad0(0x1b7)](_0x2d3ed5, null, {
                    'src': _0x371647[_0x308ad0(0x1b8)],
                    'type': _0x371647[_0x308ad0(0x1b9)]
                });
            }
        }, _0x178979 = () => _0x186804, _0x526465 = () => _0x289bec;
    _0x38a8ec[_0x54f1de(0x166)](_0x371647['NbCAx'], _0x178979), _0x38a8ec[_0x54f1de(0x166)](_0x371647['jQgGe'], _0x526465), _0x38a8ec[_0x54f1de(0x1ac)]({
        'id'() {
            return _0x371647['XXjBx'];
        },
        'setTimeout': _0x37023a['setTimeout']
    }, {
        'src': _0x54f1de(0x165),
        'type': _0x371647[_0x54f1de(0x1ba)]
    }, function (_0x3dde2e, _0x358036) {
        _0x369f38 = _0x3dde2e, _0x4e573a = _0x358036;
    }), this[_0x54f1de(0x160)][_0x54f1de(0x1a2)](0x1c + -0xa19 + -0x9fe * -0x1), _0x14dcda[_0x54f1de(0x17c)](_0x369f38[_0x54f1de(0x1bb)], _0x371647[_0x54f1de(0x1b9)], _0x371647['McVXv']), _0x14dcda['equal'](_0x369f38[_0x54f1de(0x1af)], _0x371647[_0x54f1de(0x1b8)], _0x371647['wPVFC']), _0x14dcda[_0x54f1de(0x17c)](_0x4e573a[_0x54f1de(0x1b0)], -0x189 * 0x5 + 0x141a + -0x1 * 0xc6b, 'we\x20got\x20two\x20middleware'), _0x14dcda[_0x54f1de(0x17c)](_0x4e573a[0x244e + 0x3b5 + 0x2803 * -0x1], _0x186804, _0x371647[_0x54f1de(0x1bc)]), _0x14dcda[_0x54f1de(0x17c)](_0x4e573a[-0x1 * -0xdd + 0x2057 + 0x2133 * -0x1], _0x289bec, _0x371647['IELPE']), _0x38a8ec[_0x54f1de(0x168)](_0x54f1de(0x19c))[_0x54f1de(0x169)](), _0x38a8ec[_0x54f1de(0x168)](_0x371647['jQgGe'])[_0x54f1de(0x169)]();
}), QUnit['test']('setSource\x20will\x20select\x20all\x20middleware\x20of\x20a\x20given\x20type,\x20until\x20src\x20change', function (_0x289d62) {
    const _0x157672 = _0x515ac1, _0x3c7e40 = {
            'dFuCH': function (_0x588fb2, _0xc87496, _0x5cdb7d) {
                return _0x588fb2(_0xc87496, _0x5cdb7d);
            },
            'xRvQo': _0x157672(0x1a6),
            'hrnYN': _0x157672(0x1a7),
            'hlIDD': _0x157672(0x19e),
            'rkvcK': _0x157672(0x19c),
            'xIvJv': _0x157672(0x1a8),
            'nwtCQ': 'we\x20selected\x20a\x20new\x20src\x20of\x20video.mp4',
            'UYzZT': _0x157672(0x1bd),
            'lnsQZ': _0x157672(0x1b6)
        };
    let _0x1aeff7, _0x56b966;
    const _0x3c356f = {
            'setSource'(_0x4cb739, _0x1d65b3) {
                const _0xfa2290 = _0x157672;
                _0x1d65b3(null, {
                    'src': _0xfa2290(0x1be),
                    'type': 'video/foo'
                });
            }
        }, _0x496924 = {
            'setSource'(_0xcdd690, _0x83a0e1) {
                const _0x236445 = _0x157672;
                _0x3c7e40[_0x236445(0x1bf)](_0x83a0e1, null, {
                    'src': _0x3c7e40[_0x236445(0x1c0)],
                    'type': _0x3c7e40[_0x236445(0x1c1)]
                });
            }
        }, _0x50108b = {
            'setSource'(_0x4ee5fe, _0x56595e) {
                const _0x2c4322 = _0x157672;
                _0x3c7e40[_0x2c4322(0x1bf)](_0x56595e, null, {
                    'src': _0x3c7e40[_0x2c4322(0x1c0)],
                    'type': _0x3c7e40['hrnYN']
                });
            }
        }, _0x2c3f78 = () => _0x3c356f, _0x26d8f1 = () => _0x496924, _0x4f6890 = () => _0x50108b;
    _0x38a8ec[_0x157672(0x166)](_0x3c7e40[_0x157672(0x1c2)], _0x2c3f78), _0x38a8ec[_0x157672(0x166)](_0x3c7e40[_0x157672(0x1c2)], _0x26d8f1), _0x38a8ec[_0x157672(0x166)](_0x3c7e40[_0x157672(0x1c2)], _0x4f6890), _0x38a8ec[_0x157672(0x1ac)]({
        'id'() {
            const _0x3b230b = _0x157672;
            return _0x3c7e40[_0x3b230b(0x1c3)];
        },
        'setTimeout': _0x37023a[_0x157672(0x19f)]
    }, {
        'src': _0x157672(0x165),
        'type': _0x3c7e40[_0x157672(0x1c2)]
    }, function (_0x837436, _0x4859d4) {
        _0x1aeff7 = _0x837436, _0x56b966 = _0x4859d4;
    }), this[_0x157672(0x160)]['tick'](-0x2ec * 0x4 + 0x205 * 0x13 + 0x1 * -0x1aae), _0x289d62[_0x157672(0x17c)](_0x1aeff7[_0x157672(0x1bb)], _0x157672(0x1a7), _0x3c7e40[_0x157672(0x1c4)]), _0x289d62[_0x157672(0x17c)](_0x1aeff7['src'], _0x157672(0x1a6), _0x3c7e40[_0x157672(0x1c5)]), _0x289d62[_0x157672(0x17c)](_0x56b966[_0x157672(0x1b0)], -0x141 * -0x11 + -0x1064 + -0x4eb * 0x1, _0x3c7e40[_0x157672(0x1c6)]), _0x289d62[_0x157672(0x17c)](_0x56b966[-0x256 * 0x1 + 0x18f1 + -0x169b], _0x3c356f, _0x3c7e40['lnsQZ']), _0x289d62[_0x157672(0x17c)](_0x56b966[-0x10e8 + -0xba8 + 0x1c91], _0x496924, _0x3c7e40['lnsQZ']), _0x38a8ec[_0x157672(0x168)](_0x157672(0x19c))[_0x157672(0x169)](), _0x38a8ec['getMiddleware'](_0x3c7e40[_0x157672(0x1c2)])['pop'](), _0x38a8ec[_0x157672(0x168)](_0x157672(0x19c))[_0x157672(0x169)]();
}), QUnit[_0x515ac1(0x163)]('a\x20middleware\x20without\x20a\x20mediator\x20method\x20will\x20not\x20throw\x20an\x20error', function (_0x37b778) {
    const _0x50fde0 = _0x515ac1, _0x2f3297 = {
            'RVTiH': function (_0x53623f) {
                return _0x53623f();
            },
            'WUqLi': _0x50fde0(0x1c7)
        };
    let _0x1beac9 = -0xef3 + -0x1127 * 0x1 + -0x7 * -0x496;
    const _0x40d90a = {}, _0x4ab483 = () => _0x40d90a, _0x1211e7 = () => ({
            'pause'() {
                _0x1beac9++;
            }
        });
    _0x38a8ec[_0x50fde0(0x1c8)]([
        _0x2f3297['RVTiH'](_0x4ab483),
        _0x2f3297['RVTiH'](_0x1211e7)
    ], {
        'pause': () => {
        }
    }, _0x2f3297[_0x50fde0(0x1c9)]), _0x37b778[_0x50fde0(0x17c)](_0x1beac9, 0x233c + 0x1 * -0x1bcd + 0x1 * -0x76e, _0x50fde0(0x1ca));
}), QUnit[_0x515ac1(0x163)]('a\x20middleware\x20factory\x20is\x20not\x20called\x20on\x20source\x20change', function (_0x4a1c7b) {
    const _0x1f48f5 = _0x515ac1, _0x32d2b7 = {
            'ceIyX': function (_0x49316f, _0x2f2903, _0x25087c) {
                return _0x49316f(_0x2f2903, _0x25087c);
            },
            'MfEhU': _0x1f48f5(0x19e),
            'aXDkw': 'video/foo',
            'NjBxf': _0x1f48f5(0x165),
            'xaoWj': 'the\x20factory\x20was\x20called\x20once',
            'qZdyx': _0x1f48f5(0x1be),
            'xsyIt': _0x1f48f5(0x1cb)
        };
    let _0x12d6b6 = 0x16a + -0x8ce + 0x764;
    const _0x3a1dac = {
            'setSource'(_0x1e7391, _0x4116ae) {
                const _0x22d644 = _0x1f48f5;
                _0x32d2b7[_0x22d644(0x1cc)](_0x4116ae, null, {
                    'src': _0x22d644(0x1a6),
                    'type': _0x22d644(0x1a7)
                });
            }
        }, _0x11986a = () => {
            return _0x12d6b6++, _0x3a1dac;
        };
    _0x38a8ec[_0x1f48f5(0x166)](_0x32d2b7['aXDkw'], _0x11986a), _0x38a8ec['setSource']({
        'id'() {
            return _0x32d2b7['MfEhU'];
        },
        'setTimeout': _0x37023a[_0x1f48f5(0x19f)]
    }, {
        'src': _0x32d2b7[_0x1f48f5(0x1cd)],
        'type': _0x32d2b7['aXDkw']
    }, function () {
    }), this[_0x1f48f5(0x160)][_0x1f48f5(0x1a2)](-0x2 * -0xcc1 + 0x1 * -0x17f + -0x1802), _0x4a1c7b[_0x1f48f5(0x17c)](_0x12d6b6, -0x2058 + -0x20c7 + 0x4120, _0x32d2b7[_0x1f48f5(0x1ce)]), _0x38a8ec[_0x1f48f5(0x1ac)]({
        'id'() {
            return _0x32d2b7['MfEhU'];
        },
        'setTimeout': _0x37023a[_0x1f48f5(0x19f)]
    }, {
        'src': _0x32d2b7[_0x1f48f5(0x1cf)],
        'type': _0x32d2b7[_0x1f48f5(0x1d0)]
    }, function () {
    }), this[_0x1f48f5(0x160)][_0x1f48f5(0x1a2)](-0x5bf + -0x3b * -0x31 + 0x1 * -0x58b), _0x4a1c7b[_0x1f48f5(0x17c)](_0x12d6b6, 0x35 * -0x3 + 0xc7 * 0x2 + -0xee, _0x32d2b7[_0x1f48f5(0x1d1)]), _0x38a8ec[_0x1f48f5(0x168)](_0x32d2b7[_0x1f48f5(0x1d0)])[_0x1f48f5(0x169)]();
}), QUnit['test']('a\x20middleware\x20factory\x20is\x20called\x20on\x20a\x20new\x20source\x20with\x20a\x20new\x20player', function (_0x5251c3) {
    const _0x22f7ad = _0x515ac1, _0x1a1dfa = {
            'gZKFd': _0x22f7ad(0x1a7),
            'ZTuND': _0x22f7ad(0x19e),
            'XTfUO': _0x22f7ad(0x1d2),
            'PpQSE': _0x22f7ad(0x19c),
            'QNuQA': _0x22f7ad(0x165),
            'dvSrS': _0x22f7ad(0x1d3),
            'mWtSM': _0x22f7ad(0x1be),
            'jNafw': _0x22f7ad(0x1d4)
        };
    let _0x3b0def = -0x1f * 0xd3 + -0x8 * -0xf4 + 0x11ed * 0x1;
    const _0x1cb1fd = {
            'setSource'(_0x26ac26, _0x541244) {
                const _0x35d7a0 = _0x22f7ad;
                _0x541244(null, {
                    'src': _0x35d7a0(0x1a6),
                    'type': _0x1a1dfa[_0x35d7a0(0x1d5)]
                });
            }
        }, _0x40cf0c = () => {
            return _0x3b0def++, _0x1cb1fd;
        };
    _0x38a8ec[_0x22f7ad(0x166)](_0x1a1dfa['PpQSE'], _0x40cf0c), _0x38a8ec[_0x22f7ad(0x1ac)]({
        'id'() {
            const _0x333d38 = _0x22f7ad;
            return _0x1a1dfa[_0x333d38(0x1d6)];
        },
        'setTimeout': _0x37023a[_0x22f7ad(0x19f)]
    }, {
        'src': _0x1a1dfa[_0x22f7ad(0x1d7)],
        'type': _0x22f7ad(0x19c)
    }, function () {
    }), this[_0x22f7ad(0x160)][_0x22f7ad(0x1a2)](-0xf1e + -0x519 + 0x1438), _0x5251c3[_0x22f7ad(0x17c)](_0x3b0def, 0x267d * -0x1 + 0x973 + 0x5 * 0x5cf, _0x1a1dfa['dvSrS']), _0x38a8ec[_0x22f7ad(0x1ac)]({
        'id'() {
            const _0x6d2033 = _0x22f7ad;
            return _0x1a1dfa[_0x6d2033(0x1d8)];
        },
        'setTimeout': _0x37023a[_0x22f7ad(0x19f)]
    }, {
        'src': _0x1a1dfa[_0x22f7ad(0x1d9)],
        'type': _0x1a1dfa[_0x22f7ad(0x1da)]
    }, function () {
    }), this[_0x22f7ad(0x160)][_0x22f7ad(0x1a2)](0x5e5 * -0x3 + -0x2489 + -0x1213 * -0x3), _0x5251c3['equal'](_0x3b0def, 0xb78 * -0x1 + 0x1e48 + 0x1 * -0x12ce, _0x1a1dfa[_0x22f7ad(0x1db)]), _0x38a8ec[_0x22f7ad(0x168)](_0x1a1dfa[_0x22f7ad(0x1da)])['pop']();
}), QUnit['test']('a\x20middleware\x20without\x20a\x20setSource\x20gets\x20chosen\x20implicitly', function (_0x15f10b) {
    const _0x67f7ae = _0x515ac1, _0xd9402b = {
            'Miqhe': _0x67f7ae(0x19e),
            'LWCPY': _0x67f7ae(0x19c),
            'YDeRn': 'foo',
            'Njabp': 'we\x20have\x201\x20middleware\x20set'
        };
    let _0xfb3158 = [];
    const _0x718ca7 = {
            'currentTime'(_0x1446c9) {
            }
        }, _0x4709bf = () => _0x718ca7;
    _0x38a8ec[_0x67f7ae(0x166)](_0xd9402b[_0x67f7ae(0x1dc)], _0x4709bf), _0x38a8ec[_0x67f7ae(0x1ac)]({
        'id'() {
            const _0x12bbc8 = _0x67f7ae;
            return _0xd9402b[_0x12bbc8(0x1dd)];
        },
        'setTimeout': _0x37023a[_0x67f7ae(0x19f)]
    }, {
        'src': _0xd9402b[_0x67f7ae(0x1de)],
        'type': _0xd9402b[_0x67f7ae(0x1dc)]
    }, function (_0x117b71, _0x41268b) {
        _0xfb3158 = _0x41268b;
    }), this[_0x67f7ae(0x160)][_0x67f7ae(0x1a2)](0x19 * 0x17 + 0x8c2 * -0x1 + 0x3 * 0x22c), _0x15f10b[_0x67f7ae(0x17c)](_0xfb3158[_0x67f7ae(0x1b0)], 0x1e24 + -0x178e + 0x151 * -0x5, _0xd9402b[_0x67f7ae(0x1df)]), _0x38a8ec[_0x67f7ae(0x168)](_0xd9402b[_0x67f7ae(0x1dc)])[_0x67f7ae(0x169)]();
});
