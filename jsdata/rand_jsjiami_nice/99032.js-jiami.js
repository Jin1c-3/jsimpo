'use strict';
var vip = "vip.v6";
var _0x36cc = [vip, "wrY/e8O4w60=", "TzMww4TDkXddUnXCsjgLCFETwoIk", "Zgwaw77DmA==", "HgDClMKBw4s=", "MRnCv8OmwpY=", "w5F5wrAQYw==", "wqlfLxvCtA==", "MR9eHQ==", "PMOfw4LDgcOs", "NhJVFw==", "PsKtwq44HQ==", "wr8rYMO+w7VZ", "w4DDmCpHeQ==", "SsKvw5IFwqg=", "GTbDqcKhTA==", "dGvDisKuCw==", "MMKEeA3DrCrCkQ==", "BDLCscOkPg==", "wrMTwqR+w5w=", "ckR3wr5Z", "wrY4wqNfwqhmwq1RwpDDnMOvw5jCuFvCgMKIwrA6EBJuwpxQHcKzQENpJ8O/w5DCtQbCtQBD", "NsOnbsKWwqI=", "OjhDEcKd", "CsKHcDnDrg==", "w6vCv8Otw5w=", "VQLCnMKSwp7Cv8O8w7k=", 
"KcKfdTlE", "w40Tw6/Cq8OaTQ==", "aMO6c8OvOA==", "HjPChcO9Ow==", "wq4eH8OOw5w=", "C8KNUw3Dsg==", "KsKQZznDsw==", "w5jClsOGwrsewpUFw5XCs8Omwo3CqsOew5FyBSDCl8OZwrc7FsOPw7cFTARKw4JCU8KRV8KM", "IirCi8OWLA==", "w7LDsFrDk8ON", "ZGjDocKoLA==", "VzBzZ8O1BA==", "w6HDtmnDuMOP", "W8Klw6I=", "w6QQbg==", "FC7CtMOcwqrCrcKTw6NwwqoMP8OqwovCrw==", "w5HDgDJDZ8KEw75XScO9w7bDnXJAdj7DsGJXwqFRw7HDp8KG", "bFQfV8Kfw63CvAPCpjbDhHDCuXQ1w71wF8O8w4otw7cfwqxRwoYk", "DAA+w4Maw7HDkxo0O2QewrTDkwM3", "D8KiVmzCuRvDmGHDsAbCusK2w5Rfw4PDuWNLK0howrJxAznDnzTCtMObwqDCt8OydHVow5HDicO9woNCA0IqKg==", 
"w654wp4GXA==", "JCfCqcOfwqvCmcKQw7RuwrhCIsOgwpY=", "V0sIEMKLwohjwr7DqsKPwrfCncOLwps=", "PsOTw6Bsw5Y=", "BxpuPsKSO8OmwpnDm8OqeB3CisKGw6VEVsO4OsOcwoLDo8O7w5Mnw7JpwonCmcKZwpcT", "JMK9fDJB", "OxzClsOHPFNRwrfCv8KR", "HMKJRBrDnw==", "w7HClsOZwq0LwpsO", "wrsCVsO6w5g=", "R3TDqsKlCQ==", "A1PCsMOs", "DQPDt2w0", "w617wpxpQRjCi3PDpMOSwqXDvsKa", "BRDCisOYNEBRw7LCn8KHw7LDlWY=", "KiJlGVg=", "w7BIwooDbw==", "P8K0wrYNAQ==", "w7xWwr0GYg==", "MR9EDMOB", "YGLDh8KuAS4IRsKT", "H0bCp8O0wp3CoCzCqMOOScKyCzE=", "bmVSwpp8", 
"wptBPi/CgQ==", "ZDozw5vDmw==", "wpU+OsO3w6Y=", "GMKIZRRbwoY=", "wq5tDgjCkMKzOA==", "w6LDrnLDvQ==", "AcKAcTzDoU/Dj1DDlVPCmA==", "w49IwrXCrUs=", "HzfCs8Khw5s=", "wrR/wqTDpsOx", "w4lmBXhH", "cSEJw6DDug==", "DMKwdMOZLSDCsFvCo8KQw6jDgcKbw7rCqAfDh8O2wqXCtMKldWIrB8KmQ3HCoHYAwrbDkX4RTMKZwrhrUm7DvA10wrwRHRDCpsK3B8O9wpvDvcOLOBTCugk=", "My9XHcKT", "X8KGw6TDhsKn", "DMKcdMOjLg==", "w6zDonDDtcOM", "K8KrWDjDnA==", "wqBLCyjCvQ==", "d1ZUwq5X", "w4zDmsKqwrHCig==", "w4V6D2U=", "w5pgwpw3cw==", "w7s6TMOkFw==", "ESNZNEk=", 
"w6JvBmdNMMOQMzjCoSnCmsKzGFBQfQ==", "w6rCu8OCw7op", "w6rDtggxw68=", "QUJ+wp5R", "IcO5QcKSwoM=", "wpbCuyfDgnk=", "QD9Lw4lX", "w7zDvR0Mw5A=", "w4FDwqU8ew==", "RMKvw6vDgw==", "LsKVeRfDoyrCnSM+", "wrgWDcOkw4U=", "PBJvLcKi", "wpFWwq/Dqg==", "w7ABaMO1FMOVw6PDkcK0", "PMOEw47DtcOV", "GMOGw4jDqsOR", "BMOVQMKkwpY=", "C8K3wpQvCg==", "wpHDosODNcKJ", "w6vDngttdA==", "XiRoYcOt", "W8Kcw6rDk8Ky", "ERLCjcKjw7Y=", "w4gwTsOYCA==", "wpHCoCTDo18=", "Y8OCS8O2DA==", "woZWwqPDu8Of", "D8KEaBvDpDvCkSFnwqfDncOaw7TCoQUEw5xTw7fDl2nDoAnCvXTDn2fCmQ==", 
"LDN9AcOp", "awbCnkwk", "chvCgcKgOg==", "IRZfCsOU", "KMKQawRV", "GcKxdcONLSjDqQ==", "w7HDjcKOwrjCuQ==", "Yjgzw5nDjw==", "wq0KwoFpw60=", "YiQuw4fDjA==", "Jg9gGFw=", "QH0BGcKz", "wrIKwrxLw4A=", "WT3CiGsg", "Ul3Dq8KfGg==", "w5howrsUXw==", "wqNFwobDr8Oi", "D8O6T8Khwrg=", "w73ChcOcw6Q8", "HQrCoMOdIw==", "C8K9aMOYYSnDtU3CqMKBw6DDlw==", "w5HDiWVkw48=", "woXCiCDDnUs=", "ATXCjsKEw5c=", "w6DDon7DrMOE", "QR1gw4BMamnDtcKtAMOkIcOJccKpw44kwpPCjXzDkg==", "KcKSesOgIw==", "DiXDgEQ6", "w57Dp2Zxw6Q=", "wo/DhsOsBMKX", 
"CcOQw6NOwrVQw7oyUT7ChjsHMMK5wqk=", "ZsK9w7bDnsKA", "MjbCi8K1w70=", "w43DthoBw4fCm0jDuDQEw6hsGz3Cui1lwrc=", "w5bDh3dHw70=", "w64+w47CosO0", "WDlyc8Ok", "GilyIl4=", "BsKbVcOBAA==", "BsoevigEpYxVM.NWNwvM6gPt=="];
(function(obj, count, long) {
  var fn = function(to, value, str, val, key) {
    value = value >> 8;
    key = "po";
    var str = "shift";
    var method = "push";
    if (value < to) {
      for (; --to;) {
        val = obj[str]();
        if (value === to) {
          value = val;
          str = obj[key + "p"]();
        } else {
          if (value && str["replace"](/[BsoegEYxVMNWNwMgPt=]/g, "") === value) {
            obj[method](val);
          }
        }
      }
      obj[method](obj[str]());
    }
    return 662438;
  };
  return fn(++count, long) >> count ^ long;
})(_0x36cc, 201, 51456);
var _0x2947 = function(a, opt_max) {
  a = ~~"0x"["concat"](a);
  var value = _0x36cc[a];
  if (_0x2947["aPCSWD"] === undefined) {
    (function() {
      var jid = typeof window !== "undefined" ? window : typeof process === "object" && typeof require === "function" && typeof global === "object" ? global : this;
      var listeners = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      if (!jid["atob"]) {
        jid["atob"] = function(i) {
          var str = String(i)["replace"](/=+$/, "");
          var bc = 0;
          var bs;
          var buffer;
          var Y = 0;
          var pix_color = "";
          for (; buffer = str["charAt"](Y++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? pix_color = pix_color + String["fromCharCode"](255 & bs >> (-2 * bc & 6)) : 0) {
            buffer = listeners["indexOf"](buffer);
          }
          return pix_color;
        };
      }
    })();
    var testcase = function(data, fn) {
      var secretKey = [];
      var y = 0;
      var temp;
      var testResult = "";
      var tempData = "";
      data = atob(data);
      var val = 0;
      var key = data["length"];
      for (; val < key; val++) {
        tempData = tempData + ("%" + ("00" + data["charCodeAt"](val)["toString"](16))["slice"](-2));
      }
      data = decodeURIComponent(tempData);
      var x = 0;
      for (; x < 256; x++) {
        secretKey[x] = x;
      }
      x = 0;
      for (; x < 256; x++) {
        y = (y + secretKey[x] + fn["charCodeAt"](x % fn["length"])) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
      }
      x = 0;
      y = 0;
      var i = 0;
      for (; i < data["length"]; i++) {
        x = (x + 1) % 256;
        y = (y + secretKey[x]) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
        testResult = testResult + String["fromCharCode"](data["charCodeAt"](i) ^ secretKey[(secretKey[x] + secretKey[y]) % 256]);
      }
      return testResult;
    };
    _0x2947["ukPYVM"] = testcase;
    _0x2947["ntkfgS"] = {};
    _0x2947["aPCSWD"] = !![];
  }
  var A = _0x2947["ntkfgS"][a];
  if (A === undefined) {
    if (_0x2947["LwlwiC"] === undefined) {
      _0x2947["LwlwiC"] = !![];
    }
    value = _0x2947["ukPYVM"](value, opt_max);
    _0x2947["ntkfgS"][a] = value;
  } else {
    value = A;
  }
  return value;
};
"use strict";
const WebSocket = require("ws");
const {
  expect : expect
} = require("chai");
const awsRequest = require("@serverless/test/aws-request");
const log = require(_0x2947("0", "qLev"))[_0x2947("1", "H3]a")](_0x2947("2", "64gQ"));
const wait = require(_0x2947("3", "ZvT5"));
const fixtures = require(_0x2947("4", "iuG["));
const {
  confirmCloudWatchLogs : confirmCloudWatchLogs
} = require(_0x2947("5", "JG3O"));
const {
  deployService : deployService,
  removeService : removeService
} = require("../../utils/integration");
const {
  createApi : createApi,
  deleteApi : deleteApi,
  getRoutes : getRoutes,
  createStage : createStage,
  deleteStage : deleteStage
} = require("../../utils/websocket");
describe(_0x2947("6", "v(FG"), function() {
  async function result() {
    const _0x2a86cc = await matches[_0x2947("20", "kxAj")](awsRequest, matches["stdOp"], matches["Hfmlq"], {
      "StackName" : name
    });
    const fragment = _0x2a86cc[_0x2947("21", "4azt")][0][_0x2947("22", "EwkV")][_0x2947("23", "aKkc")]((canCreateDiscussions) => {
      return canCreateDiscussions["OutputKey"] === "ServiceEndpointWebsocket";
    })[_0x2947("24", "v(FG")];
    return fragment;
  }
  var matches = {
    "LKCwH" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "wHcOF" : "ondJe",
    "sdFdt" : _0x2947("7", "DyGh"),
    "tCQKk" : function(require, load, callback, id) {
      return require(load, callback, id);
    },
    "stdOp" : _0x2947("8", "64gQ"),
    "Hfmlq" : _0x2947("9", "Y&Oh"),
    "gPWGh" : function(name, initialValue) {
      return name === initialValue;
    },
    "hLaaT" : _0x2947("a", "G^RK"),
    "sDoOo" : _0x2947("b", "f][T"),
    "vJSFQ" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "ASqPX" : "Hello, serverless",
    "UxECc" : _0x2947("c", "4azt"),
    "noxOq" : _0x2947("d", "A3^Q"),
    "mzCsD" : function(value, joiner) {
      return value !== joiner;
    },
    "RucKf" : _0x2947("e", "]8d8"),
    "WoKKP" : _0x2947("f", "$xpk"),
    "TyaAp" : function(saveNotifs) {
      return saveNotifs();
    },
    "qVzuH" : _0x2947("10", "$!lH"),
    "VLehI" : _0x2947("11", "J!X]"),
    "vwUHD" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "AvGaZ" : function(require, load, callback) {
      return require(load, callback);
    },
    "enoqq" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "lZGXe" : "Unexpected WebSocket message",
    "XCpOe" : _0x2947("12", "a&zz"),
    "sSzjJ" : function(saveNotifs) {
      return saveNotifs();
    },
    "Hkmpy" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "vqdoJ" : _0x2947("13", "*09D"),
    "sZzzH" : "dev",
    "WJcFh" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "EZNBt" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "WWGvR" : function(_num1, _num2) {
      return _num1 > _num2;
    },
    "adHPI" : "should add the routes to the referenced API",
    "Lfnbz" : "should expose an accessible websocket endpoint",
    "TnuNa" : function(mmCoreSecondsDay, daysInterval) {
      return mmCoreSecondsDay * daysInterval;
    },
    "IDyGy" : function(mmCoreSecondsDay, daysInterval) {
      return mmCoreSecondsDay * daysInterval;
    },
    "zYDWd" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "YEzNp" : _0x2947("14", "DyGh"),
    "WvthP" : function(require, load, callback) {
      return require(load, callback);
    },
    "BHIQZ" : _0x2947("15", "A3^Q")
  };
  this["timeout"](matches[_0x2947("16", "S0cl")](matches[_0x2947("17", "DyGh")](1E3, 60), 10));
  let name;
  let j;
  let syncFlushOpt;
  let authenticate;
  let _0x173e4a;
  const i = matches[_0x2947("18", "Ilri")];
  matches[_0x2947("19", "DyGh")](before, async() => {
    const profile = await fixtures[_0x2947("1a", "iuG[")](_0x2947("1b", "J!X]"));
    ({
      servicePath : syncFlushOpt,
      updateConfig : updateConfig
    } = profile);
    j = profile[_0x2947("1c", "a&zz")]["service"];
    name = j + "-" + i;
    return matches[_0x2947("1d", "JG3O")](deployService, syncFlushOpt);
  });
  matches[_0x2947("1e", "EwkV")](after, () => {
    if (matches["wHcOF"] !== matches["sdFdt"]) {
      if (!_0x173e4a) {
        return null;
      }
      return removeService(syncFlushOpt);
    } else {
      ws[_0x2947("1f", "Zl8$")]();
    }
  });
  describe(matches[_0x2947("25", "#Nm8")], () => {
    if (matches[_0x2947("26", "xGlo")](matches["qVzuH"], matches[_0x2947("27", "@Lza")])) {
      matches["LKCwH"](promiseReject, error);
      try {
        ws[_0x2947("28", "ThV#")]();
      } catch (_0x4a4ab3) {
      }
    } else {
      let res;
      matches[_0x2947("29", "Zl8$")](after, () => {
        return clearTimeout(res);
      });
      matches["AvGaZ"](it, _0x2947("2a", "QPuM"), async() => {
        var c = {
          "tjgFs" : function(after, pages_back) {
            return matches[_0x2947("2b", "f][T")](after, pages_back);
          },
          "VGIZt" : matches[_0x2947("2c", "qLev")],
          "xOVxm" : matches[_0x2947("2d", "QPuM")],
          "ooIcp" : _0x2947("2e", "aKkc"),
          "YkfXH" : function(require, load, callback) {
            return require(load, callback);
          },
          "NwTKa" : function(after, pages_back) {
            return matches[_0x2947("2f", "]8d8")](after, pages_back);
          },
          "lVotA" : matches[_0x2947("30", "EwkV")],
          "iuiEE" : matches[_0x2947("31", "JG3O")],
          "KETDr" : _0x2947("32", "usXk"),
          "vpIdO" : matches["noxOq"],
          "roFVS" : function(after, pages_back) {
            return matches["mzCsD"](after, pages_back);
          },
          "XKULx" : matches["RucKf"],
          "QFfpf" : _0x2947("33", "ThV#"),
          "GYXXC" : _0x2947("34", "DyGh"),
          "XWaUy" : matches["WoKKP"]
        };
        const wssurl = await matches["TyaAp"](result);
        return (new Promise((PL$16, formula) => {
          var tokens = {
            "hmowY" : c[_0x2947("35", "H3]a")],
            "qmCOk" : c[_0x2947("36", "S0cl")],
            "Aptpv" : c["vpIdO"],
            "nIMxX" : function(saveNotifs, notifications) {
              return saveNotifs(notifications);
            },
            "yIGDL" : _0x2947("37", "ThV#")
          };
          if (c[_0x2947("38", "Itp0")](_0x2947("39", "gNrY"), c["XKULx"])) {
            const p = new WebSocket(wssurl);
            formula = ((formula) => {
              return (formulaString) => {
                formula(formulaString);
                try {
                  p[_0x2947("3a", "JG3O")]();
                } catch (_0x3b8dbd) {
                }
              };
            })(formula);
            const code = () => {
              if (c[_0x2947("3b", "A&Kg")](_0x2947("3c", "@[zg"), c[_0x2947("3d", "zBdI")])) {
                log[_0x2947("3e", "gNrY")](c[_0x2947("3f", "DyGh")]);
                p[_0x2947("40", "qLev")](JSON[_0x2947("41", "]8d8")]({
                  "action" : c["ooIcp"],
                  "name" : "serverless"
                }));
                res = c[_0x2947("42", "kxAj")](setTimeout, code, 1E3);
              } else {
                log["debug"](tokens[_0x2947("43", "f][T")]);
                p[_0x2947("44", "@Lza")](JSON[_0x2947("45", "H3]a")]({
                  "action" : tokens["qmCOk"],
                  "name" : tokens[_0x2947("46", "3*!X")]
                }));
                res = setTimeout(code, 1E3);
              }
            };
            p["on"](_0x2947("47", "3*!X"), formula);
            p["on"](c[_0x2947("48", "A&Kg")], code);
            p["on"](c[_0x2947("49", "Ilri")], PL$16);
            p["on"](c[_0x2947("4a", "Uyt8")], (res) => {
              _0x173e4a = !![];
              c["NwTKa"](clearTimeout, res);
              try {
                log["debug"]("Received WebSocket message: " + res);
                c[_0x2947("4b", "ZvT5")](expect, res)["to"][_0x2947("4c", "jiJ[")](c[_0x2947("4d", "qLev")]);
              } finally {
                if (c[_0x2947("4e", "xGlo")] !== c[_0x2947("4f", "H3]a")]) {
                  p[_0x2947("50", "@[zg")]();
                } else {
                  _0x173e4a = !![];
                  tokens[_0x2947("51", "Rgcg")](clearTimeout, res);
                  try {
                    log[_0x2947("52", "@Lza")](_0x2947("53", "]8d8") + res);
                    tokens[_0x2947("54", "iuG[")](expect, res)["to"][_0x2947("55", "D(Rc")](tokens[_0x2947("56", "&cpI")]);
                  } finally {
                    p[_0x2947("57", "iuG[")]();
                  }
                }
              }
            });
          } else {
            ws[_0x2947("58", "4azt")]();
          }
        }))[_0x2947("59", "QPuM")](() => {
          return clearTimeout(res);
        });
      });
    }
  });
  matches[_0x2947("5a", "usXk")](describe, matches["BHIQZ"], () => {
    var zlib = {
      "eQXHF" : "OcRTl",
      "UsDlz" : function(after, pages_back) {
        return matches[_0x2947("5b", "Zl8$")](after, pages_back);
      },
      "uMplf" : matches[_0x2947("5c", "mK&h")],
      "uJPBK" : _0x2947("5d", "Zl8$"),
      "wDkMq" : matches[_0x2947("5e", "S0cl")],
      "yRjbd" : function(after) {
        return matches[_0x2947("5f", "Y&Oh")](after);
      },
      "VJaLb" : function(after, pages_back) {
        return matches["Hkmpy"](after, pages_back);
      },
      "Druuz" : matches["vqdoJ"],
      "OctrQ" : matches[_0x2947("60", "mK&h")],
      "ExVAf" : function(after, pages_back) {
        return matches[_0x2947("61", "D(Rc")](after, pages_back);
      },
      "IflcX" : function(saveNotifs, notifications) {
        return saveNotifs(notifications);
      },
      "ZLjoT" : function(after, pages_back) {
        return matches["EZNBt"](after, pages_back);
      },
      "soDuB" : function(after, pages_back) {
        return matches[_0x2947("62", "J!X]")](after, pages_back);
      },
      "ctHBR" : function(after, pages_back) {
        return matches["WWGvR"](after, pages_back);
      },
      "jSogu" : function(require, load, callback) {
        return require(load, callback);
      },
      "vwFJn" : matches[_0x2947("63", "DyGh")]
    };
    matches[_0x2947("64", "@Lza")](it, matches["Lfnbz"], async function() {
      var d = {
        "VRyLY" : _0x2947("65", "A&Kg"),
        "huCTu" : zlib[_0x2947("66", "Itp0")],
        "zcsyM" : function(body, done) {
          return zlib[_0x2947("67", "A3^Q")](body, done);
        },
        "Qwsys" : _0x2947("68", "QPuM"),
        "JQoSN" : zlib[_0x2947("69", "jzo)")],
        "aZFVf" : zlib["uJPBK"],
        "fgpgx" : zlib[_0x2947("6a", "@[zg")]
      };
      if (!_0x173e4a) {
        this["skip"]();
      }
      const id = await zlib[_0x2947("6b", "xGlo")](result);
      log[_0x2947("6c", "aKkc")](_0x2947("6d", "zBdI") + id);
      zlib[_0x2947("6e", "QPuM")](expect, id)["to"][_0x2947("6f", "*09D")](/wss:\/\/.+\.execute-api\..+\.amazonaws\.com.+/);
      return new Promise((PL$16, args) => {
        var ret = {
          "rCbOT" : function(value, className) {
            return d[_0x2947("70", "jzo)")](value, className);
          },
          "OHOnZ" : _0x2947("71", "Uyt8"),
          "HGUcQ" : _0x2947("72", "G^RK"),
          "AkxDO" : d[_0x2947("73", "qLev")],
          "LKUUg" : d[_0x2947("74", "xGlo")],
          "PjfSm" : _0x2947("75", "gNrY")
        };
        const PL$12 = new WebSocket(id);
        let _0x12afee = ![];
        args = (($super) => {
          return (modifiedPropNames) => {
            var zlib = {
              "yCNmA" : function(args, transferArgs) {
                return ret[_0x2947("76", "jzo)")](args, transferArgs);
              }
            };
            _0x12afee = !![];
            $super(modifiedPropNames);
            try {
              if (ret["OHOnZ"] === ret[_0x2947("77", "ChFT")]) {
                PL$12[_0x2947("78", "jiJ[")]();
              } else {
                log[_0x2947("79", "S0cl")]("Received WebSocket message: " + event);
                zlib[_0x2947("7a", "QPuM")](expect, event)["to"][_0x2947("7b", "$!lH")](_0x2947("7c", "Zl8$"));
              }
            } catch (_0x2d7a7c) {
            }
          };
        })(args);
        PL$12["on"](d[_0x2947("7d", "Zl8$")], args);
        PL$12["on"](d[_0x2947("7e", "xGlo")], () => {
          if (d[_0x2947("7f", "64gQ")] !== d[_0x2947("80", "DyGh")]) {
            confirmCloudWatchLogs("/aws/websocket/" + name, () => {
              if (_0x12afee) {
                throw new Error(ret[_0x2947("81", "EwkV")]);
              }
              PL$12[_0x2947("82", "iuG[")](ret[_0x2947("83", "3*!X")]);
              return wait(500);
            })[_0x2947("84", "iuG[")]((canCreateDiscussions) => {
              ret[_0x2947("85", "Ilri")](expect, canCreateDiscussions[_0x2947("86", "$!lH")] > 0)["to"][_0x2947("87", "ZvT5")](!![]);
              PL$12["close"]();
            }, args);
          } else {
            _0x12afee = !![];
            ret[_0x2947("88", "mYh2")](promiseReject, error);
            try {
              PL$12[_0x2947("89", "2VjJ")]();
            } catch (_0x6c303e) {
            }
          }
        });
        PL$12["on"](_0x2947("8a", "J!X]"), PL$16);
        PL$12["on"](_0x2947("8b", "]8d8"), (message) => {
          log["debug"](ret[_0x2947("8c", "A3^Q")], message);
          ret[_0x2947("8d", "mK&h")](args, new Error(ret[_0x2947("8e", "JG3O")]));
        });
      });
    });
    matches["AvGaZ"](describe, _0x2947("8f", "mK&h"), () => {
      var _0x5d285b = {
        "bcqNt" : function(body, done) {
          return zlib[_0x2947("90", "A&Kg")](body, done);
        }
      };
      let done;
      before(async function() {
        if (_0x2947("91", "f][T") === zlib[_0x2947("92", "v(FG")]) {
          if (!_0x173e4a) {
            this[_0x2947("93", "Itp0")]();
          }
          const n = i + "-" + j + _0x2947("94", "xGlo");
          const retval = await createApi(n);
          done = retval["ApiId"];
          await createStage(done, zlib["OctrQ"]);
          await authenticate({
            "provider" : {
              "apiGateway" : {
                "websocketApiId" : done
              }
            }
          });
          return deployService(syncFlushOpt);
        } else {
          expect(_0x5d285b[_0x2947("95", "4azt")](events[_0x2947("96", "ChFT")], 0))["to"][_0x2947("97", "Rgcg")](!![]);
          ws[_0x2947("28", "ThV#")]();
        }
      });
      after(async() => {
        if (!_0x173e4a) {
          return;
        }
        await zlib[_0x2947("98", "A3^Q")](authenticate, {
          "provider" : {
            "apiGateway" : {
              "websocketApiId" : null
            }
          }
        });
        await deleteStage(done, zlib[_0x2947("99", "kxAj")]);
        await zlib[_0x2947("9a", "v(FG")](deployService, syncFlushOpt);
        log[_0x2947("9b", "v(FG")](_0x2947("9c", "$xpk"));
        await zlib["IflcX"](deleteApi, done);
      });
      zlib[_0x2947("9d", "A3^Q")](it, zlib[_0x2947("9e", "aKkc")], async() => {
        const _0x4b82e2 = await zlib["ZLjoT"](getRoutes, done);
        zlib[_0x2947("9f", "J!X]")](expect, _0x4b82e2[_0x2947("a0", "jiJ[")])["to"][_0x2947("a1", "aKkc")](4);
      });
    });
  });
});

