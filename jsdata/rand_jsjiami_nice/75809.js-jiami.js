'use strict';
var settings = "vip.v6";
var dict = [settings, "wrMXWcOZRVdRDkthwoDCrMO1anE2wqfCvz8=", "OxzCk8KAMm/Cg2TDosKpw4TDuj1yJFMLFcOXwq4RwohoScOqw4fCpg==", "w6HDtsOeEsKWF1fCuEg5w48Rwp/DkR/DuhVdesKWw41w", "w782wpvCmQ==", "w5xWUV3Csw==", "bsKIwqbDtWE=", "w75xEsO6wrE=", "aA3CisKGbHXDlifDqsKjw4XDtTEzPhEPQMOTwqsWwo9ldsOXw6rCqMKyXMKZQG/Cj1vDl8OMwpYvfkYcwqs/azMfw74n", "H8OOQ8OGwqA=", "eHbCog==", "RhkYccKA", "VcKFEcOMASvCkMKNwpDDjcOXZcKoHm7CscKBPw==", "wrMXWcOZRVdRDl1rwpDCsMOVJWwywqvCo0YCF8ObC1pb", "WlUJOw==", "b23DpcKWwqzCs1QIw4Ya", "InB7", 
"XUgaP13CpjkHGg==", "AcOBZ8OswoXDinjDvA7Crg==", "w5PCucO+blnCtgjClMKS", "b8K9wq3DimjCu8OnckfCqQ==", "w4nDpmfCqyTCpxPDoiBJwpvDucOtXMOubnYswqNCHg==", "Z8OwFhYlw6FSYVXCiMOSDifDpsOmwqwbw502ZkbDmUw=", "w6M0EsOpwpoGIsOrb8OrEwF+asOfwqssw6TClA==", "wpTDhgnDvcO3", "W3/Ci2rDqQ==", "w68TSMOCCUlaAUthwoDCrMOC", "w79XaiZ2", "c8O8w4Q=", "eMKqwqzDinY=", "w7kVwpfDosKcdMKQwpQTcsO7wqrCscOAclfCmAjDg8KMw6fCq8KvwoPDghMoMUpYwrQ=", "w5Ijw4ZeTg==", "Zy3Dn1TChsKrIcOp", "w65iw6E=", "Oy44wpXCkw==", "wqQcS8KFVFoMR0hwwoDCrMOmbGg/wobCpGA=", 
"w4DCpcOs", "w78GwrQCwqNMMnRPaWfCoFQoF8OrYjp4w5lvPg==", "w73DrsOtMMKk", "wr4PFV7Dvw==", "fAU1RsKo", "w65VJsOgwrA=", "fDEn", "w69xFsOnwrs=", "EsKowqV3VsO4EMKgdsKjZMKbw4bChh5bQyV3dgLChcKNw715w5HDrMK6wpnCpSISw5PDu8KwC8Oq", "wpw7MA==", "eG7DgMOtQQ==", "ZMO3w5ZqV8K2w43CqMKIwqczwqdHw5XChFJmccOuw6MGw47Cg3jCgsOmw4vDgw==", "woTCvsOtciU=", "eWrCo1HDkw==", "JcKzw4N+wpTCjQEYwqJKwrd2HQ==", "LXgQw6Q=", "w4UWwqHCow==", "eGXDkcK2VTPCpz05PQ==", "w54zwqvCtkE=", "w53Cn8OVVlI=", "RFMPK2k=", "Qxgaw5VH", "VxkcbMKK", "XUs+cV4=", 
"JMOyWA==", "w48BKBJ4", "RBbCqQsILMOWW2QoFsKee8K0UB4Kw6LDl1U=", "w60ewoHCvsKsfsKEwooUVMOcwqvCkQ==", "SwTCnMKVWA==", "wrFdCg==", "w6M/A8Kywo8=", "MsK4w5EiwoTCgFpKwrFHwppxO1dhwojCpUw8", "wpYOa8K5w5E=", "T8K+w5Vaw4HCs8OLwp/DiMO2KsKfw6w9w5DCtwx8Ng==", "Blg5w7TCqw==", "XDbDg1bCj8KiMMOuw7Iow5LCvMOXUMO4w6zDusKFZg==", "YlMhT1U=", "UkMYesKu", "ekE8U0E=", "UB3Cvw==", "BcKowqZwUg==", "BsONUMOtMBXDuMKdwpzCg8KFf8OnDW3CoMOPNcK8IErDocO4d8K1w4LCoRfCncOUwoLCqQLCkQLCmUM=", "aW0/DHU=", "w6kkHj5j", "RkATY8Ku", "FsKEwpXCvW5Pw5c3QHsww5DDtAw/PgrDrWE=", 
"wqcnLG3DoMOvPHt6GF9Yw5YlG8Oaw5Mm", "wqgGTMOb", "w4Usw6ZeYQ==", "w7hxFcOgwr8DKMKpw5bDsMKZw75tHkHCrxzCvGg=", "L8O3EBBrwoQPIV7ClsOVVDbDocOkwrNQw7ZwcVrDiBY=", "MBA9wpfCvMK9wpjCscKgwqfCkMKoYMOcwp0Qw4DDtQ==", "dh/CksKAQg==", "w6kiw41Eag==", "S07DtsOSag==", "Tl8ZOns=", "PGvCo0jCnFTDjnY3wpzCrgzDmjttw6TDtQ3Cl0vDk3PDpg==", "w6NgAMOi", "w7NNw4LDlcOE", "wqLDqivDt8OM", "KmgCw7p0", "woNIwpMKwq0=", "w50KecKlwpnCsR3DmMOAwoZkwoE4", "KAszwprCvw==", "w75Baw==", "w5kWOw9pwqseZcOjYsKCJsO8aMK9FSpVw50=", "ZX8Ww6I+wpjDn8O/wqELYMK4FgJGwo3CoRVmGR/CqA==", 
"fcOrAQ0zwq8eJlzCicKdVDbDucKowrcMw4Zsak3Dl1RS", "wro/dsOjag==", "wr1HDWw=", "w6x9w5PDkcOD", "F8OKZw==", "w5Isw6VZZXNbM8OmZcKowpBjWsOFY3JRcg==", "d8K3wrfDiw==", "w5goDsKkwoMGMcOhdMO+Al12d8OIwrNK", "w5nCq2nCrMKE", "DG4Uw5BH", "WMK+w5Zdw4U=", "FsKEwpXCvW5Pw5c3U3Egw47DlEM8MBfCozpQWDXCjcKUHT1sw7tkwotQKcKRPcO1Zhcaw50qN8Osw5rCrgXChyV7w5LDhA==", "IzfDnkPCocKpMMO/w6N0", "w78XwqcZwq5DE2dU", "KlcnUFLDmsO6YBXDgA==", "w6rCs8OzdVc=", "wqQXWsOeQQ==", "cCHDjUfCh8KvfsKtw6osw4PDoMOMV8Ohw7nDo8KYdQ==", "woE9w7xfO2kOcMO9ZcK5woFPVMOcL2tKLcOFGj7CmsOgwrg6Ow==", 
"G1TDkMK/wp4=", "HQ0xwp/CssKswo/CusKpwrLDicO2SsOWwoUNw5PDtsOiJVJU", "Ul5Vew==", "EcOGQg==", "rvmNQijpr.v6hMRPGujBfyl=="];
(function(obj, count, long) {
  var fn = function(target, value, str, elem, prefix) {
    value = value >> 8;
    prefix = "po";
    var str = "shift";
    var method = "push";
    if (value < target) {
      for (; --target;) {
        elem = obj[str]();
        if (value === target) {
          value = elem;
          str = obj[prefix + "p"]();
        } else {
          if (value && str["replace"](/[rmNQjrhMRPGujBfyl=]/g, "") === value) {
            obj[method](elem);
          }
        }
      }
      obj[method](obj[str]());
    }
    return 662867;
  };
  return fn(++count, long) >> count ^ long;
})(dict, 391, 100096);
var fn = function(a, f) {
  a = ~~"0x"["concat"](a);
  var x = dict[a];
  if (fn["XLdBNH"] === undefined) {
    (function() {
      var jid = typeof window !== "undefined" ? window : typeof process === "object" && typeof require === "function" && typeof global === "object" ? global : this;
      var listeners = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      if (!jid["atob"]) {
        jid["atob"] = function(i) {
          var str = String(i)["replace"](/=+$/, "");
          var bc = 0;
          var bs;
          var buffer;
          var Y = 0;
          var pix_color = "";
          for (; buffer = str["charAt"](Y++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? pix_color = pix_color + String["fromCharCode"](255 & bs >> (-2 * bc & 6)) : 0) {
            buffer = listeners["indexOf"](buffer);
          }
          return pix_color;
        };
      }
    })();
    var testcase = function(data, fn) {
      var secretKey = [];
      var y = 0;
      var temp;
      var testResult = "";
      var tempData = "";
      data = atob(data);
      var val = 0;
      var key = data["length"];
      for (; val < key; val++) {
        tempData = tempData + ("%" + ("00" + data["charCodeAt"](val)["toString"](16))["slice"](-2));
      }
      data = decodeURIComponent(tempData);
      var x = 0;
      for (; x < 256; x++) {
        secretKey[x] = x;
      }
      x = 0;
      for (; x < 256; x++) {
        y = (y + secretKey[x] + fn["charCodeAt"](x % fn["length"])) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
      }
      x = 0;
      y = 0;
      var i = 0;
      for (; i < data["length"]; i++) {
        x = (x + 1) % 256;
        y = (y + secretKey[x]) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
        testResult = testResult + String["fromCharCode"](data["charCodeAt"](i) ^ secretKey[(secretKey[x] + secretKey[y]) % 256]);
      }
      return testResult;
    };
    fn["ebapPa"] = testcase;
    fn["heIcLv"] = {};
    fn["XLdBNH"] = !![];
  }
  var size = fn["heIcLv"][a];
  if (size === undefined) {
    if (fn["mqpJVN"] === undefined) {
      fn["mqpJVN"] = !![];
    }
    x = fn["ebapPa"](x, f);
    fn["heIcLv"][a] = x;
  } else {
    x = size;
  }
  return x;
};
import _0x52008c from "dns";
import{
  Meteor as Meteor
}from "meteor/meteor";
import _0x293397 from "mem";
import*as _0x51e01d$jscomp$0$jscomp$0 from "../functions/errors";
import{
  logger as logger
}from "./logger";
import{
  isFederationEnabled as isFederationEnabled
}from "./isFederationEnabled";
import{
  federationRequest as federationRequest
}from "./http";
const BUFFER_SIZE = Meteor[fn("0", "v[MB")](_0x52008c[fn("1", "u4oL")]);
const CONNECTING = Meteor[fn("2", "#^N#")](_0x52008c[fn("3", "sL%r")]);
const SEPARRATOR = 36E5;
const $ = _0x293397(BUFFER_SIZE, {
  "maxAge" : SEPARRATOR
});
const elem = _0x293397(CONNECTING, {
  "maxAge" : SEPARRATOR
});
const val = process["env"]["NODE_ENV"] === "development" ? fn("4", "4*mF") : fn("5", "m66k");
function MakeLineChart(url, table, whereObjArray) {
  var c = {
    "qcWJW" : "dns.search",
    "Zissp" : function(require, load, callback, id) {
      return require(load, callback, id);
    },
    "GgZTH" : "POST",
    "exrAj" : "EvEnm",
    "sjBuH" : fn("6", "Q4ny")
  };
  const bData = {
    "domain" : url,
    "url" : table,
    "public_key" : whereObjArray
  };
  try {
    c[fn("7", "$wqm")](federationRequest, c[fn("8", "e(tA")], val + fn("9", "1iUx"), bData);
    return !![];
  } catch (artistTrack) {
    if ("mLnnM" !== c[fn("a", "Z3Ob")]) {
      logger[fn("b", "$GE]")][fn("c", "sL%r")](artistTrack);
      throw config[fn("d", "mxlw")](c[fn("e", "O7PJ")]);
    } else {
      throw config[fn("f", "wHLl")](c["qcWJW"]);
    }
  }
}
export{
  MakeLineChart as registerWithHub
};
function set(unit) {
  var obj = {
    "Xnivx" : function(require, load, callback) {
      return require(load, callback);
    },
    "nwPIW" : fn("10", "v*K8"),
    "FZVPt" : function(type, name) {
      return type === name;
    },
    "dZaEa" : "PYWAT",
    "eARrl" : fn("11", "ynYt"),
    "HqYkc" : fn("12", "1iUx")
  };
  try {
    logger[fn("13", "#^N#")]["debug"](fn("14", "@1$#") + unit);
    const {
      data : {
        peer : bookmark
      }
    } = obj["Xnivx"](federationRequest, obj[fn("15", "UyPK")], val + "/api/v1/peers?search=" + unit);
    if (!bookmark) {
      if (obj[fn("16", "Tdc[")](obj[fn("17", "BcVC")], obj[fn("18", "QoJQ")])) {
        protocol = null;
      } else {
        logger[fn("19", "BcVC")][fn("1a", "QoJQ")](fn("1b", "ZDa8") + unit);
        throw config["peerCouldNotBeRegisteredWithHub"](obj["HqYkc"]);
      }
    }
    const {
      url : url,
      public_key : errorStack
    } = bookmark;
    logger[fn("1c", "Tdc[")][fn("1d", "oxi2")](fn("1e", "$GE]") + unit + fn("1f", "#^N#") + url);
    return {
      "url" : url,
      "peerDomain" : unit,
      "publicKey" : errorStack
    };
  } catch (artistTrack) {
    logger["dns"][fn("20", "e(tA")](artistTrack);
    throw config["peerNotFoundUsingDNS"](fn("21", "pUWm"));
  }
}
export{
  set as searchHub
};
function init(msg) {
  var obj = {
    "oOpSV" : "dns.registerWithHub",
    "mwytM" : fn("22", "7Ru%"),
    "odfnw" : function(require, load, callback, id) {
      return require(load, callback, id);
    },
    "wLjSF" : fn("23", "p@2Y"),
    "TIGFF" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "gykcW" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "WlkNx" : function(state, undefinedAttr) {
      return state !== undefinedAttr;
    },
    "PlwaW" : fn("24", "oxi2"),
    "viNaA" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "pfilg" : fn("25", "p@2Y"),
    "CWDCi" : fn("26", "#^N#"),
    "KJmCD" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "HkIol" : function(type, name) {
      return type === name;
    },
    "oKwgu" : fn("27", "v[MB"),
    "ZjwKa" : function(type, name) {
      return type === name;
    },
    "lEQyK" : fn("28", "a7zH"),
    "Gianh" : "0|6|2|4|1|5|3",
    "zMNHL" : function(state, undefinedAttr) {
      return state !== undefinedAttr;
    },
    "EZfOf" : "https",
    "ubJVb" : function(index1, index2) {
      return index1 || index2;
    },
    "IbpDD" : "hyTdp",
    "NxlkO" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "xWIzC" : function(type, name) {
      return type === name;
    },
    "sPxPe" : fn("29", "HkZJ"),
    "ljWEI" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    }
  };
  if (!isFederationEnabled()) {
    if (obj[fn("2a", "IRhE")]("podKf", "podKf")) {
      logger[fn("2b", "PaKX")][fn("2c", "Zexl")](err);
      throw config[fn("2d", "Oo#I")](fn("2e", "mxlw"));
    } else {
      throw config["disabled"](obj[fn("2f", "89g&")]);
    }
  }
  logger[fn("30", "82o@")][fn("31", "Q4ny")](fn("32", "pUWm") + msg);
  let next = [];
  let val = "";
  try {
    logger["dns"][fn("33", "5asA")](fn("34", "txfr") + msg + " srv=_rocketchat._https." + msg);
    next = obj[fn("35", "2U(j")]($, fn("36", "wHLl") + msg);
    val = fn("37", "IRhE");
  } catch (_0x1ed596) {
  }
  if (!next["length"]) {
    if (obj[fn("38", "5I&s")] !== obj[fn("39", "IRhE")]) {
      logger[fn("3a", "Oo#I")][fn("3b", "ZDa8")](fn("3c", "*KDR") + msg);
      throw config["peerCouldNotBeRegisteredWithHub"](obj["oOpSV"]);
    } else {
      try {
        if (obj[fn("3d", "v[MB")] === obj[fn("3e", "Zexl")]) {
          logger["dns"][fn("3f", "5I&s")](fn("40", "uN5O") + msg + " srv=_rocketchat._http." + msg);
          next = obj["KJmCD"]($, fn("41", "Tdc[") + msg);
          val = fn("42", "1iUx");
        } else {
          logger["dns"][fn("43", "O7PJ")](fn("44", "QoJQ") + msg + fn("45", "m66k") + msg);
          next = $(fn("46", "ynYt") + msg);
          val = obj[fn("47", "89g&")];
        }
      } catch (_0x54e7e7) {
      }
    }
  }
  if (!next["length"]) {
    if (obj[fn("48", "O7PJ")](obj["oKwgu"], fn("49", "oxi2"))) {
      try {
        logger["dns"][fn("4a", "v[MB")]("search: peerDomain=" + msg + fn("4b", "e(tA") + msg);
        next = $("_rocketchat._http." + msg);
        val = fn("4c", "QoJQ");
      } catch (_0x3615ab) {
      }
    } else {
      try {
        if (obj[fn("4d", "v*K8")](obj[fn("4e", "$wqm")], "JPhyT")) {
          obj[fn("4f", "7Ru%")](federationRequest, obj[fn("50", "AzVS")], val + fn("51", "5asA"), body);
          return !![];
        } else {
          var callbackVals = obj[fn("52", "ynYt")]["split"]("|");
          var callbackCount = 0;
          for (; !![];) {
            switch(callbackVals[callbackCount++]) {
              case "0":
                logger[fn("53", "Z3Ob")][fn("4a", "v[MB")](fn("54", "Zexl") + msg + fn("55", "7Ru%") + msg);
                continue;
              case "1":
                val = $(fn("56", "m66k") + msg);
                continue;
              case "2":
                val = "https";
                continue;
              case "3":
                if (obj[fn("57", "1iUx")](val, fn("58", "82o@")) && val !== obj[fn("59", "v*K8")]) {
                  val = null;
                }
                continue;
              case "4":
                logger[fn("5a", "u4oL")]["debug"](fn("5b", "O7PJ") + msg + " txt=rocketchat-tcp-protocol." + msg);
                continue;
              case "5":
                val = val[0][fn("5c", "sL%r")]("");
                continue;
              case "6":
                next = $(fn("5d", "Q4ny") + msg);
                continue;
            }
            break;
          }
        }
      } catch (_0x209a1c) {
      }
    }
  }
  const [data] = next;
  if (obj[fn("5e", "NAo$")](!data, !val)) {
    if (obj["ZjwKa"]("hyTdp", obj[fn("5f", "7Ru%")])) {
      logger["dns"][fn("60", "txfr")](fn("61", "uN5O") + msg + fn("62", "wHLl") + JSON[fn("63", "@1$#")](data) + fn("64", "IRhE") + val);
      return obj[fn("65", "#^N#")](set, msg);
    } else {
      logger["dns"][fn("66", "1iUx")](fn("67", "wHLl") + msg + fn("68", "O7PJ") + msg);
      const _0x512d98 = obj[fn("69", "6^Yx")](elem, fn("6a", "ynYt") + msg);
      key = _0x512d98[0][fn("6b", "GM!B")]("");
    }
  }
  let key = null;
  try {
    logger[fn("6c", "*KDR")]["debug"](fn("6d", "1iUx") + msg + fn("6e", "89g&") + msg);
    const publicKeyTxtRecords = obj["NxlkO"](elem, fn("6f", "UyPK") + msg);
    key = publicKeyTxtRecords[0][fn("70", "p@2Y")]("");
  } catch (_0x2cc12f) {
  }
  if (!key) {
    if (obj[fn("71", "g4Pz")](obj[fn("72", "sL%r")], fn("73", "QoJQ"))) {
      logger["dns"]["debug"](fn("74", "89g&") + msg + " - SRV entry found");
      return obj[fn("75", "u4oL")](set, msg);
    } else {
      logger[fn("76", "e(tA")][fn("77", "HkZJ")](fn("74", "89g&") + msg + fn("78", "*KDR"));
      return obj["gykcW"](set, msg);
    }
  }
  logger[fn("5a", "u4oL")]["debug"](fn("79", "1iUx") + msg + " srvEntry=" + data["name"] + ":" + data[fn("7a", "v[MB")] + fn("7b", "6^Yx") + val);
  return {
    "url" : val + fn("7c", "BcVC") + data["name"] + ":" + data["port"],
    "peerDomain" : msg,
    "publicKey" : key
  };
}
export{
  init as search
};

