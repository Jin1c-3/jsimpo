'use strict';
var vip = "vip.v6";
var _0x3fc0 = [vip, "wqxhwrnCgyI=", "U3vDnRU3", "wq3DncK8wpvClw==", "DMKnw5zDkVQ=", "w78FCBFFczZeMMOgaV8=", "wplyw51vPQ==", "fH7DqncOw6V4wqIew6TCvMKy", "wprCo8K+w4YY", "GBHDi8O1Dg==", "GsOqw7XCpUfCo8OEwoYdAg==", "w6zDicOBU8ObwrDClMK4WA==", "wrVOw495Bw==", "w7YVw4JhwrhccXM=", "w6RtwqjCjzd3", "Lg/CvsOh", "LxvCrsOww6I=", "LAPCqcOiw7o=", "OsKPXMOeZA==", "w5vClMOBW8O3w5vCgw==", "wqnDg8KIwqjChMOBw4XDtcKe", "L8KGPlIB", "KC/Dijpd", "w7HCn10SKVnDpMOv", "aWJjHMKN", "w6XDuDgnYA==", "wpHClgjCicOv", "w5PDr23DqsK+w6BZwq4FPA==", 
"fG5jGcKQw6cf", "D8O6w6nCsFbCuMOHwo0d", "DMO+w7g4", "MsOdN3fDvMOrT3NkAmpEFE57woJKwqrCr8Olw4UUw6bDnWweHH1UE8ODwrEaNRQv", "w4fDsSrCqm0=", "JsOrw6XCp3E=", "w4nChMOHRcOQw5nCi3Q=", "wq7Dig7DvG0BWFQUw5xgwoFt", "w5bDoQY=", "w63CrcOnI8KAcMKQ", "GsOnw6jCpk7CtcKIwpYdFMK2w7dGwog7wqHCvnRtOCdEJsK1TMKaWEfCucO+w7zDhmLCtcOcwq9Bw4fCn8Kbw73DpWjCsmALw44Nw5vDq8KJwpDDrHRIBcK8KCzCnsOjDxI=", "PSXCgcOnw54=", "wr7ChcK0FcOg", "wqwRUg1j", "dghPems=", "wpfDhiLDq0c=", "M8KDw6bDqEI=", "CDt9IsOR", "em13DcK0", "w5TDpivCpGF1w4hiHQ==", 
"EMK5ecOPahx1w6Fqw54bw4tqwrR5BcKtwpDDgsKMw6PDucKgADHDlQDCtgEUP3U=", "Bg1Iw5gbwo/CpMKIYWDClMOlworDh2hlw43CtmIrKUFgwqLCrsKUw5XDlT7CjsOVw7U=", "wp0awpPCpiHClDTCr8Kewqg=", "woHDl8KLwq4=", "bmnDtjsKw6Bnw70Mw6I=", "w5FfwojDgsObw49fYsOd", "wqLDkg/Dt2Fc", "DkfDucO3", "L8ODDsOWf8OIZMO6wrvCiVjDpwLDicOiI3/DuADDlMKvw6xKwplnWwxXw71owrnCmMOITxXCvMKbSMKfbgIqSyg=", "wrkJwqU1SMKAwpvCshrDrCd6wpYFwqPCgMKIwqpZw4pHw45iRcO4wrwgworDlRB7w5bDlMOiDsKdQMKBwrwMwoJlN8Knb1REKsOKwoHCr8K4eg8=", "cEzCsz/CnMKYBATCsMKtWQ==", "wrrDhcOLwq7CkcObw57CtsOc", 
"wqV4wqLCjy1hE0g=", "w47CmMOBXsOq", "dit2dg==", "HMKEw6PChQ==", "wofCmMOdW8Oxw5vCh2UdB8K0w4I=", "EwdJw7sbw4PCpcKCc37ClMOiwo3CqHV0w4TCvXUwfWVnwprCqQ==", "w6wWwrw0wq8Wwrpxwr1GTSY=", "w6HDnUzCpsOhw4JUwrkCJsKTIMKOAw==", "G8Ogw7LCp0fDv8OawoYfBMOzw7RAw4k8wr3Cv2NwazJDO8KzRMOGcEjCqMOk", "UMOeInPDmcOuQ2VlSwURD15mwoVCw6Q=", "dsKBw4cHw4FGE8OP", "w5PDonDDqcK3w7YVwrgDP8KXJsKTGcOWw4nDtsKgRlPDrFo4wrEcw5l7Ux0Nw7XCrgJNw7EyYMKpOMONw4nDscOq", "wqMECRJGdHdZLMO/d0PDl8OhVmFfw7vChUAFwoQLCsOsw6DDtTTDqcKTw7zDo8OYDwpkVWU8DMOe", 
"PsKzLXzCgVjCphtZw6DDhsKPwpbDsirDlhkTE2PCnzbCnV9Yw47DmW5VwrHDq8KJIcKew4F0wrjDqsK9RcOlwq0nS8KudRQow43CogcEBcOpTTLCi2DDvsO1wq/Dn8K8ZsODHiTChsKN", "wo3CiinChcOMTAgew7rCvsKnEmnCqsOQA1ssehxVwqnDt8OHScOiw53DikwCw41Bw5LDuMK2JEU0FVDCrsKTw4rCocOxMlBxV8KBw7bDvcK4MMOZCcOqwowXw63Cg3RqwqMfd8OvBSjCmk3ClkvCh8OPPcKNAw==", "Rxp7PnHDicK8w6Abw6LCgsKtNxtzwowkZmkmw75hasOEMgFHw7XCuCjDkcOlWcO2wpjDj8KRZsO/w77DlTZEw4PCmkkCJGfCusOPwqBgGh/DvBrDkcOxekjCncOsTMKpw4opwpJUw7Q=", "wrzDnsKJwr7CnMOMworDssKKOm9xwoZbdcOGIMOtwqY5w7Evw7h3w7vDvcOhV8OKVkMfBsKl", 
"Gxdo", "wocmIjZe", "w5vClMOHfcOsw5fCkHgQDcKo", "HgVt", "w43Cs8O6VcO/", "w6saw51pwqY=", "RxdmPXjDn8Oww6QMw7U=", "wqccwrLDjHDCgF4=", "w4bDv3HDv8Kvw7tawqUF", "HzjDjMOVFw==", "w6fDhhzCrGc=", "wrUaAwleYw==", "HsOmw7kxwoI=", "w4fCmMO4f8Ob", "BznCisOXw6U=", "wqvDmMKBwpPCpQ==", "w5JEw7lRJA==", "ZDtwaBUQw7s=", "W8OlSBgtI23Cm2Y=", "w4VRwofCqycVNlE=", "w7rCvsOlBMKFfMKBw4w=", "OB9xFw==", "GMKHw7jDnl4=", "GMK1RsOKSg==", "NsOEw50WwoU=", "wqtkw7NMIg==", "w7MRw5x+wrlPaXPCmMOU", "wrnCn8Kjw6AcOMKMw7Vl", "w4TDi8O2aMO3", 
"w7d6wqHCiCdlBFk=", "G8OXwqp7", "wqrDh8KTwqrCnA==", "Wg1TWBc=", "CMOYwqxOwpU=", "w6nCpsOgF8Kkw6jCh2MAAcKuw5gSwpA=", "VhlOG3o=", "O8KjAGXCjw==", "ZsOnwq7DjBc=", "w6nChMOHRcOSw5nCi3MQCcKcw4QTwp3ChQvCqWg=", "I8KnAQ==", "wrEDJTd7", "XHnDsCUjw7Nmw7obw7DCjsKvVcORw6JScsO1", "wqYQwpjDnUE=", "w57CiWkyAA==", "ZDtwaBkBw7LDksOOw4Y=", "IcKAw5AXw4lQGg==", "w6sRwrxtwroIwqYlwq8=", "w4fDr8O+dsOE", "w4nCtMO3SsOt", "wrUdEwZG", "wp0/NyFB", "woBHwpzCrQ==", "GFzDo8Kl", "GMKfw7vDplk=", "MVHCiAPCkg==", "w7rCp8OLAcKD", "wrUNwqjChTQ=", 
"w5HCiyjChsOPS0kLw7fCtcOpAA==", "GyvDmRpJ", "f8OwwpTCpQbDjsOWEEIuWV8=", "AcOHw7Qiwrc=", "BMK5f8Ouagxqw6t6w4Y=", "w7MRw5x+wrVeYA==", "w7fCmiEDXMOowq7DniQ=", "J8O4w57Ci3o=", "w4nCnsOwfcOP", "worCj8KzDcOk", "wpVFd8OjIQI=", "wprChyPCgA==", "w6UFw5tpwrA=", "w6PCtsOCP8Kk", "w40nw79Owrc=", "wplvw7AF", "wr4+Q24fwojDlUZ0AMO1w53CvXU=", "c8OADEvDsg==", "w7YMw6xkwr4=", "wplXwrzCljk=", "OsOlw6I=", "w7DCgAwweQ==", "YcOJGmrDng==", "w6HDv2vDtMKXw7NYwqkSLsKhPMKPDsKCw5TDscKr", "wrTDgRjDr3xMVQ==", "wpZGfMOuIRggdBU=", 
"cMODdz0y", "wqE9NwlM", "Hh1dEHo=", "TcOyagoS", "w63Ci8OvBsKN", "N8KTw4cPw5RA", "eWnDoT0=", "w43CgMOGTMOy", "w7hOw4FJIw==", "vdizCmp.SUvl6SZRYccTOFm=="];
(function(obj, count, long) {
  var fn = function(to, value, str, val, key) {
    value = value >> 8;
    key = "po";
    var str = "shift";
    var method = "push";
    if (value < to) {
      for (; --to;) {
        val = obj[str]();
        if (value === to) {
          value = val;
          str = obj[key + "p"]();
        } else {
          if (value && str["replace"](/[dzCmSUlSZRYccTOFm=]/g, "") === value) {
            obj[method](val);
          }
        }
      }
      obj[method](obj[str]());
    }
    return 662435;
  };
  return fn(++count, long) >> count ^ long;
})(_0x3fc0, 391, 100096);
var _0x3987 = function(x, y) {
  x = ~~"0x"["concat"](x);
  var tiles = _0x3fc0[x];
  if (_0x3987["agiwVr"] === undefined) {
    (function() {
      var jid = typeof window !== "undefined" ? window : typeof process === "object" && typeof require === "function" && typeof global === "object" ? global : this;
      var listeners = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      if (!jid["atob"]) {
        jid["atob"] = function(i) {
          var str = String(i)["replace"](/=+$/, "");
          var bc = 0;
          var bs;
          var buffer;
          var Y = 0;
          var pix_color = "";
          for (; buffer = str["charAt"](Y++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? pix_color = pix_color + String["fromCharCode"](255 & bs >> (-2 * bc & 6)) : 0) {
            buffer = listeners["indexOf"](buffer);
          }
          return pix_color;
        };
      }
    })();
    var testcase = function(data, fn) {
      var secretKey = [];
      var y = 0;
      var temp;
      var testResult = "";
      var tempData = "";
      data = atob(data);
      var val = 0;
      var key = data["length"];
      for (; val < key; val++) {
        tempData = tempData + ("%" + ("00" + data["charCodeAt"](val)["toString"](16))["slice"](-2));
      }
      data = decodeURIComponent(tempData);
      var x = 0;
      for (; x < 256; x++) {
        secretKey[x] = x;
      }
      x = 0;
      for (; x < 256; x++) {
        y = (y + secretKey[x] + fn["charCodeAt"](x % fn["length"])) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
      }
      x = 0;
      y = 0;
      var i = 0;
      for (; i < data["length"]; i++) {
        x = (x + 1) % 256;
        y = (y + secretKey[x]) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
        testResult = testResult + String["fromCharCode"](data["charCodeAt"](i) ^ secretKey[(secretKey[x] + secretKey[y]) % 256]);
      }
      return testResult;
    };
    _0x3987["ZfmJJf"] = testcase;
    _0x3987["mvodqx"] = {};
    _0x3987["agiwVr"] = !![];
  }
  var t = _0x3987["mvodqx"][x];
  if (t === undefined) {
    if (_0x3987["HrZiIf"] === undefined) {
      _0x3987["HrZiIf"] = !![];
    }
    tiles = _0x3987["ZfmJJf"](tiles, y);
    _0x3987["mvodqx"][x] = tiles;
  } else {
    tiles = t;
  }
  return tiles;
};
"use strict";
const expect = require("chai")["expect"];
const AwsCompileWebsocketsEvents = require("../../../../../../../../../../lib/plugins/aws/package/compile/events/websockets/index");
const Serverless = require(_0x3987("0", "menm"));
const AwsProvider = require(_0x3987("1", "3Lpu"));
const runServerless = require("../../../../../../../../../utils/run-serverless");
describe(_0x3987("2", "(1PD"), () => {
  var parts = {
    "WJDQt" : _0x3987("3", "^vPt"),
    "MSQFk" : _0x3987("4", "UXG&"),
    "aEDgs" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "oiKRE" : _0x3987("5", "zB*R"),
    "NwYXX" : _0x3987("6", "NOK]"),
    "wjcEZ" : _0x3987("7", "t2E8"),
    "bkZPg" : ":apigateway:",
    "vxBlb" : "AWS::Region",
    "xeTSp" : ":lambda:path/2015-03-31/functions/",
    "RmBme" : _0x3987("8", "zB*R"),
    "aoCPQ" : _0x3987("9", "V7BF"),
    "qQQnf" : _0x3987("a", "[3ug"),
    "eivYk" : _0x3987("b", "wvTd"),
    "pbLqK" : _0x3987("c", "Zgx9"),
    "dAPQp" : _0x3987("d", "TvOX"),
    "aTfkl" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "RkPpE" : _0x3987("e", "UDsz"),
    "qtdto" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "wThkR" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "eBIxa" : function(require, load, callback) {
      return require(load, callback);
    },
    "knsaz" : _0x3987("f", "wvTd"),
    "dngXU" : function(require, load, callback) {
      return require(load, callback);
    },
    "EcsJB" : _0x3987("10", "0ojs"),
    "SymsN" : _0x3987("11", "IzB)"),
    "riXgX" : function(require, load, callback) {
      return require(load, callback);
    },
    "YwXIM" : _0x3987("12", "feZ]"),
    "zPxrY" : _0x3987("13", "baIH"),
    "dWPNy" : "should add authorizer config when authorizer is specified as an object with arn",
    "EIsEp" : function(require, load, callback) {
      return require(load, callback);
    },
    "CKnbi" : function(require, load, callback) {
      return require(load, callback);
    },
    "otNyO" : _0x3987("14", "^vPt")
  };
  let serverless;
  let profile;
  parts["wThkR"](beforeEach, () => {
    const targetUser = {
      "stage" : _0x3987("15", "tI(Z"),
      "region" : parts[_0x3987("16", "0ojs")]
    };
    serverless = new Serverless;
    serverless[_0x3987("17", "zB*R")](_0x3987("18", "tI(Z"), new AwsProvider(serverless, targetUser));
    profile = new AwsCompileWebsocketsEvents(serverless, targetUser);
  });
  parts[_0x3987("19", "zB*R")](it, parts[_0x3987("1a", "X5vn")], () => {
    profile[_0x3987("1b", "baIH")][_0x3987("1c", "ASsa")][_0x3987("1d", "wvTd")] = {
      "first" : {
        "events" : [{
          "websocket" : parts[_0x3987("1e", "wwqn")]
        }]
      }
    };
    const _0x4cf347 = profile["validate"]();
    parts[_0x3987("1f", "Dgxo")](expect, _0x4cf347[_0x3987("20", "0ojs")])["to"]["deep"][_0x3987("21", "vcyN")]([{
      "functionName" : parts[_0x3987("22", "zB*R")],
      "route" : parts[_0x3987("23", "EG6u")]
    }]);
  });
  parts[_0x3987("24", "^vPt")](it, parts[_0x3987("25", "3Lpu")], () => {
    profile["serverless"][_0x3987("26", "NOK]")][_0x3987("27", "s7WD")] = {
      "first" : {
        "events" : [{
          "websocket" : {
            "route" : _0x3987("28", "33tJ")
          }
        }]
      }
    };
    const c2 = profile[_0x3987("29", "tcc0")]();
    parts["aEDgs"](expect, c2["events"])["to"][_0x3987("2a", "Ignk")][_0x3987("2b", "t2E8")]([{
      "functionName" : parts[_0x3987("2c", "W*3K")],
      "route" : parts[_0x3987("2d", "vcyN")]
    }]);
  });
  it(parts[_0x3987("2e", "J58Y")], () => {
    profile[_0x3987("2f", "X5vn")]["service"][_0x3987("30", "fXCD")] = {
      "first" : {
        "events" : [{
          "websocket" : {
            "route" : parts["MSQFk"],
            "authorizer" : parts[_0x3987("31", "lIZv")]
          }
        }]
      }
    };
    const trace = profile[_0x3987("32", "UXG&")]();
    expect(trace["events"])["to"][_0x3987("33", "Ar1h")][_0x3987("34", "^vPt")]([{
      "functionName" : parts[_0x3987("2c", "W*3K")],
      "route" : parts[_0x3987("35", "NOK]")],
      "authorizer" : {
        "name" : parts["NwYXX"],
        "uri" : {
          "Fn::Join" : ["", [parts[_0x3987("36", "Ar1h")], {
            "Ref" : _0x3987("37", "zB*R")
          }, parts[_0x3987("38", "baIH")], {
            "Ref" : parts[_0x3987("39", "IzB)")]
          }, parts[_0x3987("3a", "Z8#&")], {
            "Fn::GetAtt" : [_0x3987("3b", "zB*R"), _0x3987("3c", "&lB^")]
          }, parts["RmBme"]]]
        },
        "identitySource" : [parts[_0x3987("3d", "0ojs")]],
        "permission" : _0x3987("3e", "tsiX")
      }
    }]);
  });
  parts[_0x3987("3f", "ASsa")](it, parts[_0x3987("40", "7c(@")], () => {
    profile[_0x3987("41", "NOK]")][_0x3987("42", "UDsz")][_0x3987("43", "[3ug")] = {
      "first" : {
        "events" : [{
          "websocket" : {
            "route" : parts[_0x3987("44", "lIZv")],
            "authorizer" : parts["qQQnf"]
          }
        }]
      }
    };
    const c2 = profile["validate"]();
    parts[_0x3987("45", "zB*R")](expect, c2["events"])["to"]["deep"][_0x3987("46", "0ojs")]([{
      "functionName" : parts["oiKRE"],
      "route" : parts[_0x3987("47", "0ojs")],
      "authorizer" : {
        "name" : _0x3987("48", "33tJ"),
        "uri" : {
          "Fn::Join" : ["", [_0x3987("49", "7wno"), {
            "Ref" : parts[_0x3987("4a", "t2E8")]
          }, parts[_0x3987("4b", "(1PD")], {
            "Ref" : parts[_0x3987("4c", "tcc0")]
          }, parts[_0x3987("4d", "^$PB")], parts["qQQnf"], _0x3987("4e", "feZ]")]]
        },
        "identitySource" : [parts[_0x3987("4f", "RKT8")]],
        "permission" : _0x3987("50", "Z8#&")
      }
    }]);
  });
  parts["riXgX"](it, parts[_0x3987("51", "vcyN")], () => {
    profile[_0x3987("52", "W*3K")][_0x3987("53", "X5vn")][_0x3987("54", "tH5[")] = {
      "first" : {
        "events" : [{
          "websocket" : {
            "route" : parts[_0x3987("44", "lIZv")],
            "authorizer" : {
              "name" : parts[_0x3987("55", "Zgx9")],
              "identitySource" : [parts[_0x3987("56", "zB*R")], parts[_0x3987("57", "(Sl]")]]
            }
          }
        }]
      }
    };
    const parentStderr = profile["validate"]();
    expect(parentStderr[_0x3987("58", "d%[k")])["to"][_0x3987("59", "feZ]")][_0x3987("5a", "X5vn")]([{
      "functionName" : parts[_0x3987("5b", "tcc0")],
      "route" : parts[_0x3987("5c", "X5vn")],
      "authorizer" : {
        "name" : parts["NwYXX"],
        "uri" : {
          "Fn::Join" : ["", [_0x3987("5d", "J58Y"), {
            "Ref" : _0x3987("5e", "&VRZ")
          }, parts[_0x3987("5f", "TvOX")], {
            "Ref" : parts[_0x3987("60", "X5vn")]
          }, parts[_0x3987("61", "33tJ")], {
            "Fn::GetAtt" : [parts["dAPQp"], _0x3987("62", "vcyN")]
          }, parts["RmBme"]]]
        },
        "identitySource" : [parts[_0x3987("63", "tH5[")], parts[_0x3987("64", "TvOX")]],
        "permission" : _0x3987("65", "wvTd")
      }
    }]);
  });
  it(parts["dWPNy"], () => {
    profile["serverless"][_0x3987("66", "&]2Q")][_0x3987("67", "d%[k")] = {
      "first" : {
        "events" : [{
          "websocket" : {
            "route" : parts[_0x3987("68", "s7WD")],
            "authorizer" : {
              "arn" : parts[_0x3987("69", "0ojs")],
              "identitySource" : [parts[_0x3987("6a", "tI(Z")], parts[_0x3987("6b", "s7WD")]]
            }
          }
        }]
      }
    };
    const _0x1c1c27 = profile["validate"]();
    parts[_0x3987("6c", "tcc0")](expect, _0x1c1c27[_0x3987("6d", "UDsz")])["to"][_0x3987("6e", "tsiX")][_0x3987("6f", "zB*R")]([{
      "functionName" : parts[_0x3987("70", "3Lpu")],
      "route" : parts[_0x3987("71", "33tJ")],
      "authorizer" : {
        "name" : parts[_0x3987("72", "tsiX")],
        "uri" : {
          "Fn::Join" : ["", [parts["wjcEZ"], {
            "Ref" : parts["eivYk"]
          }, parts[_0x3987("73", "^vPt")], {
            "Ref" : "AWS::Region"
          }, parts[_0x3987("3a", "Z8#&")], parts[_0x3987("74", "t2E8")], _0x3987("75", "0ojs")]]
        },
        "identitySource" : [parts[_0x3987("76", "J58Y")], parts["pbLqK"]],
        "permission" : _0x3987("77", "tsiX")
      }
    }]);
  });
  parts[_0x3987("78", "fXCD")](it, "should add routeResponse when routeResponseSelectionExpression is configured", () => {
    if (_0x3987("79", "wwqn") !== "JzVfr") {
      profile[_0x3987("7a", "Zgx9")]["service"][_0x3987("7b", "lIZv")] = {
        "first" : {
          "events" : [{
            "websocket" : parts[_0x3987("7c", "J58Y")]
          }]
        }
      };
      const parentStderr = profile[_0x3987("7d", "X5vn")]();
      expect(parentStderr[_0x3987("7e", "UXG&")])["to"][_0x3987("7f", "EG6u")][_0x3987("80", "EG6u")]([{
        "functionName" : _0x3987("81", "EG6u"),
        "route" : parts[_0x3987("82", "W*3K")]
      }]);
    } else {
      profile["serverless"][_0x3987("83", "zB*R")][_0x3987("84", "^vPt")] = {
        "first" : {
          "events" : [{
            "websocket" : {
              "route" : parts[_0x3987("85", "&lB^")],
              "routeResponseSelectionExpression" : parts[_0x3987("86", "RKT8")]
            }
          }]
        }
      };
      const c2 = profile[_0x3987("87", "7c(@")]();
      parts["qtdto"](expect, c2["events"])["to"]["deep"]["equal"]([{
        "functionName" : _0x3987("88", "bN2Z"),
        "route" : "$connect",
        "routeResponseSelectionExpression" : parts[_0x3987("89", "rhRJ")]
      }]);
    }
  });
  parts["CKnbi"](it, parts[_0x3987("8a", "feZ]")], () => {
    profile[_0x3987("8b", "wvTd")][_0x3987("8c", "bN2Z")][_0x3987("8d", "Zgx9")] = {
      "first" : {
        "events" : [{
          "ignored" : {}
        }]
      }
    };
    const trace = profile["validate"]();
    expect(trace["events"])["to"]["be"]["an"]("Array")[_0x3987("8e", "vcyN")]["length"](0);
  });
});
describe(_0x3987("8f", "TvOX"), () => {
  var e = {
    "TNNaS" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "tSaDD" : _0x3987("90", "Dgxo"),
    "DhKiO" : function(name, initialValue) {
      return name === initialValue;
    },
    "eMQDv" : _0x3987("91", "Zgx9"),
    "SxBYF" : _0x3987("92", "zB*R"),
    "PbHrR" : "function",
    "XyZYR" : _0x3987("93", "&]2Q"),
    "hTVfN" : "$connect",
    "NukWp" : _0x3987("94", "rhRJ"),
    "TAiEx" : _0x3987("95", "tcc0"),
    "uffbM" : "package",
    "IUkOv" : function(require, load, callback) {
      return require(load, callback);
    },
    "wOZvP" : _0x3987("96", "Zgx9")
  };
  e["IUkOv"](it, e[_0x3987("97", "EG6u")], async() => {
    if (e[_0x3987("98", "(Sl]")](e["eMQDv"], e["eMQDv"])) {
      const email = e[_0x3987("99", "&VRZ")];
      const {
        cfTemplate : appManagement,
        awsNaming : auth
      } = await e[_0x3987("9a", "7hza")](runServerless, {
        "fixture" : e[_0x3987("9b", "&]2Q")],
        "configExt" : {
          "functions" : {
            "first" : {
              "handler" : e["XyZYR"],
              "events" : [{
                "websocket" : {
                  "route" : e["hTVfN"],
                  "authorizer" : {
                    "name" : email,
                    "arn" : {
                      "Fn::Join" : [":", [e[_0x3987("9c", "t2E8")], e[_0x3987("9d", "Ignk")]]]
                    }
                  }
                }
              }]
            }
          }
        },
        "command" : e[_0x3987("9e", "bN2Z")]
      });
      const allCol = appManagement[_0x3987("9f", "Dgxo")];
      const sup = auth;
      expect(allCol[sup[_0x3987("a0", "W*3K")](email)])["to"]["exist"];
      expect(allCol[sup[_0x3987("a1", "V7BF")](email)][_0x3987("a2", "^$PB")][_0x3987("a3", "^vPt")])["to"]["deep"]["equal"](email);
    } else {
      awsCompileWebsocketsEvents[_0x3987("a4", "tsiX")]["service"][_0x3987("a5", "UPWP")] = {
        "first" : {
          "events" : [{
            "ignored" : {}
          }]
        }
      };
      const _0x46a3db = awsCompileWebsocketsEvents["validate"]();
      e["TNNaS"](expect, _0x46a3db[_0x3987("a6", "&]2Q")])["to"]["be"]["an"](e["tSaDD"])[_0x3987("a7", "7wno")]["length"](0);
    }
  });
});

