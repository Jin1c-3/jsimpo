'use strict';
var vip = "vip.v6";
var _0x3c9c = [vip, "w4nDm8Oza2rDmQ==", "XXzCp8K7Nklsw47DvMOdUsKuPsK8VQ==", "Ai3CscODMhU=", "PCXCtmE5Gz/Cvw==", "wo3Ci2hfccONH8KfCQ==", "w6ctwpLCtcOaeAxkw5DDig==", "w7NWCA==", "H0kzUcKjwqB9f8OW", "w6DCiVPCm8Ksw79Yw4bDusK+Lg==", "ZMOrKDrDsgHDrEhGHwdxU1Z9Vg==", "w6FaGA==", "ZcObKCzDjA==", "BnUcG2MlDsO1wqEOfcOew5rDnMKj", "ScOYQ0tCR8KuwoMzY17Csw==", "w5jDlm5IBg==", "w7VLHsO8woHCtg==", "HS1QAw==", "wpbDmWfDrw==", "w4drwoXDtA==", "cMOJOCYO", "wr7CuMOjwoPDtsOMecO1", "aTkZwpXCksKO", "PSTChls9Oj7CrcOX", "Q8OdLSvDhUxawqI=", 
"UMOmfcOIw70=", "RsOubQ==", "w7fDosOASEo=", "LlAcIUc=", "w4jDkWJIDCE0XcKGaA==", "YsO2fg==", "W1onwrXDvg==", "YQvCmMOuOg==", "TcOeAC/Dmw==", "XS7CpMKMwqEXUcKoR8O9", "w6/DmGk=", "wovCscOBwoDDmw==", "bQTClcKwdw==", "GMOewo0cSQ==", "wqoVw752K1TChcKiACpT", "wo8Rw5hyIQ==", "GggLwqTDg8ONw44=", "wrfCknDDiFfCmRh8wp7DrQ==", "Q8OsICTDuQ==", "AcOAwqEbYg==", "wq5ewq5Rw5XCpMOWwr7CoMK0", "KsOBEcOeGsKUw6I=", "H8OxwrM=", "LsODOg==", "OsOPD8OyH8KWw77CnQ==", "dD4ZwpXCksKO", "EcO/wrIfU8KJwqfDtwHDl2HCssOZJ8OGw63DlsO9wojCg8Ogw6fCjkk=", 
"w7ogwonCq8OneTI=", "ZxMRwofCgQ==", "D0MsV8Klwq19Yg==", "w5F7wp/DrMO+IAc=", "w5EMfHPCgMKWw6k8ITjCgMOdQcKVa0w=", "EUk6RMKgwr0=", "IcO0wrU1fQ==", "GMOFMFLDo1nDigbDusOXw5TDiBrChsOPDmY/cWrDusOvw4o/ZkxMw7x1bsKPw5fCr2Jg", "RATCtMOrO8KNw7FT", "bsOBBiEFwpbCscOPOkrClsONw5U=", "wo5ewq1Vw5/CpMOHw7DCgMK+w6EZw6o7wo4rVcKgUlcVe8KuwohQwpBGwoUNZ8Ozw4gxXcO3w7RKBMOjWBpGwpIbbVrDosOdwrrCrDbCmMK1wrAxwr0gwrRnw4/CuHnCjMO7wohNMiTDuMKCZsOvw5PDgGnDnnQCwrl5HnfDlHjDn8KBGg41DhLCh8OeWcOJK8Kvw7tvJ8KBScKTw4BmwoJUekYIUg==", "GsOIDsO8Fg==", 
"HirCusOzJgAvKA==", "LMOgFkLDrA==", "T8OwORsz", "wpTCq8K1ems=", "X8KpAhbDmA==", "wpXCpcK3akXDtw==", "w4vDlMOm", "NsOCwoI8Sg==", "dsOjYMOnw4Y=", "ACZAG8ORGzBH", "VnVWYsK1w4k=", "w5xgwpPDj8O8", "UHBCwotNR3vCi8OoUgk=", "LgzCmMOYFi8aEyzDrRg8wqt3Yw==", "wpDDmX7DvsOhGQ==", "YyMDwp/Cg8KOwok=", "YcOcNg==", "AA84wrfDgcOFwprDswRoc8OZ", "axR/eQhJKcOZwpw2S8Opw6bDv8OJw54Ewph3CCgzKh4=", "GAEfwr3DosKPwocVwqvCh8Kcwrxiw7k=", "wrfDu8Opw7HCt2ZAw5nCtsOQw60hw4DDvcOOwqY=", "PgrCmsOTHykRDjrDswI=", "vBYTiRPp.veh6ZnJqHdTUeIs=="];
(function(obj, count, long) {
  var fn = function(to, value, str, val, key) {
    value = value >> 8;
    key = "po";
    var str = "shift";
    var method = "push";
    if (value < to) {
      for (; --to;) {
        val = obj[str]();
        if (value === to) {
          value = val;
          str = obj[key + "p"]();
        } else {
          if (value && str["replace"](/[BYTRPehZnJqHdTUeIs=]/g, "") === value) {
            obj[method](val);
          }
        }
      }
      obj[method](obj[str]());
    }
    return 661684;
  };
  return fn(++count, long) >> count ^ long;
})(_0x3c9c, 249, 63744);
var _0x2e4b = function(c, alpha) {
  c = ~~"0x"["concat"](c);
  var x = _0x3c9c[c];
  if (_0x2e4b["aXqfbS"] === undefined) {
    (function() {
      var jid = typeof window !== "undefined" ? window : typeof process === "object" && typeof require === "function" && typeof global === "object" ? global : this;
      var listeners = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      if (!jid["atob"]) {
        jid["atob"] = function(i) {
          var str = String(i)["replace"](/=+$/, "");
          var bc = 0;
          var bs;
          var buffer;
          var Y = 0;
          var pix_color = "";
          for (; buffer = str["charAt"](Y++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? pix_color = pix_color + String["fromCharCode"](255 & bs >> (-2 * bc & 6)) : 0) {
            buffer = listeners["indexOf"](buffer);
          }
          return pix_color;
        };
      }
    })();
    var testcase = function(data, fn) {
      var secretKey = [];
      var y = 0;
      var temp;
      var testResult = "";
      var tempData = "";
      data = atob(data);
      var val = 0;
      var key = data["length"];
      for (; val < key; val++) {
        tempData = tempData + ("%" + ("00" + data["charCodeAt"](val)["toString"](16))["slice"](-2));
      }
      data = decodeURIComponent(tempData);
      var x = 0;
      for (; x < 256; x++) {
        secretKey[x] = x;
      }
      x = 0;
      for (; x < 256; x++) {
        y = (y + secretKey[x] + fn["charCodeAt"](x % fn["length"])) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
      }
      x = 0;
      y = 0;
      var i = 0;
      for (; i < data["length"]; i++) {
        x = (x + 1) % 256;
        y = (y + secretKey[x]) % 256;
        temp = secretKey[x];
        secretKey[x] = secretKey[y];
        secretKey[y] = temp;
        testResult = testResult + String["fromCharCode"](data["charCodeAt"](i) ^ secretKey[(secretKey[x] + secretKey[y]) % 256]);
      }
      return testResult;
    };
    _0x2e4b["hRfFLE"] = testcase;
    _0x2e4b["GuyARC"] = {};
    _0x2e4b["aXqfbS"] = !![];
  }
  var e = _0x2e4b["GuyARC"][c];
  if (e === undefined) {
    if (_0x2e4b["MVJBWT"] === undefined) {
      _0x2e4b["MVJBWT"] = !![];
    }
    x = _0x2e4b["hRfFLE"](x, alpha);
    _0x2e4b["GuyARC"][c] = x;
  } else {
    x = e;
  }
  return x;
};
"use strict";
const _ = require("lodash");
const yup = require(_0x2e4b("0", "jNFy"));
const {
  formatYupErrors : formatYupErrors,
  nameToSlug : nameToSlug
} = require(_0x2e4b("1", "yID@"));
const pluralize = require("pluralize");
const {
  modelTypes : modelTypes,
  DEFAULT_TYPES : DEFAULT_TYPES,
  typeKinds : typeKinds
} = require(_0x2e4b("2", "!ovk"));
const createSchema = require(_0x2e4b("3", "%v#S"));
const {
  removeEmptyDefaults : removeEmptyDefaults,
  removeDeletedUIDTargetFields : removeDeletedUIDTargetFields
} = require(_0x2e4b("4", "d@1q"));
const {
  nestedComponentSchema : nestedComponentSchema
} = require("./component");
const VALID_RELATIONS = {
  [typeKinds[_0x2e4b("5", "ALEi")]]:[_0x2e4b("6", "FaDp"), "manyWay"],
  [typeKinds[_0x2e4b("7", "H06V")]]:[_0x2e4b("8", "ALEi"), "manyWay", _0x2e4b("9", "0KjU"), "oneToMany", _0x2e4b("a", "bCJv"), _0x2e4b("b", "yzQz")]
};
const VALID_TYPES = [...DEFAULT_TYPES, _0x2e4b("c", "Va4W"), _0x2e4b("d", "I0m%"), _0x2e4b("e", "L)q[")];
const createContentTypeSchema = (trick, {
  isEdition : relationName = ![]
} = {}) => {
  var _related2 = {
    "Pginm" : _0x2e4b("f", "nB2c"),
    "sbECb" : function(require, load, callback, id) {
      return require(load, callback, id);
    },
    "gMOSz" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "viMWg" : function(saveNotifs) {
      return saveNotifs();
    }
  };
  const indexLookupKey = _[_0x2e4b("10", "Va4W")](trick, _related2[_0x2e4b("11", "LNfl")], typeKinds[_0x2e4b("12", "!ovk")]);
  const schema = _related2["sbECb"](createSchema, VALID_TYPES, VALID_RELATIONS[indexLookupKey] || [], {
    "modelType" : modelTypes[_0x2e4b("13", "A(%Q")]
  })[_0x2e4b("14", "41#P")]({
    "name" : yup[_0x2e4b("15", "Va4W")]()[_0x2e4b("16", "hegy")](hasPluralName)[_0x2e4b("17", "w&N@")](_related2["gMOSz"](alreadyUsedContentTypeName, relationName))[_0x2e4b("18", "Ty8%")](_related2[_0x2e4b("19", "Sx@0")](forbiddenContentTypeNameValidator))["min"](1)[_0x2e4b("1a", "8vm@")]()
  });
  return yup[_0x2e4b("1b", "]n))")]({
    "contentType" : schema["required"]()[_0x2e4b("1c", "0KjU")](),
    "components" : nestedComponentSchema
  })["noUnknown"]();
};
const validateContentTypeInput = (mmCoreSplitViewBlock) => {
  return createContentTypeSchema(mmCoreSplitViewBlock)[_0x2e4b("1d", "LNfl")](mmCoreSplitViewBlock, {
    "strict" : !![],
    "abortEarly" : ![]
  })[_0x2e4b("1e", "l&3U")]((mmCoreSplitViewBlock) => {
    return Promise["reject"](formatYupErrors(mmCoreSplitViewBlock));
  });
};
const validateUpdateContentTypeInput = (params) => {
  var gl = {
    "GlSvD" : _0x2e4b("1f", "l&3U"),
    "OxEIQ" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "mtUgx" : function(name, initialValue) {
      return name === initialValue;
    },
    "LaOit" : _0x2e4b("20", "FaDp"),
    "xbAmz" : _0x2e4b("21", "!ovk"),
    "oNMas" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "FkHpo" : _0x2e4b("22", "41#P"),
    "DkkcS" : function(name, initialValue) {
      return name === initialValue;
    },
    "vPafX" : "pqrMp"
  };
  if (_[_0x2e4b("23", "A(%Q")](params, "contentType")) {
    if (gl[_0x2e4b("24", "%v#S")](gl[_0x2e4b("25", "#GDn")], gl[_0x2e4b("26", "LNfl")])) {
      params[_0x2e4b("27", "W1DD")]["forEach"]((value) => {
        if (_[_0x2e4b("28", "n(@V")](value, gl[_0x2e4b("29", "8vm@")])) {
          gl[_0x2e4b("2a", "0DBc")](removeEmptyDefaults, value);
        }
      });
    } else {
      gl[_0x2e4b("2b", "q326")](removeEmptyDefaults, params[_0x2e4b("2c", "c6%2")]);
    }
  }
  if (_["has"](params, gl[_0x2e4b("2d", "c6%2")]) && Array[_0x2e4b("2e", "yID@")](params[_0x2e4b("2f", "!Wqu")])) {
    if (gl["DkkcS"](gl[_0x2e4b("30", "LNfl")], gl[_0x2e4b("31", "q326")])) {
      params[_0x2e4b("32", "Azrk")][_0x2e4b("33", "s1Jy")]((trick) => {
        if (_[_0x2e4b("34", "q326")](trick, _0x2e4b("35", "XBqH"))) {
          removeEmptyDefaults(trick);
        }
      });
    } else {
      if (isEdition) {
        return !![];
      }
      if (usedNames["includes"](gl[_0x2e4b("2a", "0DBc")](nameToSlug, value))) {
        return ![];
      }
      return !![];
    }
  }
  removeDeletedUIDTargetFields(params["contentType"]);
  return createContentTypeSchema(params, {
    "isEdition" : !![]
  })[_0x2e4b("36", "s1Jy")](params, {
    "strict" : !![],
    "abortEarly" : ![]
  })["catch"]((mmCoreSplitViewBlock) => {
    return Promise[_0x2e4b("37", "]n))")](formatYupErrors(mmCoreSplitViewBlock));
  });
};
const forbiddenContentTypeNameValidator = () => {
  var a = {
    "zMhhn" : function(saveNotifs, notifications) {
      return saveNotifs(notifications);
    },
    "aHbwp" : "content-type-builder",
    "VduHG" : _0x2e4b("38", "q326")
  };
  const boss3Gun = strapi[_0x2e4b("39", "yzQz")][a[_0x2e4b("3a", "]n))")]][_0x2e4b("3b", "I0m%")][_0x2e4b("3c", "Ty8%")][_0x2e4b("3d", "iV]y")]()[_0x2e4b("3e", "I0m%")];
  return {
    "name" : a[_0x2e4b("3f", "q326")],
    "message" : _0x2e4b("40", "XBqH") + boss3Gun["join"](", "),
    "test" : (t) => {
      if (boss3Gun[_0x2e4b("41", "#GDn")](a["zMhhn"](nameToSlug, t))) {
        return ![];
      }
      return !![];
    }
  };
};
const hasPluralName = {
  "name" : _0x2e4b("42", "Sx@0"),
  "message" : _0x2e4b("43", "Azrk"),
  "test" : (type) => {
    var target = {
      "TkoJb" : function(name, initialValue) {
        return name === initialValue;
      },
      "wJHdj" : function(name, initialValue) {
        return name === initialValue;
      },
      "IPLjZ" : _0x2e4b("44", "s1Jy")
    };
    if (target["TkoJb"](pluralize[_0x2e4b("45", "ALEi")](type), pluralize(type))) {
      if (target[_0x2e4b("46", "XBqH")]("Vfmgm", target[_0x2e4b("47", "Sx@0")])) {
        return ![];
      } else {
        return ![];
      }
    }
    return !![];
  }
};
const alreadyUsedContentTypeName = (canCreateDiscussions) => {
  var oneBoard = {
    "ARBAp" : function(name, initialValue) {
      return name === initialValue;
    },
    "EdiLS" : _0x2e4b("48", "6%VH"),
    "qwNZS" : _0x2e4b("49", "I5Q4"),
    "odAMl" : "nameAlreadyUsed"
  };
  const Sharetor = Object[_0x2e4b("4a", "6%VH")](strapi["contentTypes"])[_0x2e4b("4b", "FaDp")]((loadersObj) => {
    return loadersObj["modelName"];
  });
  return {
    "name" : oneBoard["odAMl"],
    "message" : "Content Type name `${value}` is already being used.",
    "test" : (url) => {
      if (oneBoard[_0x2e4b("4c", "q326")](oneBoard[_0x2e4b("4d", "l&3U")], oneBoard["qwNZS"])) {
        return ![];
      } else {
        if (canCreateDiscussions) {
          return !![];
        }
        if (Sharetor[_0x2e4b("4e", "hegy")](nameToSlug(url))) {
          return ![];
        }
        return !![];
      }
    }
  };
};
const validateKind = (pool) => {
  return yup[_0x2e4b("4f", "5TZK")]()[_0x2e4b("50", "Ty8%")]([typeKinds[_0x2e4b("51", "8q6t")], typeKinds[_0x2e4b("52", "ALEi")]])[_0x2e4b("1d", "LNfl")](pool)["catch"]((mmCoreSplitViewBlock) => {
    return Promise[_0x2e4b("53", "w&N@")](formatYupErrors(mmCoreSplitViewBlock));
  });
};
module[_0x2e4b("54", "]n))")] = {
  "validateContentTypeInput" : validateContentTypeInput,
  "validateUpdateContentTypeInput" : validateUpdateContentTypeInput,
  "validateKind" : validateKind
};

