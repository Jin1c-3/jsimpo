const PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};const HEADING_PATTERN=/^H(\d+)$/;class StructTreeLayerBuilder{constructor({pdfPage:e}){this.pdfPage=e}render(e){return this._walk(e)}_setAttributes(e,t){if(e.alt!==undefined){t.setAttribute("aria-label",e.alt)}if(e.id!==undefined){t.setAttribute("aria-owns",e.id)}}_walk(e){if(!e){return null}const t=document.createElement("span");if("role"in e){const{role:l}=e;const r=l.match(HEADING_PATTERN);if(r){t.setAttribute("role","heading");t.setAttribute("aria-level",r[1])}else if(PDF_ROLE_TO_HTML_ROLE[l]){t.setAttribute("role",PDF_ROLE_TO_HTML_ROLE[l])}}this._setAttributes(e,t);if(e.children){if(e.children.length===1&&"id"in e.children[0]){this._setAttributes(e.children[0],t)}else{for(const n of e.children){t.appendChild(this._walk(n))}}}return t}}class DefaultStructTreeLayerFactory{createStructTreeLayerBuilder(e){return new StructTreeLayerBuilder({pdfPage:e})}}export{DefaultStructTreeLayerFactory,StructTreeLayerBuilder};