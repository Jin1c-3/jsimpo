const debug=require("debug")("@cypress/react");const tryLoadWebpackConfig=require("../utils/tryLoadWebpackConfig");const{allowModuleSourceInPlace}=require("../utils/webpack-helpers");const{addCypressToWebpackEslintRulesInPlace}=require("../utils/eslint-helpers");const{getTranspileFolders}=require("../utils/get-transpile-folders");const{addFolderToBabelLoaderTranspileInPlace}=require("../utils/babel-helpers");module.exports=function e(r,{webpackConfigPath:o}={webpackConfigPath:"react-scripts/config/webpack.config"}){process.env.FAST_REFRESH="false";const a=tryLoadWebpackConfig(o);if(!a){throw new Error("⚠️ Could not find Webpack options for react-scripts. Make sure that you have react-scripts module available.")}addCypressToWebpackEslintRulesInPlace(a);getTranspileFolders(r).forEach(e=>{allowModuleSourceInPlace(e,a);addFolderToBabelLoaderTranspileInPlace(e,a)});debug("resolved webpack config: %o",a);return a};