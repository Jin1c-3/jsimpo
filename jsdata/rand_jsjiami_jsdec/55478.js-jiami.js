'use strict';const common=require('../common');if(!common['hasCrypto'])common['skip']('missing crypto');const Countdown=require('../common/countdown');const http2=require('http2');const server=http2['createServer']();let session;const countdown=new Countdown(0x2,()=>{server['close'](common['mustSucceed']());session['destroy']();});server['listen'](0x0,common['mustCall'](()=>{var _0x328b6c={'hoNvI':'connect'};const _0x18fd8d=http2['connect']('http://localhost:'+server['address']()['port']);_0x18fd8d['on'](_0x328b6c['hoNvI'],common['mustCall'](()=>countdown['dec']()));}));server['on']('session',common['mustCall'](_0x14868c=>{session=_0x14868c;countdown['dec']();}));