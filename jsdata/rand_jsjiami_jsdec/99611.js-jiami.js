'use strict';/**
 * Module dependencies.
 */const contentDisposition=require('content-disposition');const getType=require('cache-content-type');const onFinish=require('on-finished');const escape=require('escape-html');const typeis=require('type-is')['is'];const statuses=require('statuses');const destroy=require('destroy');const assert=require('assert');const extname=require('path')['extname'];const vary=require('vary');const only=require('only');const util=require('util');const encodeUrl=require('encodeurl');const Stream=require('stream');module['exports']={get 'socket'(){return this['res']['socket'];},get 'header'(){var _0x3e635b={'iLFOF':function(_0x133061,_0x599273){return _0x133061===_0x599273;},'LGalP':'function'};const {res}=this;return _0x3e635b['iLFOF'](typeof res['getHeaders'],_0x3e635b['LGalP'])?res['getHeaders']():res['_headers']||{};},get 'headers'(){return this['header'];},get 'status'(){return this['res']['statusCode'];},set 'status'(_0x2a60de){var _0x31eaef={'GpahK':'6|0|3|2|4|5|1','LZEuT':'status code must be a number','jvQCL':function(_0x45ecda,_0x145a1){return _0x45ecda>=_0x145a1;},'WJEUN':function(_0x77e41,_0x575a87){return _0x77e41<_0x575a87;}};var _0x548b3b=_0x31eaef['GpahK']['split']('|'),_0x44698d=0x0;while(!![]){switch(_0x548b3b[_0x44698d++]){case'0':assert(Number['isInteger'](_0x2a60de),_0x31eaef['LZEuT']);continue;case'1':if(this['body']&&statuses['empty'][_0x2a60de])this['body']=null;continue;case'2':this['_explicitStatus']=!![];continue;case'3':assert(_0x31eaef['jvQCL'](_0x2a60de,0x64)&&_0x2a60de<=0x3e7,'invalid status code: '+_0x2a60de);continue;case'4':this['res']['statusCode']=_0x2a60de;continue;case'5':if(_0x31eaef['WJEUN'](this['req']['httpVersionMajor'],0x2))this['res']['statusMessage']=statuses[_0x2a60de];continue;case'6':if(this['headerSent'])return;continue;}break;}},get 'message'(){return this['res']['statusMessage']||statuses[this['status']];},set 'message'(_0x1e5f7b){this['res']['statusMessage']=_0x1e5f7b;},get 'body'(){return this['_body'];},set 'body'(_0x2b2a50){var _0x34f3f0={'fmJCk':function(_0x21ed27,_0x5d2094){return _0x21ed27==_0x5d2094;},'ZRUPb':'2|4|0|1|3|5','knqIF':'Content-Type','XOrWc':function(_0x220933,_0x21b6fd){return _0x220933===_0x21b6fd;},'vKORj':'application/json','Muhco':function(_0x58faf9,_0x3e4481){return _0x58faf9===_0x3e4481;},'PpwgU':'string','KRJVn':function(_0x24cf36,_0x42f280){return _0x24cf36===_0x42f280;},'rhyvD':'XPNIb','OHZGO':'text','ZQZeA':'bin','CWPOA':function(_0x3e90fe,_0x3aecd3){return _0x3e90fe instanceof _0x3aecd3;},'HpmXq':'luXCM','EfGrp':function(_0x4ffed7,_0x46cdcd,_0x24ae9b){return _0x4ffed7(_0x46cdcd,_0x24ae9b);},'MTAMh':function(_0x86c9a5,_0x33f933){return _0x86c9a5!==_0x33f933;},'zKAVh':function(_0x375f0c,_0x12d29a){return _0x375f0c!=_0x12d29a;},'MyOYV':'Content-Length','bbAUE':'json'};const _0xf3a93b=this['_body'];this['_body']=_0x2b2a50;if(_0x34f3f0['fmJCk'](_0x2b2a50,null)){var _0x3a1048=_0x34f3f0['ZRUPb']['split']('|'),_0xb39839=0x0;while(!![]){switch(_0x3a1048[_0xb39839++]){case'0':this['remove'](_0x34f3f0['knqIF']);continue;case'1':this['remove']('Content-Length');continue;case'2':if(!statuses['empty'][this['status']]){if(_0x34f3f0['XOrWc'](this['type'],_0x34f3f0['vKORj'])){this['_body']='null';return;}this['status']=0xcc;}continue;case'3':this['remove']('Transfer-Encoding');continue;case'4':if(_0x34f3f0['XOrWc'](_0x2b2a50,null))this['_explicitNullBody']=!![];continue;case'5':return;}break;}}if(!this['_explicitStatus'])this['status']=0xc8;const _0x16ec82=!this['has']('Content-Type');if(_0x34f3f0['Muhco'](typeof _0x2b2a50,_0x34f3f0['PpwgU'])){if(_0x34f3f0['KRJVn'](_0x34f3f0['rhyvD'],_0x34f3f0['rhyvD'])){if(_0x16ec82)this['type']=/^\s*</['test'](_0x2b2a50)?'html':_0x34f3f0['OHZGO'];this['length']=Buffer['byteLength'](_0x2b2a50);return;}else{if(!this['res'])return;const _0xc0363=this['toJSON']();_0xc0363['body']=this['body'];return _0xc0363;}}if(Buffer['isBuffer'](_0x2b2a50)){if(_0x16ec82)this['type']=_0x34f3f0['ZQZeA'];this['length']=_0x2b2a50['length'];return;}if(_0x34f3f0['CWPOA'](_0x2b2a50,Stream)){if(_0x34f3f0['KRJVn']('luXCM',_0x34f3f0['HpmXq'])){_0x34f3f0['EfGrp'](onFinish,this['res'],destroy['bind'](null,_0x2b2a50));if(_0x34f3f0['MTAMh'](_0xf3a93b,_0x2b2a50)){_0x2b2a50['once']('error',_0x4699d3=>this['ctx']['onerror'](_0x4699d3));if(_0x34f3f0['zKAVh'](_0xf3a93b,null))this['remove'](_0x34f3f0['MyOYV']);}if(_0x16ec82)this['type']=_0x34f3f0['ZQZeA'];return;}else{if(this['headerSent'])return;vary(this['res'],field);}}this['remove'](_0x34f3f0['MyOYV']);this['type']=_0x34f3f0['bbAUE'];},set 'length'(_0x317f93){var _0x95a457={'YTPdJ':'Transfer-Encoding'};if(!this['has'](_0x95a457['YTPdJ'])){this['set']('Content-Length',_0x317f93);}},get 'length'(){var _0x24e754={'NIPxZ':'Content-Length','ijDQe':function(_0x1afe05,_0x3bee9e){return _0x1afe05===_0x3bee9e;},'aBozj':'string'};if(this['has'](_0x24e754['NIPxZ'])){return parseInt(this['get']('Content-Length'),0xa)||0x0;}const {body}=this;if(!body||body instanceof Stream)return undefined;if(_0x24e754['ijDQe'](typeof body,_0x24e754['aBozj']))return Buffer['byteLength'](body);if(Buffer['isBuffer'](body))return body['length'];return Buffer['byteLength'](JSON['stringify'](body));},get 'headerSent'(){return this['res']['headersSent'];},'vary'(_0x338893){var _0x14cb5f={'qBiTT':function(_0x58ad88,_0x378746,_0x7b7611){return _0x58ad88(_0x378746,_0x7b7611);}};if(this['headerSent'])return;_0x14cb5f['qBiTT'](vary,this['res'],_0x338893);},'redirect'(_0x46d12c,_0x2d5375){var _0x54f4aa={'kXVHl':'3|2|4|5|1|0','uzqOP':'text/plain; charset=utf-8','MghmM':'Location','rqsTa':function(_0x43c451,_0x2475e5){return _0x43c451(_0x2475e5);},'SugKp':function(_0x52eeff,_0x5b8850){return _0x52eeff===_0x5b8850;},'pXKMW':'html'};var _0x227ed6=_0x54f4aa['kXVHl']['split']('|'),_0x549c36=0x0;while(!![]){switch(_0x227ed6[_0x549c36++]){case'0':this['body']='Redirecting\x20to\x20'+_0x46d12c+'.';continue;case'1':this['type']=_0x54f4aa['uzqOP'];continue;case'2':this['set'](_0x54f4aa['MghmM'],_0x54f4aa['rqsTa'](encodeUrl,_0x46d12c));continue;case'3':if(_0x54f4aa['SugKp'](_0x46d12c,'back'))_0x46d12c=this['ctx']['get']('Referrer')||_0x2d5375||'/';continue;case'4':if(!statuses['redirect'][this['status']])this['status']=0x12e;continue;case'5':if(this['ctx']['accepts'](_0x54f4aa['pXKMW'])){_0x46d12c=_0x54f4aa['rqsTa'](escape,_0x46d12c);this['type']='text/html;\x20charset=utf-8';this['body']='Redirecting to <a href="'+_0x46d12c+'\x22>'+_0x46d12c+'</a>.';return;}continue;}break;}},'attachment'(_0x56e08c,_0x323a53){var _0x35da5a={'czzNi':function(_0x1d29d1,_0x3e07d3){return _0x1d29d1(_0x3e07d3);},'LXOHv':'Content-Disposition','nXphH':function(_0x4788ee,_0x225142,_0x435d20){return _0x4788ee(_0x225142,_0x435d20);}};if(_0x56e08c)this['type']=_0x35da5a['czzNi'](extname,_0x56e08c);this['set'](_0x35da5a['LXOHv'],_0x35da5a['nXphH'](contentDisposition,_0x56e08c,_0x323a53));},set 'type'(_0x407088){var _0x510458={'kPnAL':function(_0x36188d,_0x362070){return _0x36188d(_0x362070);},'xtjLb':'Content-Type'};_0x407088=_0x510458['kPnAL'](getType,_0x407088);if(_0x407088){this['set'](_0x510458['xtjLb'],_0x407088);}else{this['remove']('Content-Type');}},set 'lastModified'(_0x5e6bdb){var _0x2dd8ae={'fldbN':function(_0x45677e,_0x406d6c){return _0x45677e===_0x406d6c;},'gzbBJ':'string','tPEGS':'Last-Modified'};if(_0x2dd8ae['fldbN'](typeof _0x5e6bdb,_0x2dd8ae['gzbBJ']))_0x5e6bdb=new Date(_0x5e6bdb);this['set'](_0x2dd8ae['tPEGS'],_0x5e6bdb['toUTCString']());},get 'lastModified'(){const _0x291316=this['get']('last-modified');if(_0x291316)return new Date(_0x291316);},set 'etag'(_0xf98b96){var _0xb07a14={'pnQSC':'ETag'};if(!/^(W\/)?"/['test'](_0xf98b96))_0xf98b96='\x22'+_0xf98b96+'\x22';this['set'](_0xb07a14['pnQSC'],_0xf98b96);},get 'etag'(){var _0x567007={'owJvA':'ETag'};return this['get'](_0x567007['owJvA']);},get 'type'(){var _0x3c40e4={'tMDjH':'Content-Type'};const _0x57ccd6=this['get'](_0x3c40e4['tMDjH']);if(!_0x57ccd6)return'';return _0x57ccd6['split'](';',0x1)[0x0];},'is'(_0x21c15f,..._0x44c6fa){return typeis(this['type'],_0x21c15f,..._0x44c6fa);},'get'(_0x74dde2){return this['res']['getHeader'](_0x74dde2);},'has'(_0x28fa5b){var _0x53817b={'PhRvr':function(_0x54a63a,_0x190802){return _0x54a63a===_0x190802;},'yThYP':function(_0x485e07,_0x3ec14c){return _0x485e07 in _0x3ec14c;}};return _0x53817b['PhRvr'](typeof this['res']['hasHeader'],'function')?this['res']['hasHeader'](_0x28fa5b):_0x53817b['yThYP'](_0x28fa5b['toLowerCase'](),this['headers']);},'set'(_0x59ce11,_0x5669a8){var _0x1e0eff={'OfVYm':'string','OQyVP':function(_0x5cf504,_0x202200){return _0x5cf504(_0x202200);}};if(this['headerSent'])return;if(arguments['length']===0x2){if(Array['isArray'](_0x5669a8))_0x5669a8=_0x5669a8['map'](_0x52331d=>typeof _0x52331d==='string'?_0x52331d:String(_0x52331d));else if(typeof _0x5669a8!==_0x1e0eff['OfVYm'])_0x5669a8=_0x1e0eff['OQyVP'](String,_0x5669a8);this['res']['setHeader'](_0x59ce11,_0x5669a8);}else{for(const _0x4c173c in _0x59ce11){this['set'](_0x4c173c,_0x59ce11[_0x4c173c]);}}},'append'(_0x4fe863,_0x2d8dae){const _0x341f1d=this['get'](_0x4fe863);if(_0x341f1d){_0x2d8dae=Array['isArray'](_0x341f1d)?_0x341f1d['concat'](_0x2d8dae):[_0x341f1d]['concat'](_0x2d8dae);}return this['set'](_0x4fe863,_0x2d8dae);},'remove'(_0x6b6d2d){if(this['headerSent'])return;this['res']['removeHeader'](_0x6b6d2d);},get 'writable'(){if(this['res']['writableEnded']||this['res']['finished'])return![];const _0x27500e=this['res']['socket'];if(!_0x27500e)return!![];return _0x27500e['writable'];},'inspect'(){if(!this['res'])return;const _0x2e542f=this['toJSON']();_0x2e542f['body']=this['body'];return _0x2e542f;},'toJSON'(){var _0x428ff4={'JJuTW':'status','DbQKL':'message','JZFzF':'header'};return only(this,[_0x428ff4['JJuTW'],_0x428ff4['DbQKL'],_0x428ff4['JZFzF']]);},'flushHeaders'(){this['res']['flushHeaders']();}};if(util['inspect']['custom']){module['exports'][util['inspect']['custom']]=module['exports']['inspect'];}