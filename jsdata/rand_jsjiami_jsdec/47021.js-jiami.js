import{join}from'path';import _0x342a09 from'cheerio';import _0x1ddb22 from'next-webdriver';import{nextBuild,nextExport,startCleanStaticServer,stopApp,renderViaHTTP}from'next-test-utils';jest['setTimeout'](0x3e8*0x3c);const appDir=join(__dirname,'../');const outdir=join(appDir,'out');describe('Export Dyanmic Pages',()=>{var nsahKT={'qfmJs':function(callee,param1,param2){return callee(param1,param2);},'jDmzr':function(callee,param1){return callee(param1);},'vzqSQ':'/regression/jeff-is-cool','WrDfg':'#asPath','wSwYm':function(callee,param1,param2){return callee(param1,param2);},'JXuml':'should of exported with correct asPath','ukIdz':function(callee,param1,param2){return callee(param1,param2);}};let server;let port;nsahKT['jDmzr'](beforeAll,async()=>{await nextBuild(appDir);await nsahKT['qfmJs'](nextExport,appDir,{'outdir':outdir});server=await nsahKT['jDmzr'](startCleanStaticServer,outdir);port=server['address']()['port'];});nsahKT['jDmzr'](afterAll,async()=>{await stopApp(server);});nsahKT['wSwYm'](it,nsahKT['JXuml'],async()=>{const html=await nsahKT['qfmJs'](renderViaHTTP,port,nsahKT['vzqSQ']);const $=_0x342a09['load'](html);expect(nsahKT['jDmzr']($,nsahKT['WrDfg'])['text']())['toBe']('/regression/jeff-is-cool');});nsahKT['ukIdz'](it,'should hydrate with correct asPath',async()=>{expect['assertions'](0x1);const browser=await _0x1ddb22(port,'/regression/jeff-is-cool');try{expect(await browser['eval']('window.__AS_PATHS'))['toEqual'](['/regression/jeff-is-cool']);}finally{await browser['close']();}});});