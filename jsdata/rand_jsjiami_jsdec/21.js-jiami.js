'use strict';describe('Injector',()=>{var _0x504261={'ehjbV':'<script src="jquery.min.js"></script>','yPUvF':'head_end','wPqyT':'body_end','Ppyck':function(_0x4499b1,_0x1e90d9){return _0x4499b1===_0x1e90d9;},'eZOuI':'PMQzA','cnwRH':'message','qcgfZ':'<link rel="stylesheet" href="DPlayer.min.css" />','OVsee':'head_begin','fqhoq':'<!DOCTYPE html>','WitJF':'<head id="head"><title>Test</title>','fhMlf':'<div></div>','zVMAm':'<p></p>','zSSbp':'</body>','agnMm':'</html>','FXVhG':'<!-- Powered by Hexo -->','RYlue':'body_begin','zTUpq':'<script>window.Prism\x20=\x20window.Prism\x20||\x20{};\x20window.Prism.manual\x20=\x20true;</script>','UaHCQ':'<!--\x20hexo\x20injector\x20head_end\x20start\x20--><link\x20href=\x22prism.css\x22\x20rel=\x22stylesheet\x22><link\x20href=\x22prism-linenumber.css\x22\x20rel=\x22stylesheet\x22><!--\x20hexo\x20injector\x20head_end\x20end\x20--></head>','xZxvH':'<body id="body"><!-- hexo injector body_begin start --><script>window.Prism = window.Prism || {}; window.Prism.manual = true;</script><!-- hexo injector body_begin end -->','YIrrQ':'<!--\x20hexo\x20injector\x20body_end\x20start\x20--><script\x20src=\x22prism.js\x22></script><!--\x20hexo\x20injector\x20body_end\x20end\x20--></body>','xySzU':function(_0x6f34c1,_0x14a996){return _0x6f34c1!==_0x14a996;},'whUot':function(_0x97fce1){return _0x97fce1();},'CLfHq':'home','LymqM':'dTQqB','rpaoe':'<script src="DPlayer.min.js"></script>','uoxbv':'<body\x20id=\x22body\x22><div></div><p></p></body>','pPSCc':'<head id="head"><title>Test</title></head>','iNoNp':'nrfPQ','PmGSx':'<link\x20href=\x22prism-linenumber.css\x22\x20rel=\x22stylesheet\x22>','iyYzT':'<head id="head"><!-- hexo injector head_begin start --><!-- Powered by Hexo --><!-- hexo injector head_begin end -->','RateO':'<html lang="en">','XhugW':'<title>Test</title>','yscwi':'<!-- hexo injector head_end start --><link href="prism.css" rel="stylesheet"></head>','neJpk':'<body id="body"><!-- hexo injector body_begin start --><!-- hexo injector body_begin end -->','yxewY':'<link href="prism.css" rel="stylesheet">','BnwVF':'HkEAq','IBvzj':'fmAEZ','JQUab':'</head>','MIUza':'<script src="prism.js"></script>','kwYIl':function(_0x432cd6,_0x5ca519){return _0x432cd6!==_0x5ca519;},'RDSlt':'HZmrp','oUFfI':'<!--\x20head_begin_default\x20-->','KBrFb':'<!-- head_begin_home -->','lCkPV':'<!--\x20head_begin_post\x20-->','PbhFR':'<!-- head_begin_page -->','IbFrw':'<!-- head_begin_archive -->','iZMTh':'archive','feuVZ':'category','XRDhn':'<!-- head_begin_tag -->','sckIi':'tag','VGDmK':'<!-- head_begin_home --><!-- head_begin_default -->','lGAyD':'<!--\x20head_begin_post\x20--><!--\x20head_begin_default\x20-->','aPDOD':'<!-- head_begin_category -->','PbGVB':'<!-- head_begin_category --><!-- head_begin_default -->','MAHZX':'<body\x20id=\x22body\x22>','KQSkZ':function(_0x59e2c9,_0x2be8cb){return _0x59e2c9(_0x2be8cb);},'HfMYK':function(_0x442713,_0xab13e4,_0x192f0e){return _0x442713(_0xab13e4,_0x192f0e);},'VMsVW':'register() - entry is required','snJBO':function(_0x2e452e,_0x5169e5,_0x199a43){return _0x2e452e(_0x5169e5,_0x199a43);},'fWjNm':function(_0x18083c,_0x481734,_0x45d08f){return _0x18083c(_0x481734,_0x45d08f);},'yaCOo':'register() - fallback when entry not exists','acPeU':function(_0x5416f0,_0x57d4d7,_0xf327d3){return _0x5416f0(_0x57d4d7,_0xf327d3);},'hYbsc':'list()','jJTAJ':'get()','jFavN':'getText()','DTMZl':'getSize()','mnWmJ':function(_0x161cca,_0x2c5f0f,_0x3ad146){return _0x161cca(_0x2c5f0f,_0x3ad146);},'TVovy':function(_0x30fd0a,_0x2836eb,_0x4329d2){return _0x30fd0a(_0x2836eb,_0x4329d2);},'GbZSu':'exec() - no duplicate insert','rqESk':'exec() - multi-line head & body','MLpYI':function(_0x2ab691,_0x3d46f4,_0x564711){return _0x2ab691(_0x3d46f4,_0x564711);},'XTaaG':'exec() - inject on specific page'};const _0x35f181=[_0x504261['fqhoq'],_0x504261['RateO'],_0x504261['WitJF'],'</head>',_0x504261['MAHZX'],'<div></div>',_0x504261['zVMAm'],_0x504261['zSSbp'],_0x504261['agnMm']]['join']('');const _0x103e25=_0x504261['KQSkZ'](require,'../../../lib/extend/injector');_0x504261['HfMYK'](it,_0x504261['VMsVW'],()=>{const _0x13b6cb=new _0x103e25();try{if(_0x504261['Ppyck'](_0x504261['eZOuI'],'bpPMj')){const _0x1e8a8a=new _0x103e25();const _0x29abc9=_0x504261['ehjbV'];_0x1e8a8a['register'](_0x504261['yPUvF'],_0x29abc9);_0x1e8a8a['register'](_0x504261['wPqyT'],_0x29abc9);_0x1e8a8a['register'](_0x504261['wPqyT'],_0x29abc9,'home');_0x1e8a8a['getSize']('head_begin')['should']['eql'](0x0);_0x1e8a8a['getSize'](_0x504261['yPUvF'])['should']['eql'](0x1);_0x1e8a8a['getSize'](_0x504261['wPqyT'])['should']['eql'](0x2);}else{_0x13b6cb['register']();}}catch(_0x1a12cf){_0x1a12cf['should']['be']['instanceOf'](TypeError)['property'](_0x504261['cnwRH'],'entry\x20is\x20required');}});_0x504261['snJBO'](it,'register() - string',()=>{const _0x17784b=new _0x103e25();const _0x3d042b=_0x504261['qcgfZ'];_0x17784b['register']('head_begin',_0x3d042b);_0x17784b['register'](_0x504261['yPUvF'],_0x3d042b,'home');_0x17784b['get']('head_begin')['should']['contains'](_0x3d042b);_0x17784b['get'](_0x504261['OVsee'],'default')['should']['contains'](_0x3d042b);_0x17784b['get'](_0x504261['yPUvF'],'home')['should']['contains'](_0x3d042b);});_0x504261['snJBO'](it,'register() - function',()=>{if(_0x504261['xySzU']('ajXvk','ajXvk')){const _0x1a9a83=[_0x504261['fqhoq'],'<html lang="en">',_0x504261['WitJF'],'</head>','<body id="body">',_0x504261['fhMlf'],_0x504261['zVMAm'],_0x504261['zSSbp'],_0x504261['agnMm']]['join']('\x0a');const _0x514fa8=new _0x103e25();_0x514fa8['register'](_0x504261['OVsee'],_0x504261['FXVhG']);_0x514fa8['register']('head_end','<link href="prism.css" rel="stylesheet">');_0x514fa8['register']('head_end','<link href="prism-linenumber.css" rel="stylesheet">');_0x514fa8['register'](_0x504261['RYlue'],_0x504261['zTUpq']);_0x514fa8['register'](_0x504261['wPqyT'],'<script\x20src=\x22prism.js\x22></script>');const _0x5083a1=_0x514fa8['exec'](_0x1a9a83);_0x5083a1['should']['contain']('<head id="head"><!-- hexo injector head_begin start --><!-- Powered by Hexo --><!-- hexo injector head_begin end -->');_0x5083a1['should']['contain'](_0x504261['UaHCQ']);_0x5083a1['should']['contain'](_0x504261['xZxvH']);_0x5083a1['should']['contain'](_0x504261['YIrrQ']);}else{const _0x4a76ba=new _0x103e25();const _0x295e67=()=>'<link rel="stylesheet" href="DPlayer.min.css" />';_0x4a76ba['register'](_0x504261['OVsee'],_0x295e67);_0x4a76ba['get'](_0x504261['OVsee'])['should']['contains'](_0x504261['whUot'](_0x295e67));}});_0x504261['fWjNm'](it,_0x504261['yaCOo'],()=>{const _0x1f291d=new _0x103e25();const _0x389c22=_0x504261['qcgfZ'];_0x1f291d['register']('foo',_0x389c22);_0x1f291d['get']('head_end')['should']['contains'](_0x389c22);});_0x504261['acPeU'](it,_0x504261['hYbsc'],()=>{var _0x3205d4={'oiHOU':_0x504261['ehjbV'],'Dbpzf':_0x504261['RYlue'],'naplq':_0x504261['CLfHq'],'GHMnJ':_0x504261['yPUvF']};if(_0x504261['Ppyck'](_0x504261['LymqM'],'nOeap')){const _0x4e61f4=new _0x103e25();const _0x3288c8=_0x3205d4['oiHOU'];_0x4e61f4['register'](_0x3205d4['Dbpzf'],_0x3288c8);_0x4e61f4['register']('body_end',_0x3288c8,_0x3205d4['naplq']);_0x4e61f4['get'](_0x3205d4['Dbpzf'])['should']['be']['instanceOf'](Array);_0x4e61f4['get'](_0x3205d4['Dbpzf'])['should']['contains'](_0x3288c8);_0x4e61f4['get']('body_end','home')['should']['be']['instanceOf'](Array);_0x4e61f4['get']('body_end','home')['should']['contains'](_0x3288c8);_0x4e61f4['get'](_0x3205d4['GHMnJ'])['should']['be']['instanceOf'](Array);_0x4e61f4['get'](_0x3205d4['GHMnJ'])['should']['eql']([]);}else{const _0x41500f=new _0x103e25();_0x41500f['register'](_0x504261['RYlue'],_0x504261['rpaoe']);_0x41500f['list']()['body_begin']['default']['should']['be']['instanceOf'](Set);[..._0x41500f['list']()['body_begin']['default']]['should']['not']['be']['empty'];}});_0x504261['acPeU'](it,_0x504261['jJTAJ'],()=>{const _0x56c919=new _0x103e25();const _0x3da0d0=_0x504261['ehjbV'];_0x56c919['register'](_0x504261['RYlue'],_0x3da0d0);_0x56c919['register'](_0x504261['wPqyT'],_0x3da0d0,'home');_0x56c919['get']('body_begin')['should']['be']['instanceOf'](Array);_0x56c919['get'](_0x504261['RYlue'])['should']['contains'](_0x3da0d0);_0x56c919['get']('body_end',_0x504261['CLfHq'])['should']['be']['instanceOf'](Array);_0x56c919['get']('body_end',_0x504261['CLfHq'])['should']['contains'](_0x3da0d0);_0x56c919['get'](_0x504261['yPUvF'])['should']['be']['instanceOf'](Array);_0x56c919['get'](_0x504261['yPUvF'])['should']['eql']([]);});_0x504261['acPeU'](it,_0x504261['jFavN'],()=>{const _0x42dab8=new _0x103e25();const _0x3bb6ed=_0x504261['ehjbV'];_0x42dab8['register'](_0x504261['yPUvF'],_0x3bb6ed);_0x42dab8['register'](_0x504261['wPqyT'],_0x3bb6ed,'home');_0x42dab8['getText'](_0x504261['wPqyT'],'home')['should']['eql'](_0x3bb6ed);_0x42dab8['getText'](_0x504261['wPqyT'])['should']['eql']('');});_0x504261['acPeU'](it,_0x504261['DTMZl'],()=>{const _0x14cf65=new _0x103e25();const _0x24f526=_0x504261['ehjbV'];_0x14cf65['register'](_0x504261['yPUvF'],_0x24f526);_0x14cf65['register'](_0x504261['wPqyT'],_0x24f526);_0x14cf65['register'](_0x504261['wPqyT'],_0x24f526,_0x504261['CLfHq']);_0x14cf65['getSize'](_0x504261['OVsee'])['should']['eql'](0x0);_0x14cf65['getSize'](_0x504261['yPUvF'])['should']['eql'](0x1);_0x14cf65['getSize']('body_end')['should']['eql'](0x2);});it('exec()\x20-\x20default',()=>{const _0x917fc6=new _0x103e25();const _0x19d31e=_0x917fc6['exec'](_0x35f181);_0x19d31e['should']['contain']('<head\x20id=\x22head\x22><title>Test</title></head>');_0x19d31e['should']['contain'](_0x504261['uoxbv']);});_0x504261['mnWmJ'](it,'exec() - default',()=>{const _0x1b3229=new _0x103e25();const _0x444b61=_0x1b3229['exec'](_0x35f181);_0x444b61['should']['contain'](_0x504261['pPSCc']);_0x444b61['should']['contain'](_0x504261['uoxbv']);});_0x504261['TVovy'](it,'exec() - insert code',()=>{if(_0x504261['iNoNp']===_0x504261['iNoNp']){const _0x46cfd3=new _0x103e25();_0x46cfd3['register'](_0x504261['OVsee'],_0x504261['FXVhG']);_0x46cfd3['register'](_0x504261['yPUvF'],'<link href="prism.css" rel="stylesheet">');_0x46cfd3['register'](_0x504261['yPUvF'],_0x504261['PmGSx']);_0x46cfd3['register']('body_begin',_0x504261['zTUpq']);_0x46cfd3['register'](_0x504261['wPqyT'],'<script\x20src=\x22prism.js\x22></script>');const _0x24564b=_0x46cfd3['exec'](_0x35f181);_0x24564b['should']['contain'](_0x504261['iyYzT']);_0x24564b['should']['contain'](_0x504261['UaHCQ']);_0x24564b['should']['contain'](_0x504261['xZxvH']);_0x24564b['should']['contain'](_0x504261['YIrrQ']);}else{const _0xf23a20=new _0x103e25();const _0x59476e='<link rel="stylesheet" href="DPlayer.min.css" />';_0xf23a20['register']('foo',_0x59476e);_0xf23a20['get']('head_end')['should']['contains'](_0x59476e);}});_0x504261['TVovy'](it,_0x504261['GbZSu'],()=>{const _0x35f181=[_0x504261['fqhoq'],_0x504261['RateO'],'<head id="head"><!-- hexo injector head_begin start --><!-- hexo injector head_begin end -->',_0x504261['XhugW'],_0x504261['yscwi'],_0x504261['neJpk'],_0x504261['fhMlf'],'<p></p>',_0x504261['YIrrQ'],_0x504261['agnMm']]['join']('');const _0x5692fb=new _0x103e25();_0x5692fb['register'](_0x504261['OVsee'],_0x504261['FXVhG']);_0x5692fb['register'](_0x504261['yPUvF'],_0x504261['yxewY']);_0x5692fb['register'](_0x504261['yPUvF'],_0x504261['PmGSx']);_0x5692fb['register'](_0x504261['RYlue'],_0x504261['zTUpq']);_0x5692fb['register'](_0x504261['wPqyT'],'<script src="prism.js"></script>');const _0x27a28e=_0x5692fb['exec'](_0x35f181);_0x27a28e['should']['contain']('<head\x20id=\x22head\x22><!--\x20hexo\x20injector\x20head_begin\x20start\x20--><!--\x20hexo\x20injector\x20head_begin\x20end\x20-->');_0x27a28e['should']['contain'](_0x504261['yscwi']);_0x27a28e['should']['contain'](_0x504261['neJpk']);_0x27a28e['should']['contain'](_0x504261['YIrrQ']);});it(_0x504261['rqESk'],()=>{var _0x1c8e9b={'WZSlF':'<head id="head"><title>Test</title></head>'};if(_0x504261['xySzU'](_0x504261['BnwVF'],_0x504261['IBvzj'])){const _0x35f181=['<!DOCTYPE html>',_0x504261['RateO'],_0x504261['WitJF'],_0x504261['JQUab'],'<body\x20id=\x22body\x22>',_0x504261['fhMlf'],'<p></p>',_0x504261['zSSbp'],'</html>']['join']('\x0a');const _0x5aed5a=new _0x103e25();_0x5aed5a['register'](_0x504261['OVsee'],_0x504261['FXVhG']);_0x5aed5a['register'](_0x504261['yPUvF'],_0x504261['yxewY']);_0x5aed5a['register'](_0x504261['yPUvF'],_0x504261['PmGSx']);_0x5aed5a['register']('body_begin',_0x504261['zTUpq']);_0x5aed5a['register'](_0x504261['wPqyT'],_0x504261['MIUza']);const _0x1ad44d=_0x5aed5a['exec'](_0x35f181);_0x1ad44d['should']['contain'](_0x504261['iyYzT']);_0x1ad44d['should']['contain'](_0x504261['UaHCQ']);_0x1ad44d['should']['contain']('<body\x20id=\x22body\x22><!--\x20hexo\x20injector\x20body_begin\x20start\x20--><script>window.Prism\x20=\x20window.Prism\x20||\x20{};\x20window.Prism.manual\x20=\x20true;</script><!--\x20hexo\x20injector\x20body_begin\x20end\x20-->');_0x1ad44d['should']['contain'](_0x504261['YIrrQ']);}else{const _0x214fad=new _0x103e25();const _0x5063a5=_0x214fad['exec'](_0x35f181);_0x5063a5['should']['contain'](_0x1c8e9b['WZSlF']);_0x5063a5['should']['contain']('<body id="body"><div></div><p></p></body>');}});_0x504261['MLpYI'](it,_0x504261['XTaaG'],()=>{if(_0x504261['kwYIl']('HZmrp',_0x504261['RDSlt'])){const _0x4c20f8=new _0x103e25();const _0x1255e1=_0x504261['ehjbV'];_0x4c20f8['register'](_0x504261['yPUvF'],_0x1255e1);_0x4c20f8['register']('body_end',_0x1255e1,_0x504261['CLfHq']);_0x4c20f8['getText']('body_end',_0x504261['CLfHq'])['should']['eql'](_0x1255e1);_0x4c20f8['getText'](_0x504261['wPqyT'])['should']['eql']('');}else{const _0x35f181=['<!DOCTYPE\x20html>','<html lang="en">',_0x504261['WitJF'],_0x504261['JQUab'],'<body id="body">',_0x504261['fhMlf'],'<p></p>',_0x504261['zSSbp'],_0x504261['agnMm']]['join']('\x0a');const _0x25c9e5=new _0x103e25();_0x25c9e5['register'](_0x504261['OVsee'],_0x504261['oUFfI']);_0x25c9e5['register']('head_begin',_0x504261['KBrFb'],'home');_0x25c9e5['register'](_0x504261['OVsee'],_0x504261['lCkPV'],'post');_0x25c9e5['register']('head_begin',_0x504261['PbhFR'],'page');_0x25c9e5['register'](_0x504261['OVsee'],_0x504261['IbFrw'],_0x504261['iZMTh']);_0x25c9e5['register'](_0x504261['OVsee'],'<!-- head_begin_category -->',_0x504261['feuVZ']);_0x25c9e5['register'](_0x504261['OVsee'],_0x504261['XRDhn'],_0x504261['sckIi']);const _0x39de30=_0x25c9e5['exec'](_0x35f181,{'page':{}});const _0x5d2060=_0x25c9e5['exec'](_0x35f181,{'page':{'__index':!![]}});const _0x2508a4=_0x25c9e5['exec'](_0x35f181,{'page':{'__post':!![]}});const _0x3a1113=_0x25c9e5['exec'](_0x35f181,{'page':{'__page':!![]}});const _0x198043=_0x25c9e5['exec'](_0x35f181,{'page':{'archive':!![]}});const _0x2d06e4=_0x25c9e5['exec'](_0x35f181,{'page':{'category':!![]}});const _0x472fb5=_0x25c9e5['exec'](_0x35f181,{'page':{'tag':!![]}});_0x39de30['should']['not']['contain'](_0x504261['KBrFb']);_0x5d2060['should']['contain'](_0x504261['VGDmK']);_0x39de30['should']['not']['contain']('<!-- head_begin_post -->');_0x2508a4['should']['contain'](_0x504261['lGAyD']);_0x39de30['should']['not']['contain'](_0x504261['PbhFR']);_0x3a1113['should']['contain']('<!--\x20head_begin_page\x20--><!--\x20head_begin_default\x20-->');_0x39de30['should']['not']['contain'](_0x504261['IbFrw']);_0x198043['should']['contain']('<!-- head_begin_archive --><!-- head_begin_default -->');_0x39de30['should']['not']['contain'](_0x504261['aPDOD']);_0x2d06e4['should']['contain'](_0x504261['PbGVB']);_0x39de30['should']['not']['contain'](_0x504261['XRDhn']);_0x472fb5['should']['contain']('<!-- head_begin_tag --><!-- head_begin_default -->');}});});