import _0x52c2b4 from'consola';import{loadFixture,getPort,Nuxt,rp}from'../utils';let port;const url=route=>'http://localhost:'+port+route;let nuxt=null;describe('basic\x20ssr',()=>{var PNhVdj={'bQAAR':function(callee,param1){return callee(param1);},'GciNr':function(callee){return callee();},'VwsJB':'/stateless','oQjeq':'<h1>My component!</h1>','bXXPM':'/store-module','IzKKD':'<h1>mutated</h1>','oTbPj':'/css','aCvhR':function(callee,param1){return callee(param1);},'wtvol':'color:red','tcYEM':'.red','DlCTp':'red','iktUm':function(callee,param1){return callee(param1);},'gGByM':function(callee,param1){return callee(param1);},'OWFlL':function(callee,param1){return callee(param1);},'wEIaD':'This is red','ougwx':function(callee,param1){return callee(param1);},'ZyZKt':function(callee,param1){return callee(param1);},'gIEgI':function(callee,param1){return callee(param1);},'RQvBd':'background-color:#00f','tyHHJ':'/stateful','ODYlN':'/store','vVDTu':function(callee,param1){return callee(param1);},'FooCv':'<h1>foo/bar/baz:\x20Vuex\x20Nested\x20Modules</h1>','YmDlt':'<h3>foo/blarg/getVal:\x204</h3>','KenhG':'<h4>foo/bab/getBabVal: 10</h4>','SvYDW':'/head','jbvqe':'My title - Nuxt','vvtAX':'<div><h1>I\x20can\x20haz\x20meta\x20tags</h1></div>','klttE':'<script data-n-head="ssr" src="/body.js" data-body="true">','wRGuO':'meta','aNmzo':'content','uaSwH':'my meta','yrOii':function(callee,param1){return callee(param1);},'mWzeq':'<html foo="baz" data-n-head="%7B%22foo%22:%7B%22ssr%22:%22baz%22%7D%7D">','GEoXc':function(callee,param1){return callee(param1);},'JJqcX':'<head\x20bar=\x22foo\x22\x20data-n-head=\x22%7B%22bar%22:%7B%22ssr%22:%22foo%22%7D%7D\x22>','LoCdK':function(callee,param1){return callee(param1);},'wSJlL':'/await-async-data','rORtJ':'<p>Await Nuxt</p>','ebMro':'/callback-async-data','HkteI':'/users/1','RVXkD':'<h1>User: 1</h1>','WoWAq':'/validate','KcTEn':'This page could not be found','ihIPt':'/validate?valid=true','ltRXc':function(callee,param1){return callee(param1);},'fLUfF':'<h1>I am valid</h1>','XReXP':function(callee,param1){return callee(param1);},'EFApH':'/validate?error=403','jmoZG':'Custom Error','oshUc':function(callee,param1){return callee(param1);},'EtUzJ':'/validate-async?error=503','mExzp':function(callee,param1){return callee(param1);},'zUKKI':'/before-enter','FGVFu':'<h1>Index\x20page</h1>','jmSNn':'window.__NUXT__','BsDGH':function(callee,param1){return callee(param1);},'ahCTv':'/redirect','yKdPQ':'/redirect-external','vUwOJ':function(callee,param1){return callee(param1);},'FcQPZ':'https://nuxtjs.org/docs/2.x/features/data-fetching/','cuGph':'<div data-server-rendered="true" id="__nuxt"></div>','EeuhL':'/redirect-external-no-slash','jfMWl':function(callee,param1){return callee(param1);},'bVGVj':'/redirect-external-root','ksLZC':function(callee,param1){return callee(param1);},'qVFss':'https://nuxtjs.org/','pCAUJ':function(callee,param1,param2){return callee(param1,param2);},'cSgNh':'/redirect\x20->\x20external\x20link','DDkYU':'/redirect\x20->\x20external\x20link\x20without\x20trailing\x20slash','omZRK':'/redirect -> external link with root domain url','yWqja':'/before-nuxt-render','sLqVQ':function(callee,param1){return callee(param1);},'myqif':function(callee,param1){return callee(param1);},'nxgFz':'/before-serialize','ikkMl':'Nuxt','NPeIw':function(callee,param1){return callee(param1);},'zGXCo':'/error','xzAKp':'Error\x20mouahahah','xPkFO':'/error-string','iKLai':function(callee,param1){return callee(param1);},'epmyB':function(callee,param1){return callee(param1);},'sZGPa':'application/json','ztaYy':function(callee,param1){return callee(param1);},'NGxPv':function(callee,param1,param2){return callee(param1,param2);},'bAygS':function(callee,param1){return callee(param1);},'EUCkf':'text/json; charset=utf-8','SVfNt':'/error2','OxEJL':'Custom\x20error','blMWz':function(callee,param1){return callee(param1);},'uVvlR':function(callee,param1){return callee(param1);},'ScmBN':function(callee,param1){return callee(param1);},'Ygtxx':function(callee,param1){return callee(param1);},'ZmcQY':'/redirect-middleware','Xojtt':'/redirect-name','UuxtC':function(callee,param1){return callee(param1);},'RJrxz':function(callee,param1){return callee(param1);},'Nvflt':function(x,y){return x===y;},'zyRke':function(callee,param1){return callee(param1);},'mxpPm':'<p class="client-only-placeholder">Loading...</p>','rfrDV':'Displayed only on client-side</h1>','DePAa':'<p\x20class=\x22no-ssr-placeholder\x22>Loading...</p>','psdgV':function(callee,param1){return callee(param1);},'IFuWQ':'/no-ssr','uECbR':function(callee,param1){return callee(param1);},'TwUog':function(callee,param1){return callee(param1);},'YJKOl':'<no-ssr>\x20has\x20been\x20deprecated','ZMoXI':function(callee,param1){return callee(param1);},'dWFJI':function(callee,param1){return callee(param1);},'nXPin':'/_nuxt/','YThWL':'/meta','UMBgF':function(callee,param1){return callee(param1);},'EkEoc':'/fn-midd','vTILG':'<h1>Date:','FAApT':'/router-guard','AVEWV':function(callee,param1){return callee(param1);},'yJmWo':'Router Guard','HkHmE':'/router-guard-error','GWRjp':function(callee,param1){return callee(param1);},'pYIgD':function(callee,param1){return callee(param1);},'HiaKk':'/router-guard-error?error=zepe','FxHmZ':'Page\x20content','BFHuX':'zepe','fnElt':function(callee,param1){return callee(param1);},'RmKsb':'/router-guard-error?throw=ezae','XYTvJ':'ezae','CRWiF':'/jsx','wVQpr':function(callee,param1){return callee(param1);},'feRgq':'/jsx-link','ytlRS':'/js-link','aAKoa':'<h1>vue\x20file\x20is\x20first-class</h1>','DClVm':function(callee,param1){return callee(param1);},'elwnr':function(callee,param1){return callee(param1);},'MGcop':'Hello\x20unicode','maLfl':'/custom','RlBQy':function(callee,param1){return callee(param1);},'QNFot':'<h1>JS Layout</h1>','wrqWy':'<h2>custom page</h2>','YTPeg':'/symlink/symlinked','shQzQ':function(callee,param1){return callee(param1);},'lDIJG':'<h1>Symlinked page</h1>','OXjCt':'/symlink/deep/nested-symlinked','baOjY':'<h1>Nested symlink page</h1>','iaung':'/components','tlRTi':function(callee,param1){return callee(param1);},'VXVvQ':function(callee,param1,param2){return callee(param1,param2);},'BLJnx':function(callee,param1,param2){return callee(param1,param2);},'iPuuH':'/postcss','bRkkv':function(callee,param1,param2){return callee(param1,param2);},'OiRfo':function(callee,param1,param2){return callee(param1,param2);},'nZVuO':function(callee,param1,param2){return callee(param1,param2);},'fxuJx':'/async-data','snPSh':function(callee,param1,param2){return callee(param1,param2);},'TlPPO':'/validate should display a 404','XwcxR':'/validate-async\x20should\x20display\x20a\x20404','Xdhgy':function(callee,param1,param2){return callee(param1,param2);},'CpiZi':'/validate-async?valid=true','pqbSt':function(callee,param1,param2){return callee(param1,param2);},'vgHdk':function(callee,param1,param2){return callee(param1,param2);},'tykrt':'/before-serialize\x20->\x20check\x20window.__NUXT__.beforeSerialize\x20=\x20true','wEexJ':function(callee,param1,param2){return callee(param1,param2);},'DumNT':function(callee,param1,param2){return callee(param1,param2);},'SmPdn':'/error-object','asfsl':function(callee,param1,param2){return callee(param1,param2);},'QxGpB':'/error json format error','qfZaQ':function(callee,param1,param2){return callee(param1,param2);},'tkFEl':function(callee,param1,param2){return callee(param1,param2);},'sWjyK':'/error2\x20status\x20code','LDCUu':function(callee,param1,param2){return callee(param1,param2);},'Rzmtb':function(callee,param1,param2){return callee(param1,param2);},'OYWlk':'/client-only','UsaOz':'/client-only (client-side)','HcXnB':'/no-ssr (client-side)','ArWNU':function(callee,param1,param2){return callee(param1,param2);},'ISuNc':'/_nuxt/ should return 404','oZCtd':'/fn-midd?please=true','rsRSg':function(callee,param1,param2){return callee(param1,param2);},'jEJQS':function(callee,param1,param2){return callee(param1,param2);},'oJpBe':function(callee,param1,param2){return callee(param1,param2);},'RpYFg':function(callee,param1,param2){return callee(param1,param2);},'iqYdr':function(callee,param1,param2){return callee(param1,param2);},'jjesv':function(callee,param1,param2){return callee(param1,param2);},'kKGmr':'/custom (js layout)','lGiry':function(callee,param1,param2){return callee(param1,param2);},'kqRzr':function(callee,param1,param2){return callee(param1,param2);},'tIJbu':'/ (normal <script>)'};PNhVdj['tlRTi'](beforeAll,async()=>{const options=await PNhVdj['bQAAR'](loadFixture,'basic');nuxt=new Nuxt(options);await nuxt['ready']();port=await PNhVdj['GciNr'](getPort);await nuxt['server']['listen'](port,'0.0.0.0');});PNhVdj['VXVvQ'](test,'/stateless',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['VwsJB']);expect(html)['toContain'](PNhVdj['oQjeq']);});PNhVdj['BLJnx'](test,PNhVdj['bXXPM'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['bXXPM']);PNhVdj['bQAAR'](expect,html)['toContain'](PNhVdj['IzKKD']);});PNhVdj['BLJnx'](test,PNhVdj['oTbPj'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](url(PNhVdj['oTbPj']));const headHtml=window['document']['head']['innerHTML'];PNhVdj['aCvhR'](expect,headHtml)['toContain'](PNhVdj['wtvol']);const element=window['document']['querySelector'](PNhVdj['tcYEM']);expect(element)['not']['toBe'](null);expect(element['textContent'])['toContain']('This\x20is\x20red');PNhVdj['aCvhR'](expect,element['className'])['toBe'](PNhVdj['DlCTp']);});test('/postcss',async()=>{const window=await nuxt['server']['renderAndGetWindow'](PNhVdj['aCvhR'](url,PNhVdj['oTbPj']));const headHtml=window['document']['head']['innerHTML'];PNhVdj['iktUm'](expect,headHtml)['toContain']('color:red');const element=window['document']['querySelector'](PNhVdj['tcYEM']);PNhVdj['gGByM'](expect,element)['not']['toBe'](null);PNhVdj['OWFlL'](expect,element['textContent'])['toContain'](PNhVdj['wEIaD']);PNhVdj['ougwx'](expect,element['className'])['toBe'](PNhVdj['DlCTp']);});test(PNhVdj['iPuuH'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](PNhVdj['ZyZKt'](url,PNhVdj['oTbPj']));const headHtml=window['document']['head']['innerHTML'];PNhVdj['gIEgI'](expect,headHtml)['toContain'](PNhVdj['RQvBd']);});PNhVdj['BLJnx'](test,'/stateful',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['tyHHJ']);PNhVdj['gIEgI'](expect,html)['toContain']('<div><p>The\x20answer\x20is\x2042</p></div>');});PNhVdj['bRkkv'](test,PNhVdj['ODYlN'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['ODYlN']);PNhVdj['vVDTu'](expect,html)['toContain'](PNhVdj['FooCv']);expect(html)['toContain']('<h2>index/counter: 1</h2>');PNhVdj['vVDTu'](expect,html)['toContain'](PNhVdj['YmDlt']);expect(html)['toContain'](PNhVdj['KenhG']);});PNhVdj['OiRfo'](test,'/head',async()=>{const window=await nuxt['server']['renderAndGetWindow'](url(PNhVdj['SvYDW']));PNhVdj['vVDTu'](expect,window['document']['title'])['toBe'](PNhVdj['jbvqe']);const html=window['document']['querySelector']('html')['outerHTML'];PNhVdj['vVDTu'](expect,html)['toContain'](PNhVdj['vvtAX']);PNhVdj['vVDTu'](expect,html)['toContain'](PNhVdj['klttE']);const metas=window['document']['getElementsByTagName'](PNhVdj['wRGuO']);expect(metas[0x1]['getAttribute'](PNhVdj['aNmzo']))['toBe'](PNhVdj['uaSwH']);expect(_0x52c2b4['log'])['toHaveBeenCalledWith']('Body script!');PNhVdj['yrOii'](expect,html)['toContain'](PNhVdj['mWzeq']);PNhVdj['GEoXc'](expect,html)['toContain'](PNhVdj['JJqcX']);expect(html)['toContain']('<body baz="bar" data-n-head="%7B%22baz%22:%7B%22ssr%22:%22bar%22%7D%7D">');});PNhVdj['nZVuO'](test,PNhVdj['fxuJx'],async()=>{const {html}=await nuxt['server']['renderRoute']('/async-data');PNhVdj['LoCdK'](expect,html)['toContain']('<p>Nuxt</p>');});PNhVdj['snPSh'](test,'/await-async-data',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['wSJlL']);expect(html)['toContain'](PNhVdj['rORtJ']);});test(PNhVdj['ebMro'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['ebMro']);expect(html)['toContain']('<p>Callback Nuxt</p>');});test(PNhVdj['HkteI'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['HkteI']);expect(html)['toContain'](PNhVdj['RVXkD']);});test(PNhVdj['TlPPO'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['WoWAq']);expect(html)['toContain'](PNhVdj['KcTEn']);});PNhVdj['snPSh'](test,PNhVdj['XwcxR'],async()=>{const {html}=await nuxt['server']['renderRoute']('/validate-async');PNhVdj['LoCdK'](expect,html)['toContain'](PNhVdj['KcTEn']);});test('/validate?valid=true',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['ihIPt']);PNhVdj['ltRXc'](expect,html)['toContain'](PNhVdj['fLUfF']);});PNhVdj['Xdhgy'](test,PNhVdj['CpiZi'],async()=>{const {html}=await nuxt['server']['renderRoute']('/validate-async?valid=true');PNhVdj['XReXP'](expect,html)['toContain'](PNhVdj['fLUfF']);});test(PNhVdj['EFApH'],async()=>{const {html,error}=await nuxt['server']['renderRoute'](PNhVdj['EFApH']);PNhVdj['XReXP'](expect,error)['toMatchObject']({'statusCode':0x193,'message':PNhVdj['jmoZG']});PNhVdj['oshUc'](expect,html)['toContain'](PNhVdj['jmoZG']);});PNhVdj['pqbSt'](test,PNhVdj['EtUzJ'],async()=>{const {html,error}=await nuxt['server']['renderRoute'](PNhVdj['EtUzJ']);PNhVdj['mExzp'](expect,error)['toMatchObject']({'statusCode':0x1f7,'message':PNhVdj['jmoZG']});PNhVdj['mExzp'](expect,html)['toContain']('Custom Error');});test(PNhVdj['zUKKI'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['zUKKI']);expect(html)['toContain'](PNhVdj['FGVFu']);});PNhVdj['vgHdk'](describe,'/redirect',()=>{let _headers,_status;const renderContext={'res':{'writeHead'(status,headers){_status=status;_headers=headers;},'end'(){}}};PNhVdj['pCAUJ'](test,PNhVdj['ahCTv'],async()=>{const {html,redirected}=await nuxt['server']['renderRoute']('/redirect');expect(html)['toContain']('<div\x20id=\x22__nuxt\x22></div>');expect(html)['not']['toContain'](PNhVdj['jmSNn']);expect(redirected['path']==='/')['toBe'](!![]);PNhVdj['BsDGH'](expect,redirected['status']===0x12e)['toBe'](!![]);});PNhVdj['pCAUJ'](test,'/redirect -> check redirected source',async()=>{const window=await nuxt['server']['renderAndGetWindow'](url(PNhVdj['ahCTv']));const html=window['document']['body']['innerHTML'];expect(html)['toContain'](PNhVdj['FGVFu']);});test(PNhVdj['cSgNh'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['yKdPQ'],renderContext);PNhVdj['vUwOJ'](expect,_status)['toBe'](0x12e);PNhVdj['vUwOJ'](expect,_headers['Location'])['toBe'](PNhVdj['FcQPZ']);PNhVdj['vUwOJ'](expect,html)['toContain'](PNhVdj['cuGph']);});PNhVdj['pCAUJ'](test,PNhVdj['DDkYU'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['EeuhL'],renderContext);PNhVdj['vUwOJ'](expect,_status)['toBe'](0x12e);PNhVdj['jfMWl'](expect,_headers['Location'])['toBe']('https://nuxtjs.org/docs/2.x/features/data-fetching');expect(html)['toContain'](PNhVdj['cuGph']);});PNhVdj['pCAUJ'](test,PNhVdj['omZRK'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['bVGVj'],renderContext);expect(_status)['toBe'](0x12e);PNhVdj['ksLZC'](expect,_headers['Location'])['toBe'](PNhVdj['qVFss']);expect(html)['toContain'](PNhVdj['cuGph']);});});PNhVdj['vgHdk'](test,'/before-nuxt-render\x20->\x20check\x20window.__NUXT__.beforeNuxtRender\x20=\x20true',async()=>{const window=await nuxt['server']['renderAndGetWindow'](url(PNhVdj['yWqja']));PNhVdj['sLqVQ'](expect,window['document']['title'])['toBe']('Nuxt');PNhVdj['myqif'](expect,window['__NUXT__']['beforeNuxtRender'])['toBe'](!![]);});PNhVdj['vgHdk'](test,PNhVdj['tykrt'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](url(PNhVdj['nxgFz']));PNhVdj['myqif'](expect,window['document']['title'])['toBe'](PNhVdj['ikkMl']);PNhVdj['NPeIw'](expect,window['__NUXT__']['beforeSerialize'])['toBe'](!![]);});PNhVdj['wEexJ'](test,'/error',async()=>{await expect(nuxt['server']['renderRoute'](PNhVdj['zGXCo'],{'req':{},'res':{}}))['rejects']['toThrow'](PNhVdj['xzAKp']);});PNhVdj['DumNT'](test,'/error-string',async()=>{let error;try{await nuxt['server']['renderRoute'](PNhVdj['xPkFO'],{'req':{},'res':{}});}catch(_0x38041e){error=_0x38041e;}await PNhVdj['NPeIw'](expect,error)['toEqual']('fetch\x20error!');});PNhVdj['DumNT'](test,PNhVdj['SmPdn'],async()=>{let error;try{await nuxt['server']['renderRoute']('/error-object',{'req':{},'res':{}});}catch(_0xcc162c){error=_0xcc162c;}await PNhVdj['iKLai'](expect,error)['toEqual']({'error':'fetch\x20error!'});});test('/error status code',async()=>{await expect(PNhVdj['epmyB'](rp,url(PNhVdj['zGXCo'])))['rejects']['toMatchObject']({'response':{'statusCode':0x1f4}});});PNhVdj['asfsl'](test,PNhVdj['QxGpB'],async()=>{const opts={'headers':{'accept':PNhVdj['sZGPa']}};await PNhVdj['ztaYy'](expect,PNhVdj['NGxPv'](rp,PNhVdj['bAygS'](url,PNhVdj['zGXCo']),opts))['rejects']['toMatchObject']({'response':{'statusCode':0x1f4,'headers':{'content-type':PNhVdj['EUCkf']}}});});PNhVdj['qfZaQ'](test,PNhVdj['SVfNt'],async()=>{const {html,error}=await nuxt['server']['renderRoute'](PNhVdj['SVfNt']);expect(html)['toContain'](PNhVdj['OxEJL']);expect(error['message'])['toContain']('Custom error');PNhVdj['blMWz'](expect,error['statusCode'])['toBe'](0x1f4);PNhVdj['uVvlR'](expect,error['customProp'])['toBe']('ezpz');});PNhVdj['tkFEl'](test,PNhVdj['sWjyK'],async()=>{await PNhVdj['uVvlR'](expect,PNhVdj['ScmBN'](rp,PNhVdj['ScmBN'](url,PNhVdj['SVfNt'])))['rejects']['toMatchObject']({'response':{'statusCode':0x1f4,'body':expect['stringContaining'](PNhVdj['OxEJL'])}});});PNhVdj['LDCUu'](test,'/error-midd',async()=>{await expect(PNhVdj['Ygtxx'](rp,PNhVdj['Ygtxx'](url,'/error-midd')))['rejects']['toMatchObject']({'response':{'statusCode':0x1f9}});});PNhVdj['Rzmtb'](test,PNhVdj['ZmcQY'],async()=>{await expect(rp(PNhVdj['Ygtxx'](url,PNhVdj['ZmcQY'])))['resolves']['toBeTruthy']();});test('/redirect-name',async()=>{const {html,redirected}=await nuxt['server']['renderRoute'](PNhVdj['Xojtt']);PNhVdj['UuxtC'](expect,html)['toContain']('<div\x20id=\x22__nuxt\x22></div>');PNhVdj['RJrxz'](expect,PNhVdj['Nvflt'](redirected['path'],PNhVdj['VwsJB']))['toBe'](!![]);PNhVdj['zyRke'](expect,redirected['status']===0x12e)['toBe'](!![]);});PNhVdj['Rzmtb'](test,PNhVdj['OYWlk'],async()=>{const {html}=await nuxt['server']['renderRoute']('/client-only');PNhVdj['zyRke'](expect,html['includes'](PNhVdj['mxpPm']))['toBe'](!![]);});PNhVdj['Rzmtb'](test,PNhVdj['UsaOz'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](url('/client-only'));const html=window['document']['body']['innerHTML'];PNhVdj['zyRke'](expect,html)['toContain'](PNhVdj['rfrDV']);});PNhVdj['Rzmtb'](test,PNhVdj['IFuWQ'],async()=>{const {html}=await nuxt['server']['renderRoute']('/no-ssr');PNhVdj['zyRke'](expect,html['includes'](PNhVdj['DePAa']))['toBe'](!![]);});PNhVdj['Rzmtb'](test,PNhVdj['HcXnB'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](PNhVdj['psdgV'](url,PNhVdj['IFuWQ']));const html=window['document']['body']['innerHTML'];PNhVdj['uECbR'](expect,html)['toContain'](PNhVdj['rfrDV']);PNhVdj['TwUog'](expect,_0x52c2b4['warn'])['toHaveBeenCalledTimes'](0x1);PNhVdj['TwUog'](expect,_0x52c2b4['warn'])['toHaveBeenCalledWith'](expect['stringContaining'](PNhVdj['YJKOl']));});test('ETag\x20Header',async()=>{const {headers:{etag}}=await PNhVdj['TwUog'](rp,PNhVdj['ZMoXI'](url,PNhVdj['VwsJB']));const response=await PNhVdj['NGxPv'](rp,url(PNhVdj['VwsJB']),{'headers':{'If-None-Match':etag}});await PNhVdj['dWFJI'](expect,response)['toMatchObject']({'statusCode':0x130});});PNhVdj['ArWNU'](test,PNhVdj['ISuNc'],async()=>{await expect(PNhVdj['dWFJI'](rp,url(PNhVdj['nXPin'])))['rejects']['toMatchObject']({'response':{'statusCode':0x194}});});PNhVdj['ArWNU'](test,'/meta',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['YThWL']);PNhVdj['dWFJI'](expect,/<pre>.*&quot;works&quot;: true.*<\/pre>/s['test'](html))['toBe'](!![]);});test('/fn-midd',async()=>{await PNhVdj['dWFJI'](expect,PNhVdj['UMBgF'](rp,url(PNhVdj['EkEoc'])))['rejects']['toMatchObject']({'response':{'statusCode':0x193}});});test(PNhVdj['oZCtd'],async()=>{const {html}=await nuxt['server']['renderRoute']('/fn-midd?please=true');expect(html)['toContain'](PNhVdj['vTILG']);});PNhVdj['rsRSg'](test,'/router-guard',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['FAApT']);expect(html)['toContain']('<p>Nuxt</p>');PNhVdj['AVEWV'](expect,html['includes'](PNhVdj['yJmWo']))['toBe'](![]);});PNhVdj['jEJQS'](test,'/router-guard-error',async()=>{const {html,error}=await nuxt['server']['renderRoute'](PNhVdj['HkHmE']);PNhVdj['GWRjp'](expect,error)['toBe'](null);PNhVdj['pYIgD'](expect,html['includes']('Page content'))['toBe'](![]);});PNhVdj['oJpBe'](test,'/router-guard-error?error=zepe',async()=>{const {html,error}=await nuxt['server']['renderRoute'](PNhVdj['HiaKk']);PNhVdj['pYIgD'](expect,html['includes'](PNhVdj['FxHmZ']))['toBe'](![]);expect(html)['toContain'](PNhVdj['BFHuX']);expect(error['message'])['toContain']('zepe');PNhVdj['pYIgD'](expect,error['statusCode'])['toBe'](0x1f4);});PNhVdj['oJpBe'](test,PNhVdj['RmKsb'],async()=>{await PNhVdj['fnElt'](expect,nuxt['server']['renderRoute'](PNhVdj['RmKsb']))['rejects']['toMatchObject']({'message':PNhVdj['XYTvJ']});});PNhVdj['RpYFg'](test,PNhVdj['CRWiF'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['CRWiF']);PNhVdj['wVQpr'](expect,html)['toContain']('<h1>JSX Page</h1>');});PNhVdj['iqYdr'](test,PNhVdj['feRgq'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['feRgq']);PNhVdj['wVQpr'](expect,html)['toContain']('<h1>JSX Link Page</h1>');});PNhVdj['iqYdr'](test,PNhVdj['ytlRS'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['ytlRS']);expect(html)['toContain'](PNhVdj['aAKoa']);});PNhVdj['jjesv'](test,'/тест雨 (test non ascii route)',async()=>{const window=await nuxt['server']['renderAndGetWindow'](PNhVdj['DClVm'](url,'/тест雨'));const html=window['document']['body']['innerHTML'];PNhVdj['elwnr'](expect,html)['toMatch'](PNhVdj['MGcop']);});PNhVdj['jjesv'](test,PNhVdj['kKGmr'],async()=>{const window=await nuxt['server']['renderAndGetWindow'](PNhVdj['elwnr'](url,PNhVdj['maLfl']));const html=window['document']['body']['innerHTML'];PNhVdj['RlBQy'](expect,html)['toMatch'](PNhVdj['QNFot']);PNhVdj['RlBQy'](expect,html)['toMatch'](PNhVdj['wrqWy']);});test(PNhVdj['YTPeg'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['YTPeg']);PNhVdj['shQzQ'](expect,html)['toContain'](PNhVdj['lDIJG']);});PNhVdj['lGiry'](test,'/symlink/deep/nested-symlinked',async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['OXjCt']);PNhVdj['shQzQ'](expect,html)['toContain'](PNhVdj['baOjY']);});PNhVdj['kqRzr'](test,PNhVdj['iaung'],async()=>{const {html}=await nuxt['server']['renderRoute'](PNhVdj['iaung']);PNhVdj['shQzQ'](expect,html)['toContain']('Auto\x20discovered\x20component!');});test(PNhVdj['tIJbu'],async()=>{const {html}=await nuxt['server']['renderRoute']('/');PNhVdj['shQzQ'](expect,html)['toContain']('" defer>');});afterAll(async()=>{await nuxt['close']();});});