'use strict';const isTerm=process['env']['TERM_PROGRAM']==='Apple_Terminal';const colors=require('ansi-colors');const utils=require('./utils');const ansi=module['exports']=exports;const ESC='[';const BEL='';let hidden=![];const code=ansi['code']={'bell':BEL,'beep':BEL,'beginning':ESC+'G','down':ESC+'J','esc':ESC,'getPosition':ESC+'6n','hide':ESC+'?25l','line':ESC+'2K','lineEnd':ESC+'K','lineStart':ESC+'1K','restorePosition':ESC+(isTerm?'8':'u'),'savePosition':ESC+(isTerm?'7':'s'),'screen':ESC+'2J','show':ESC+'?25h','up':ESC+'1J'};const cursor=ansi['cursor']={get 'hidden'(){return hidden;},'hide'(){hidden=!![];return code['hide'];},'show'(){hidden=![];return code['show'];},'forward':(_0x3a8477=0x1)=>''+ESC+_0x3a8477+'C','backward':(_0x57f2db=0x1)=>''+ESC+_0x57f2db+'D','nextLine':(_0x4a6f9a=0x1)=>(ESC+'E')['repeat'](_0x4a6f9a),'prevLine':(_0x1c0c15=0x1)=>(ESC+'F')['repeat'](_0x1c0c15),'up':(_0x104893=0x1)=>_0x104893?''+ESC+_0x104893+'A':'','down':(_0x51035c=0x1)=>_0x51035c?''+ESC+_0x51035c+'B':'','right':(_0x288f47=0x1)=>_0x288f47?''+ESC+_0x288f47+'C':'','left':(_0x227121=0x1)=>_0x227121?''+ESC+_0x227121+'D':'','to'(_0x1e22a4,_0x25b2e4){var _0x56884d={'MdIHB':function(_0x1e22a4,_0x25b2e4){return _0x1e22a4+_0x25b2e4;},'cqhId':function(_0x1e22a4,_0x25b2e4){return _0x1e22a4+_0x25b2e4;}};return _0x25b2e4?''+ESC+_0x56884d['MdIHB'](_0x25b2e4,0x1)+';'+_0x56884d['MdIHB'](_0x1e22a4,0x1)+'H':''+ESC+_0x56884d['cqhId'](_0x1e22a4,0x1)+'G';},'move'(_0x2db89a=0x0,_0x2d5985=0x0){var _0x14cf93={'PTxiV':function(_0x2db89a,_0x2d5985){return _0x2db89a>_0x2d5985;},'waYsy':function(_0x2db89a,_0x2d5985){return _0x2db89a<_0x2d5985;}};let _0x1a5277='';_0x1a5277+=_0x2db89a<0x0?cursor['left'](-_0x2db89a):_0x14cf93['PTxiV'](_0x2db89a,0x0)?cursor['right'](_0x2db89a):'';_0x1a5277+=_0x14cf93['waYsy'](_0x2d5985,0x0)?cursor['up'](-_0x2d5985):_0x2d5985>0x0?cursor['down'](_0x2d5985):'';return _0x1a5277;},'restore'(_0xfd83cd={}){var _0x1ad5e2={'Eweqe':function(_0x2a42a5,_0x43a378){return _0x2a42a5&&_0x43a378;},'EnrAZ':function(_0xc0ba95,_0x2e07a7){return _0xc0ba95+_0x2e07a7;},'PGeSz':function(_0xf06550,_0x4448cb){return _0xf06550===_0x4448cb;},'RmMiK':function(_0x347c53,_0x128f51){return _0x347c53-_0x128f51;},'iICPF':function(_0x332f4f,_0xfd5980){return _0x332f4f/_0xfd5980;},'GGddm':function(_0x2d8d72,_0x13ba98){return _0x2d8d72-_0x13ba98;},'QHRpf':function(_0x2e66e7,_0x8e939e){return _0x2e66e7(_0x8e939e);},'pqJET':function(_0x12f6c6,_0x1aec21){return _0x12f6c6(_0x1aec21);},'gkWzc':function(_0x10f1db,_0x5da688){return _0x10f1db(_0x5da688);},'xBwJK':function(_0x288b1d,_0x1774a9){return _0x288b1d!==_0x1774a9;},'YKbxq':'aFjMF','bwQYe':function(_0x2bbffa,_0x286947){return _0x2bbffa+_0x286947;},'reTxi':'LXvMR','IhPiF':'fLHvh','jkDxE':'yLYiI','dBLyv':function(_0x1c5592,_0x14541d){return _0x1c5592&&_0x14541d;}};let {after,cursor,initial,input,prompt,size,value}=_0xfd83cd;initial=utils['isPrimitive'](initial)?_0x1ad5e2['pqJET'](String,initial):'';input=utils['isPrimitive'](input)?String(input):'';value=utils['isPrimitive'](value)?_0x1ad5e2['gkWzc'](String,value):'';if(size){if(_0x1ad5e2['xBwJK'](_0x1ad5e2['YKbxq'],'skNzb')){let _0x1cb95b=_0x1ad5e2['bwQYe'](ansi['cursor']['up'](size),ansi['cursor']['to'](prompt['length']));let _0xb87b4f=input['length']-cursor;if(_0xb87b4f>0x0){if(_0x1ad5e2['xBwJK'](_0x1ad5e2['reTxi'],_0x1ad5e2['reTxi'])){let _0x140cb7=_0x1ad5e2['Eweqe'](!input,!!initial)?-initial['length']:_0x1ad5e2['EnrAZ'](-input['length'],cursor);if(after)_0x140cb7-=after['length'];if(_0x1ad5e2['PGeSz'](input,'')&&initial&&!prompt['includes'](initial)){_0x140cb7+=initial['length'];}return ansi['cursor']['move'](_0x140cb7);}else{_0x1cb95b+=ansi['cursor']['left'](_0xb87b4f);}}return _0x1cb95b;}else{str+=ansi['erase']['line']+(i<_0x1ad5e2['RmMiK'](n,0x1)?ansi['cursor']['up'](0x1):'');}}if(value||after){if(_0x1ad5e2['IhPiF']===_0x1ad5e2['jkDxE']){if(!columns)return _0x1ad5e2['EnrAZ'](erase['line'],cursor['to'](0x0));let _0x2e982c=_0x2e4727=>[...colors['unstyle'](_0x2e4727)]['length'];let _0x1dbd3b=input['split'](/\r?\n/);let _0x3ea277=0x0;for(let _0x411efb of _0x1dbd3b){_0x3ea277+=_0x1ad5e2['EnrAZ'](0x1,Math['floor'](_0x1ad5e2['iICPF'](Math['max'](_0x1ad5e2['GGddm'](_0x1ad5e2['QHRpf'](_0x2e982c,_0x411efb),0x1),0x0),columns)));}return _0x1ad5e2['EnrAZ'](_0x1ad5e2['EnrAZ']((erase['line']+cursor['prevLine']())['repeat'](_0x3ea277-0x1),erase['line']),cursor['to'](0x0));}else{let _0xfcf73=_0x1ad5e2['dBLyv'](!input,!!initial)?-initial['length']:-input['length']+cursor;if(after)_0xfcf73-=after['length'];if(_0x1ad5e2['PGeSz'](input,'')&&initial&&!prompt['includes'](initial)){_0xfcf73+=initial['length'];}return ansi['cursor']['move'](_0xfcf73);}}}};const erase=ansi['erase']={'screen':code['screen'],'up':code['up'],'down':code['down'],'line':code['line'],'lineEnd':code['lineEnd'],'lineStart':code['lineStart'],'lines'(_0x3b5e71){var _0x571b46={'EcGEP':function(_0x24ff6d,_0xc2539a){return _0x24ff6d<_0xc2539a;},'FODBS':function(_0x33157b,_0x63231c){return _0x33157b+_0x63231c;},'VkOqT':function(_0x425845,_0x324638){return _0x425845<_0x324638;},'pSbqC':function(_0x5a3ee9,_0x460717){return _0x5a3ee9-_0x460717;}};let _0x6fb72a='';for(let _0x2e5caa=0x0;_0x571b46['EcGEP'](_0x2e5caa,_0x3b5e71);_0x2e5caa++){_0x6fb72a+=_0x571b46['FODBS'](ansi['erase']['line'],_0x571b46['VkOqT'](_0x2e5caa,_0x571b46['pSbqC'](_0x3b5e71,0x1))?ansi['cursor']['up'](0x1):'');}if(_0x3b5e71)_0x6fb72a+=ansi['code']['beginning'];return _0x6fb72a;}};ansi['clear']=(_0x30e35c='',_0x553513=process['stdout']['columns'])=>{var _0x3b9c6f={'ebQcc':function(_0x51405e,_0x3c45ed){return _0x51405e+_0x3c45ed;},'mSRSq':function(_0x1d48cd,_0x358058){return _0x1d48cd-_0x358058;},'Hkxxs':function(_0x33ffda,_0xb2b0f7){return _0x33ffda+_0xb2b0f7;}};if(!_0x553513)return erase['line']+cursor['to'](0x0);let _0x236c85=_0x3f4cfb=>[...colors['unstyle'](_0x3f4cfb)]['length'];let _0x5eda6a=_0x30e35c['split'](/\r?\n/);let _0x5434d6=0x0;for(let _0x5ef741 of _0x5eda6a){_0x5434d6+=_0x3b9c6f['ebQcc'](0x1,Math['floor'](Math['max'](_0x3b9c6f['mSRSq'](_0x236c85(_0x5ef741),0x1),0x0)/_0x553513));}return _0x3b9c6f['Hkxxs'](_0x3b9c6f['Hkxxs'](erase['line'],cursor['prevLine']())['repeat'](_0x5434d6-0x1),erase['line'])+cursor['to'](0x0);};