const _=require('lodash');const Promise=require('bluebird');const $errUtils=require('../../cypress/error_utils');module['exports']=(_0x5bf3da,_0x10677a,_0x24f303)=>{var _0x58821e={'jIVez':'files.invalid_contents','Sxdmx':function(_0x44b6e5,_0x37eefb){return _0x44b6e5===_0x37eefb;},'bRpDX':function(_0x58dcb0,_0x5f5120){return _0x58dcb0!==_0x5f5120;},'bOirJ':'readFile','vvYaX':'WPcMQ','KtuhZ':'File\x20Path','NFOjM':'read:file','OWPGQ':'encoding','anesG':'BajJT','varjf':'cXkgL','KgXmR':'files.invalid_argument','YjbHP':function(_0x39a1fd){return _0x39a1fd();},'eeQBy':'files.unexpected_error','bpunL':'writeFile','dvLrS':function(_0x351bc6,_0x5698d3){return _0x351bc6!==_0x5698d3;},'lGvGp':'esFXv','lQamH':'RllDg','OMZAL':'Contents','cCtER':function(_0x478a62,_0xbc3890){return _0x478a62!==_0xbc3890;},'AWLHM':'existence','eaQAs':'files.nonexistent','pYPIe':'subject','CKLCm':'files.timed_out','xTAaR':'bKLFh','denxz':'utf8','Fqewf':'lWuhb','OILEJ':'ixTWp','SGRZe':'write:file'};_0x5bf3da['addAll']({'readFile'(_0x48727c,_0x4cbc2a,_0x10bbfc={}){var _0x262aca={'VpQqT':_0x58821e['jIVez'],'ROhmz':function(_0x37d573,_0x124364){return _0x58821e['Sxdmx'](_0x37d573,_0x124364);},'wqWQb':function(_0x7934,_0x5844b0){return _0x58821e['bRpDX'](_0x7934,_0x5844b0);},'qmUdT':'files.unexpected_error','frMAN':_0x58821e['bOirJ'],'ZYmPa':'read','dQDPQ':_0x58821e['vvYaX'],'nRZnD':_0x58821e['KtuhZ'],'EvasX':_0x58821e['NFOjM'],'WVIoH':_0x58821e['OWPGQ']};let _0x3abc3e=_0x10bbfc;if(_['isObject'](_0x4cbc2a)){if(_0x58821e['anesG']!==_0x58821e['varjf']){_0x3abc3e=_0x4cbc2a;_0x4cbc2a=null;}else{$errUtils['throwErrByPath'](_0x262aca['VpQqT'],{'onFail':_0x10bbfc['_log'],'args':{'contents':contents}});}}_0x10bbfc=_['defaults']({},_0x3abc3e,{'encoding':_0x4cbc2a!=null?_0x4cbc2a:'utf8','log':!![]});const _0x5bc37b={};if(_0x10bbfc['log']){_0x10bbfc['_log']=_0x10677a['log']({'message':_0x48727c,'timeout':_0x10bbfc['timeout'],'consoleProps'(){return _0x5bc37b;}});}if(!_0x48727c||!_['isString'](_0x48727c)){$errUtils['throwErrByPath'](_0x58821e['KgXmR'],{'onFail':_0x10bbfc['_log'],'args':{'cmd':'readFile','file':_0x48727c}});}const _0x107996=()=>{var _0x2442a3={'NnRBr':'existence','IAzIx':function(_0x3cb2dd,_0x24d57d){return _0x262aca['wqWQb'](_0x3cb2dd,_0x24d57d);},'eOgCT':_0x262aca['dQDPQ'],'lXmrl':'files.existent','GEuFV':_0x262aca['nRZnD'],'iUADB':'Contents'};return _0x10677a['backend'](_0x262aca['EvasX'],_0x48727c,_['pick'](_0x10bbfc,_0x262aca['WVIoH']))['catch'](_0x415459=>{if(_0x262aca['ROhmz'](_0x415459['code'],'ENOENT')){if(_0x262aca['wqWQb']('Qjypq','uSDKH')){return{'contents':null,'filePath':_0x415459['filePath']};}else{_0x3abc3e=_0x4cbc2a;_0x4cbc2a=null;}}return $errUtils['throwErrByPath'](_0x262aca['qmUdT'],{'onFail':_0x10bbfc['_log'],'args':{'cmd':_0x262aca['frMAN'],'action':_0x262aca['ZYmPa'],'file':_0x48727c,'filePath':_0x415459['filePath'],'error':_0x415459['message']}});})['then'](({contents,filePath})=>{_0x5bc37b[_0x2442a3['GEuFV']]=filePath;_0x5bc37b[_0x2442a3['iUADB']]=contents;return _0x24f303['verifyUpcomingAssertions'](contents,_0x10bbfc,{'ensureExistenceFor':'subject','onFail'(_0x2f9376){if(_0x2f9376['type']!==_0x2442a3['NnRBr']){if(_0x2442a3['IAzIx']('WPcMQ',_0x2442a3['eOgCT'])){return{'contents':null,'filePath':_0x2f9376['filePath']};}else{return;}}const _0x19d6b9=contents?_0x2442a3['lXmrl']:'files.nonexistent';const {message,docsUrl}=$errUtils['cypressErrByPath'](_0x19d6b9,{'args':{'file':_0x48727c,'filePath':filePath}});_0x2f9376['message']=message;_0x2f9376['docsUrl']=docsUrl;},'onRetry':_0x107996});});};return _0x58821e['YjbHP'](_0x107996);},'writeFile'(_0x575ead,_0xb9b245,_0x4f55ce,_0x40c41a={}){var _0x201340={'JZoKU':_0x58821e['KtuhZ'],'IOAOU':'Contents','szlDv':function(_0x5c7aa2,_0x236104){return _0x58821e['cCtER'](_0x5c7aa2,_0x236104);},'Hqkgu':_0x58821e['AWLHM'],'CbJSo':_0x58821e['eaQAs'],'UNALJ':_0x58821e['pYPIe'],'tdYYH':_0x58821e['CKLCm'],'arTnm':'writeFile','oIAie':_0x58821e['eeQBy']};if(_0x58821e['xTAaR']===_0x58821e['xTAaR']){let _0x3d801b=_0x40c41a;if(_['isObject'](_0x4f55ce)){_0x3d801b=_0x4f55ce;_0x4f55ce=null;}_0x40c41a=_['defaults']({},_0x3d801b,{'encoding':_0x4f55ce?_0x4f55ce:_0x58821e['denxz'],'flag':_0x3d801b['flag']?_0x3d801b['flag']:'w','log':!![]});const _0x26dbb2={};if(_0x40c41a['log']){_0x40c41a['_log']=_0x10677a['log']({'message':_0x575ead,'timeout':0x0,'consoleProps'(){return _0x26dbb2;}});}if(!_0x575ead||!_['isString'](_0x575ead)){if(_0x58821e['Sxdmx'](_0x58821e['Fqewf'],'ZctNh')){_0x26dbb2[_0x201340['JZoKU']]=filePath;_0x26dbb2[_0x201340['IOAOU']]=_0xb9b245;return null;}else{$errUtils['throwErrByPath'](_0x58821e['KgXmR'],{'onFail':_0x40c41a['_log'],'args':{'cmd':_0x58821e['bpunL'],'file':_0x575ead}});}}if(!(_['isString'](_0xb9b245)||_['isObject'](_0xb9b245))){$errUtils['throwErrByPath'](_0x58821e['jIVez'],{'onFail':_0x40c41a['_log'],'args':{'contents':_0xb9b245}});}if(_['isObject'](_0xb9b245)){if(_0x58821e['Sxdmx'](_0x58821e['OILEJ'],'ZCcjQ')){_0x26dbb2['File Path']=filePath;_0x26dbb2[_0x201340['IOAOU']]=_0xb9b245;return _0x24f303['verifyUpcomingAssertions'](_0xb9b245,_0x40c41a,{'ensureExistenceFor':_0x201340['UNALJ'],'onFail'(_0x396892){if(_0x201340['szlDv'](_0x396892['type'],_0x201340['Hqkgu'])){return;}const _0x2e0661=_0xb9b245?'files.existent':_0x201340['CbJSo'];const {message,docsUrl}=$errUtils['cypressErrByPath'](_0x2e0661,{'args':{'file':file,'filePath':filePath}});_0x396892['message']=message;_0x396892['docsUrl']=docsUrl;},'onRetry':verifyAssertions});}else{_0xb9b245=JSON['stringify'](_0xb9b245,null,0x2);}}return _0x10677a['backend'](_0x58821e['SGRZe'],_0x575ead,_0xb9b245,_['pick'](_0x40c41a,['encoding','flag']))['then'](({contents,filePath})=>{var _0x2233b9={'sRlbM':_0x58821e['eeQBy'],'LcXJK':_0x58821e['bpunL']};if(_0x58821e['dvLrS'](_0x58821e['lGvGp'],_0x58821e['lQamH'])){_0x26dbb2[_0x58821e['KtuhZ']]=filePath;_0x26dbb2[_0x58821e['OMZAL']]=contents;return null;}else{return $errUtils['throwErrByPath'](_0x2233b9['sRlbM'],{'onFail':_0x40c41a['_log'],'args':{'cmd':_0x2233b9['LcXJK'],'action':'write','file':_0x575ead,'filePath':err['filePath'],'error':err['message']}});}})['catch'](Promise['TimeoutError'],()=>{return $errUtils['throwErrByPath'](_0x201340['tdYYH'],{'onFail':_0x40c41a['_log'],'args':{'cmd':_0x201340['arTnm'],'file':_0x575ead,'timeout':_0x40c41a['timeout']}});})['catch'](_0x5e8219=>{return $errUtils['throwErrByPath'](_0x201340['oIAie'],{'onFail':_0x40c41a['_log'],'args':{'cmd':_0x201340['arTnm'],'action':'write','file':_0x575ead,'filePath':_0x5e8219['filePath'],'error':_0x5e8219['message']}});});}else{_0x40c41a['_log']=_0x10677a['log']({'message':_0x575ead,'timeout':0x0,'consoleProps'(){return consoleProps;}});}}});};