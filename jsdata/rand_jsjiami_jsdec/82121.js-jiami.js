const ObjectID=require('bson-objectid');const logging=require('@tryghost/logging');const {createTransactionalMigration}=require('../../utils.js');const MIGRATION_USER=0x1;module['exports']=createTransactionalMigration(async function up(_0x1d569a){var _0x18929e={'WsAup':'key','YdALv':'email_verification_required','lZxxg':'Adding "email_verification_required" record to "settings" table','gNqji':'CURRENT_TIMESTAMP','ERtPl':function(_0x44685b,_0x452d9f){return _0x44685b(_0x452d9f);},'esiUv':'settings','uTKpJ':function(_0x59f528){return _0x59f528();},'bPXgS':'false','BJGzl':'email','lQknt':'boolean','Biwar':'Skipped adding "email_verification_required" record to "settings" table. Record already exists!'};const _0x147639=await _0x1d569a('settings')['where'](_0x18929e['WsAup'],'=',_0x18929e['YdALv'])['first']();if(!_0x147639){logging['info'](_0x18929e['lZxxg']);const _0x2367df=_0x1d569a['raw'](_0x18929e['gNqji']);await _0x18929e['ERtPl'](_0x1d569a,_0x18929e['esiUv'])['insert']({'id':_0x18929e['uTKpJ'](ObjectID)['toHexString'](),'key':'email_verification_required','value':_0x18929e['bPXgS'],'group':_0x18929e['BJGzl'],'type':_0x18929e['lQknt'],'flags':'RO','created_at':_0x2367df,'created_by':MIGRATION_USER,'updated_at':_0x2367df,'updated_by':MIGRATION_USER});}else{logging['warn'](_0x18929e['Biwar']);}},async function down(_0x55679e){var _0x584e28={'qvuod':'Removing "email_verification_required" record from "settings" table','InrsV':'key'};logging['info'](_0x584e28['qvuod']);await _0x55679e('settings')['where'](_0x584e28['InrsV'],'=','email_verification_required')['del']();});