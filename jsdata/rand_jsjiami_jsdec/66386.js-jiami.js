'use strict';const npa=require('npm-package-arg');const semver=require('semver');const {checkEngine}=require('npm-install-checks');const normalizeBin=require('npm-normalize-package-bin');const engineOk=(_0x504eec,_0x5f175a,_0x3b3701)=>{var _0x56ff6c={'kkVXi':function(_0x4eacaa,_0x405328){return _0x4eacaa===_0x405328;},'zCGCF':'RodFB','QeqTy':function(_0x347e3d,_0x400409,_0x822e8b,_0x5f0a12){return _0x347e3d(_0x400409,_0x822e8b,_0x5f0a12);}};try{if(_0x56ff6c['kkVXi'](_0x56ff6c['zCGCF'],_0x56ff6c['zCGCF'])){_0x56ff6c['QeqTy'](checkEngine,_0x504eec,_0x5f175a,_0x3b3701);return!![];}else{return mani;}}catch(_0x4c72c2){return![];}};const isBefore=(_0x573a77,_0x2ebdb8,_0x5c1db1)=>!_0x573a77||!_0x573a77[_0x2ebdb8]||Date['parse'](_0x573a77[_0x2ebdb8])<=_0x5c1db1;const avoidSemverOpt={'includePrerelease':!![],'loose':!![]};const shouldAvoid=(_0x29c41f,_0x94e740)=>_0x94e740&&semver['satisfies'](_0x29c41f,_0x94e740,avoidSemverOpt);const decorateAvoid=(_0x4a1e4b,_0x85bc95)=>_0x4a1e4b&&shouldAvoid(_0x4a1e4b['version'],_0x85bc95)?{..._0x4a1e4b,'_shouldAvoid':!![]}:_0x4a1e4b;const pickManifest=(_0x3d974d,_0x2ee08f,_0x2408ba)=>{var _0x12279a={'ElHST':function(_0xa72004,_0x88e407,_0x3998cf){return _0xa72004(_0x88e407,_0x3998cf);},'RhvnA':function(_0x36f2fa,_0x5dbc54,_0x40650d,_0x3561b0){return _0x36f2fa(_0x5dbc54,_0x40650d,_0x3561b0);},'nYBFj':function(_0x5499c7,_0x101fc8){return _0x5499c7-_0x101fc8;},'TbMqZ':function(_0x16fd0b,_0x19f00f){return _0x16fd0b-_0x19f00f;},'hFqsL':function(_0x5d1b62,_0x2029a7){return _0x5d1b62&&_0x2029a7;},'Rwyec':function(_0x3768a2,_0x388857){return _0x3768a2-_0x388857;},'kVhrQ':function(_0x1c5f5a,_0x3ecbcb,_0x14e842){return _0x1c5f5a(_0x3ecbcb,_0x14e842);},'hkRRG':function(_0x58c662,_0x42b97f,_0x5c52bb,_0x2c4983){return _0x58c662(_0x42b97f,_0x5c52bb,_0x2c4983);},'mJXZX':function(_0xa59f16,_0x381b86){return _0xa59f16&&_0x381b86;},'bZvdj':function(_0x1920b6,_0x33f94f){return _0x1920b6-_0x33f94f;},'cNyfL':'latest','vCVqk':function(_0x16dbf7,_0x510ddd,_0x346a98,_0x498537){return _0x16dbf7(_0x510ddd,_0x346a98,_0x498537);},'iHWIj':'ETARGET','avTrj':function(_0x130f9e,_0x56c2df){return _0x130f9e||_0x56c2df;},'Fyblm':'dist-tags','CnlXY':function(_0x3704d0,_0x16432d){return _0x3704d0!==_0x16432d;},'BENdw':'tag','TaqJr':'version','ANeTL':'range','emwWr':'rJEqQ','dIpTh':'Only tag, version, and range are supported','tjGXI':function(_0x502af1,_0x257e1c){return _0x502af1===_0x257e1c;},'dCwqi':function(_0x337f06,_0x5ab782,_0x223107){return _0x337f06(_0x5ab782,_0x223107);},'IaPFE':'BewCb','zzkqx':function(_0xb5112a,_0x513914){return _0xb5112a===_0x513914;},'gEcBi':'ENOVERSIONS','dXpJI':function(_0x1dad13,_0x37bbfe,_0x220d74){return _0x1dad13(_0x37bbfe,_0x220d74);}};const {defaultTag=_0x12279a['cNyfL'],before=null,nodeVersion=process['version'],npmVersion=null,includeStaged=![],avoid=null,avoidStrict=![]}=_0x2408ba;const {name,time:verTimes}=_0x3d974d;const _0x5b1c0c=_0x3d974d['versions']||{};if(avoidStrict){const _0x59c3fa={..._0x2408ba,'avoidStrict':![]};const _0x49fe0a=pickManifest(_0x3d974d,_0x2ee08f,_0x59c3fa);if(!_0x49fe0a||!_0x49fe0a['_shouldAvoid']){return _0x49fe0a;}const _0x224689=_0x12279a['vCVqk'](pickManifest,_0x3d974d,'^'+_0x49fe0a['version'],_0x59c3fa);if(!_0x224689||!_0x224689['_shouldAvoid']){return{..._0x224689,'_outsideDependencyRange':!![],'_isSemVerMajor':![]};}const _0x5ae602=_0x12279a['vCVqk'](pickManifest,_0x3d974d,'*',_0x59c3fa);if(!_0x5ae602||!_0x5ae602['_shouldAvoid']){return{..._0x5ae602,'_outsideDependencyRange':!![],'_isSemVerMajor':!![]};}throw Object['assign'](new Error('No\x20avoidable\x20versions\x20for\x20'+name),{'code':_0x12279a['iHWIj'],'name':name,'wanted':_0x2ee08f,'avoid':avoid,'before':before,'versions':Object['keys'](_0x5b1c0c)});}const _0x25f834=includeStaged&&_0x3d974d['stagedVersions']&&_0x3d974d['stagedVersions']['versions']||{};const _0x5d2f88=_0x3d974d['policyRestrictions']&&_0x3d974d['policyRestrictions']['versions']||{};const _0x91f9f2=before&&verTimes?+new Date(before):Infinity;const _0x36e90a=npa['resolve'](name,_0x12279a['avTrj'](_0x2ee08f,defaultTag));const _0x5c3a59=_0x36e90a['type'];const _0x2958fb=_0x3d974d[_0x12279a['Fyblm']]||{};if(_0x12279a['CnlXY'](_0x5c3a59,_0x12279a['BENdw'])&&_0x12279a['CnlXY'](_0x5c3a59,_0x12279a['TaqJr'])&&_0x12279a['CnlXY'](_0x5c3a59,_0x12279a['ANeTL'])){if(_0x12279a['emwWr']===_0x12279a['emwWr']){throw new Error(_0x12279a['dIpTh']);}else{const [_0x18a12a,_0x475039]=a;const [_0x55b228,_0xc732a]=b;const _0x2fa022=!shouldAvoid(_0x18a12a,avoid);const _0x2cd543=!_0x12279a['ElHST'](shouldAvoid,_0x55b228,avoid);const _0x35f75f=!_0x5d2f88[a];const _0x25348b=!_0x5d2f88[b];const _0x4d89a1=!_0x25f834[a];const _0x17deda=!_0x25f834[b];const _0x1427c2=!_0x475039['deprecated'];const _0x330be8=!_0xc732a['deprecated'];const _0x5c1a01=_0x12279a['RhvnA'](engineOk,_0x475039,npmVersion,nodeVersion);const _0x459798=_0x12279a['RhvnA'](engineOk,_0xc732a,npmVersion,nodeVersion);return _0x12279a['nYBFj'](_0x2cd543,_0x2fa022)||_0x12279a['nYBFj'](_0x25348b,_0x35f75f)||_0x12279a['nYBFj'](_0x17deda,_0x4d89a1)||_0x12279a['TbMqZ'](_0x12279a['hFqsL'](_0x330be8,_0x459798),_0x1427c2&&_0x5c1a01)||_0x12279a['TbMqZ'](_0x459798,_0x5c1a01)||_0x12279a['Rwyec'](_0x330be8,_0x1427c2)||semver['rcompare'](_0x18a12a,_0x55b228,_0x2b9e97);}}if(_0x2ee08f&&_0x12279a['tjGXI'](_0x5c3a59,_0x12279a['BENdw'])){const _0x1a77a1=_0x2958fb[_0x2ee08f];if(isBefore(verTimes,_0x1a77a1,_0x91f9f2)){return _0x12279a['dCwqi'](decorateAvoid,_0x5b1c0c[_0x1a77a1]||_0x25f834[_0x1a77a1]||_0x5d2f88[_0x1a77a1],avoid);}else{return pickManifest(_0x3d974d,'<='+_0x1a77a1,_0x2408ba);}}if(_0x2ee08f&&_0x5c3a59===_0x12279a['TaqJr']){if('BewCb'===_0x12279a['IaPFE']){const _0x277139=semver['clean'](_0x2ee08f,{'loose':!![]});const _0x33ad2c=_0x5b1c0c[_0x277139]||_0x25f834[_0x277139]||_0x5d2f88[_0x277139];return isBefore(verTimes,_0x277139,_0x91f9f2)?_0x12279a['dCwqi'](decorateAvoid,_0x33ad2c,avoid):null;}else{throw new Error('Only\x20tag,\x20version,\x20and\x20range\x20are\x20supported');}}const _0x5c9f0a=_0x12279a['zzkqx'](_0x5c3a59,_0x12279a['ANeTL'])?_0x2ee08f:'*';const _0x537669=_0x2958fb[defaultTag];if(_0x537669&&(_0x5c9f0a==='*'||semver['satisfies'](_0x537669,_0x5c9f0a,{'loose':!![]}))&&!_0x12279a['dCwqi'](shouldAvoid,_0x537669,avoid)){const _0x2fe272=_0x5b1c0c[_0x537669];if(_0x2fe272&&isBefore(verTimes,_0x537669,_0x91f9f2)){return _0x2fe272;}}const _0x5b7a21=Object['entries'](_0x5b1c0c)['concat'](Object['entries'](_0x25f834))['concat'](Object['entries'](_0x5d2f88))['filter'](([_0x4a2a42,_0x2a32c0])=>isBefore(verTimes,_0x4a2a42,_0x91f9f2));if(!_0x5b7a21['length']){throw Object['assign'](new Error('No versions available for '+name),{'code':_0x12279a['gEcBi'],'name':name,'type':_0x5c3a59,'wanted':_0x2ee08f,'before':before,'versions':Object['keys'](_0x5b1c0c)});}const _0x2b9e97={'loose':!![]};const _0x54f246=_0x5b7a21['filter'](([_0x68ecea,_0x2609c3])=>semver['satisfies'](_0x68ecea,_0x5c9f0a,{'loose':!![]}))['sort']((_0x2e50cd,_0xd0f5b0)=>{const [_0x439f4a,_0x5185a9]=_0x2e50cd;const [_0x402ae1,_0x5e8bc0]=_0xd0f5b0;const _0x4a94cd=!shouldAvoid(_0x439f4a,avoid);const _0x3a47dd=!_0x12279a['kVhrQ'](shouldAvoid,_0x402ae1,avoid);const _0x3f87fa=!_0x5d2f88[_0x2e50cd];const _0x31a704=!_0x5d2f88[_0xd0f5b0];const _0x2db1c4=!_0x25f834[_0x2e50cd];const _0x4ac72c=!_0x25f834[_0xd0f5b0];const _0x51f8f2=!_0x5185a9['deprecated'];const _0x4a8e08=!_0x5e8bc0['deprecated'];const _0x5ab632=_0x12279a['hkRRG'](engineOk,_0x5185a9,npmVersion,nodeVersion);const _0x2b4d4c=engineOk(_0x5e8bc0,npmVersion,nodeVersion);return _0x12279a['Rwyec'](_0x3a47dd,_0x4a94cd)||_0x12279a['Rwyec'](_0x31a704,_0x3f87fa)||_0x12279a['Rwyec'](_0x4ac72c,_0x2db1c4)||(_0x4a8e08&&_0x2b4d4c)-_0x12279a['mJXZX'](_0x51f8f2,_0x5ab632)||_0x2b4d4c-_0x5ab632||_0x12279a['bZvdj'](_0x4a8e08,_0x51f8f2)||semver['rcompare'](_0x439f4a,_0x402ae1,_0x2b9e97);});return _0x12279a['dXpJI'](decorateAvoid,_0x54f246[0x0]&&_0x54f246[0x0][0x1],avoid);};module['exports']=(_0x2566ad,_0x1e28ec,_0xc00bdb={})=>{var _0x1783b5={'UssYu':function(_0x401742,_0x22c5b4,_0x41a57f,_0x415008){return _0x401742(_0x22c5b4,_0x41a57f,_0x415008);},'QrVOf':function(_0x5a3f2a,_0x2af2a3){return _0x5a3f2a(_0x2af2a3);},'wbLYb':'latest','sXKwh':'E403','DNzjN':'ETARGET','iYJwS':'dist-tags'};const _0xaaf168=_0x1783b5['UssYu'](pickManifest,_0x2566ad,_0x1e28ec,_0xc00bdb);const _0x556d9b=_0xaaf168&&_0x1783b5['QrVOf'](normalizeBin,_0xaaf168);const _0xbbd41d=_0x2566ad['policyRestrictions'];const _0x38ae11=_0xbbd41d&&_0xbbd41d['versions']||{};if(_0x556d9b&&!_0x38ae11[_0x556d9b['version']]){return _0x556d9b;}const {before=null,defaultTag=_0x1783b5['wbLYb']}=_0xc00bdb;const _0x27ce43=before?new Date(before)['toLocaleString']():'';const {name}=_0x2566ad;const _0x3ede11=name+'@'+_0x1e28ec+(before?' with a date before '+_0x27ce43:'');const _0x3e5a11=_0x556d9b&&!!_0x38ae11[_0x556d9b['version']];const _0x551f03=_0x3e5a11?_0xbbd41d['message']:'';const _0x5ca131=!_0x3e5a11?'No\x20matching\x20version\x20found\x20for\x20'+_0x3ede11+'.':'Could not download '+_0x3ede11+'\x20due\x20to\x20policy\x20violations:\x0a'+_0x551f03;const _0x440b90=_0x3e5a11?_0x1783b5['sXKwh']:_0x1783b5['DNzjN'];throw Object['assign'](new Error(_0x5ca131),{'code':_0x440b90,'type':npa['resolve'](_0x2566ad['name'],_0x1e28ec)['type'],'wanted':_0x1e28ec,'versions':Object['keys'](_0x2566ad['versions']),'name':name,'distTags':_0x2566ad[_0x1783b5['iYJwS']],'defaultTag':defaultTag});};