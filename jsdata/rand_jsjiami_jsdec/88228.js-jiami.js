import{CssTools}from'./minifier';Tinytest['add']('minifier-css - CSS can be parsed properly into an AST',_0x4b8036=>{var _0x4e204b={'yyUCj':'body { color: "red"}','DwGNZ':'root','cFzdS':'body','pnGTo':'decl','zuLLd':'color'};const _0x554e96=CssTools['parseCss'](_0x4e204b['yyUCj']);_0x4b8036['equal'](_0x554e96['type'],_0x4e204b['DwGNZ']);_0x4b8036['equal'](_0x554e96['nodes']['length'],0x1);const _0x28ff91=_0x554e96['nodes'][0x0];_0x4b8036['equal'](_0x28ff91['type'],'rule');_0x4b8036['equal'](_0x28ff91['selector'],_0x4e204b['cFzdS']);_0x4b8036['equal'](_0x28ff91['nodes']['length'],0x1);const _0x5db410=_0x28ff91['nodes'][0x0];_0x4b8036['equal'](_0x5db410['type'],_0x4e204b['pnGTo']);_0x4b8036['equal'](_0x5db410['prop'],_0x4e204b['zuLLd']);_0x4b8036['equal'](_0x5db410['value'],'\x22red\x22');});Tinytest['add']('minifier-css - CSS AST can be converted back into a string',_0x202be9=>{var _0x507eda={'rSuvt':'body { color: "red"}'};const _0xdae257=_0x507eda['rSuvt'];const _0x29851a=CssTools['parseCss'](_0xdae257);const _0x21057f=CssTools['stringifyCss'](_0x29851a,{'sourcemap':!![]});_0x202be9['equal'](_0xdae257,_0x21057f['code']);_0x202be9['isNotNull'](_0x21057f['map']);});Tinytest['add']('minifier-css - simple CSS minification',_0x5039db=>{var _0x9c1c15={'HnVwg':'whitespace check','CuBGQ':function(_0x37871e,_0x5e21cb,_0x21e6a3,_0xf73cde){return _0x37871e(_0x5e21cb,_0x21e6a3,_0xf73cde);},'TGxUj':'a{color:red;margin:1}','vKqBf':'only last one loses semicolon','ZgnjJ':'more semicolons than needed','RmeVT':'a\x20,\x20p\x20\x09\x0a{\x20color:\x20red;\x20}\x20\x0a','iqAsY':'a,p{color:red}','LyUve':'multiple\x20selectors','lCQQD':'removing empty rules','kPqMa':function(_0x1d29cd,_0x3539f9,_0x276c14,_0x5989a6){return _0x1d29cd(_0x3539f9,_0x276c14,_0x5989a6);},'spBng':'*.my-class { color: #fff; }','pZvuf':'.my-class{color:#fff}','nhldi':'removing universal selector','sfzOR':'p>.my-class{color:#fff}','GAFVR':'removing optional whitespace around ">" in selector','WIXRJ':'p +  *.my-class { color: #fff; }','gyKfu':'p+.my-class{color:#fff}','lKPnN':'removing optional whitespace around "+" in selector','xxmJZ':'a {\n    font:12px \'Helvetica\',"Arial",\'Nautica\';\n    background:url("/some/nice/picture.png");\n}','AUDhS':function(_0x560acf,_0x4e4104,_0x50c5de,_0xf5e39){return _0x560acf(_0x4e4104,_0x50c5de,_0xf5e39);},'geiti':'/*\x20no\x20comments\x20*/\x20a\x20{\x20color:\x20red;\x20}','KqqlN':'a{color:red}','aASIU':'remove comments'};const _0x2f2f64=(_0x409559,_0x413dd9,_0x25ad52)=>{_0x5039db['equal'](CssTools['minifyCss'](_0x409559)[0x0],_0x413dd9,_0x25ad52);};_0x2f2f64('a 	\n{ color: red } \n','a{color:red}',_0x9c1c15['HnVwg']);_0x9c1c15['CuBGQ'](_0x2f2f64,'a 	\n{ color: red; margin: 1; } \n',_0x9c1c15['TGxUj'],_0x9c1c15['vKqBf']);_0x2f2f64('a 	\n{ color: red;;; margin: 1;;; } \n','a{color:red;margin:1}',_0x9c1c15['ZgnjJ']);_0x9c1c15['CuBGQ'](_0x2f2f64,_0x9c1c15['RmeVT'],_0x9c1c15['iqAsY'],_0x9c1c15['LyUve']);_0x2f2f64('body\x20{}','',_0x9c1c15['lCQQD']);_0x9c1c15['kPqMa'](_0x2f2f64,_0x9c1c15['spBng'],_0x9c1c15['pZvuf'],_0x9c1c15['nhldi']);_0x2f2f64('p > *.my-class { color: #fff; }',_0x9c1c15['sfzOR'],_0x9c1c15['GAFVR']);_0x2f2f64(_0x9c1c15['WIXRJ'],_0x9c1c15['gyKfu'],_0x9c1c15['lKPnN']);_0x9c1c15['kPqMa'](_0x2f2f64,_0x9c1c15['xxmJZ'],'a{font:12px\x20Helvetica,Arial,Nautica;background:url(/some/nice/picture.png)}','removing quotes in font and url (if possible)');_0x9c1c15['AUDhS'](_0x2f2f64,_0x9c1c15['geiti'],_0x9c1c15['KqqlN'],_0x9c1c15['aASIU']);});Tinytest['add']('minifier-css - Multiple CSS AST\'s can be merged into a single CSS AST',_0x2049bb=>{var _0x1a8a87={'mMuWg':'@import "custom.css"; body { color: "red"; }','OiXUW':'body { color: "blue"; }','Egyah':'test.css','SbTsm':'test2.css'};const _0x584768=_0x1a8a87['mMuWg'];const _0x586ceb=_0x1a8a87['OiXUW'];const _0x1cd645=CssTools['parseCss'](_0x584768,{'from':_0x1a8a87['Egyah']});const _0x4ff9c0=CssTools['parseCss'](_0x586ceb,{'from':_0x1a8a87['SbTsm']});const _0x55feca=CssTools['mergeCssAsts']([_0x1cd645,_0x4ff9c0]);const _0x21215f=CssTools['stringifyCss'](_0x55feca,{'sourcemap':!![],'inputSourcemaps':![]});_0x2049bb['equal'](_0x55feca['nodes']['length'],0x3);_0x2049bb['equal'](_0x21215f['map']['sources']['length'],0x2);_0x2049bb['equal'](_0x21215f['map']['sources'][0x0],_0x1a8a87['Egyah']);});Tinytest['add']('minifier-css - hoist imports from merged CSS AST\'s',_0xf69ff8=>{var _0x27d072={'qpBiw':'@import "custom.css"; body { color: "red"; }','WqhRu':'@import "other.css"; body { color: "blue"; }','sjDqa':'test.css','cgVhi':'import','KvILL':'rule'};const _0x2f7a47=_0x27d072['qpBiw'];const _0x1ae0bb=_0x27d072['WqhRu'];const _0x4eff94=CssTools['parseCss'](_0x2f7a47,{'from':_0x27d072['sjDqa']});const _0x32e08e=CssTools['parseCss'](_0x1ae0bb,{'from':'test2.css'});const _0x57b73f=CssTools['mergeCssAsts']([_0x4eff94,_0x32e08e]);const _0x595af5=CssTools['stringifyCss'](_0x57b73f,{'sourcemap':!![],'inputSourcemaps':![]});_0xf69ff8['equal'](_0x57b73f['nodes']['length'],0x4);_0xf69ff8['equal'](_0x57b73f['nodes'][0x0]['name'],_0x27d072['cgVhi']);_0xf69ff8['equal'](_0x57b73f['nodes'][0x1]['name'],_0x27d072['cgVhi']);_0xf69ff8['equal'](_0x57b73f['nodes'][0x2]['type'],'rule');_0xf69ff8['equal'](_0x57b73f['nodes'][0x3]['type'],_0x27d072['KvILL']);_0xf69ff8['equal'](_0x595af5['map']['sources']['length'],0x2);_0xf69ff8['equal'](_0x595af5['map']['sources'][0x0],_0x27d072['sjDqa']);});Tinytest['add']('minifier-css - hoist imports after comments from merged CSS AST\'s',_0x561645=>{var _0x1b0515={'JRlTi':'@import "custom.css"; body { color: "red"; }','iDNyi':'/*\x20comment\x20*/\x20@import\x20\x22other.css\x22;\x20body\x20{\x20color:\x20\x22blue\x22;\x20}','zDdLM':'test.css','irVNu':'test2.css','GEqNr':'import','AOHoC':'comment','eIHij':'rule'};const _0x418827=_0x1b0515['JRlTi'];const _0x494c26=_0x1b0515['iDNyi'];const _0x444f66=CssTools['parseCss'](_0x418827,{'from':_0x1b0515['zDdLM']});const _0x180c33=CssTools['parseCss'](_0x494c26,{'from':_0x1b0515['irVNu']});const _0x2c3e11=CssTools['mergeCssAsts']([_0x444f66,_0x180c33]);const _0x1d9ba2=CssTools['stringifyCss'](_0x2c3e11,{'sourcemap':!![],'inputSourcemaps':![]});_0x561645['equal'](_0x2c3e11['nodes']['length'],0x5);_0x561645['equal'](_0x2c3e11['nodes'][0x0]['name'],_0x1b0515['GEqNr']);_0x561645['equal'](_0x2c3e11['nodes'][0x1]['type'],_0x1b0515['AOHoC']);_0x561645['equal'](_0x2c3e11['nodes'][0x2]['name'],'import');_0x561645['equal'](_0x2c3e11['nodes'][0x3]['type'],_0x1b0515['eIHij']);_0x561645['equal'](_0x2c3e11['nodes'][0x4]['type'],_0x1b0515['eIHij']);_0x561645['equal'](_0x1d9ba2['map']['sources']['length'],0x2);_0x561645['equal'](_0x1d9ba2['map']['sources'][0x0],_0x1b0515['zDdLM']);});