'use strict';

const _0x1629 = ['have not received end of HTTP headers yet...', 'split', 'eRgCG', 'Zccpt', 'IjHws', 'czXEW', '1446978QfJSQa', '1594024pSEThh', '280205gszfyL', '1QWIgTR', '1351732IiJlCk', '2TvjANR', '393257hlbGjT', '484453ZuZWBB', '757876MgtZXu', 'defineProperty', 'default', 'https-proxy-agent:parse-proxy-response', 'onclose had error %o', 'onerror %o', 'readable', 'end', 'error', 'close', 'ascii', 'got proxy server response: %o', 'DIKCq', 'waGGM', 'OetEp', 'VkMwS', 'WczPv', 'read', 'once', 'cUNDI', 'removeListener', 'wsVBT', 'ZLAQN', 'DBESI', 'QJWFo', 'DtxXu', 'push', 'concat', 'indexOf', '\r\n\r\n', 'qIsBg', 'nAWWU'];
const _0x142a43 = _0x1364;

(function (_0x43eca7, _0x273dd2) {
    const _0x36ad10 = _0x1364;

    while (true) {
        try {
            const _0x10662c = parseInt(_0x36ad10(0x6c)) + parseInt(_0x36ad10(0x6d)) + -parseInt(_0x36ad10(0x6e)) * parseInt(_0x36ad10(0x6f)) + -parseInt(_0x36ad10(0x70)) + parseInt(_0x36ad10(0x71)) * -parseInt(_0x36ad10(0x72)) + -parseInt(_0x36ad10(0x73)) + parseInt(_0x36ad10(0x74));

            if (_0x10662c === _0x273dd2) break;else _0x43eca7.push(_0x43eca7.shift());
        } catch (_0x41077d) {
            _0x43eca7.push(_0x43eca7.shift());
        }
    }
})(_0x1629, 895974);

const __importDefault = this && __importDefault || function (_0x26604f) {
    return _0x26604f && _0x26604f.__esModule ? _0x26604f : { 'default': _0x26604f };
};

Object[_0x142a43(0x75)](exports, '__esModule', { 'value': true });
function _0x1364(_0x28cc6c, _0x410349) {
    return _0x1364 = function (_0x553c4a, _0x3a3e6b) {
        _0x553c4a = _0x553c4a - 108;
        const _0x33f2fd = _0x1629[_0x553c4a];

        return _0x33f2fd;
    }, _0x1364(_0x28cc6c, _0x410349);
}

const debug_1 = __importDefault(require('debug'));

const debug = debug_1[_0x142a43(0x76)](_0x142a43(0x77));

function parseProxyResponse(_0x2036e8) {
    const _0x3d7298 = _0x142a43;
    const _0x37d7f1 = {
        'ZLAQN': function (_0xbe297b, _0x265ab7, _0x371e83) {
            return _0xbe297b(_0x265ab7, _0x371e83);
        },
        'DBESI': _0x3d7298(0x78),
        'DIKCq': function (_0x5a626e, _0x1c398f) {
            return _0x5a626e(_0x1c398f);
        },
        'QJWFo': 'onend',
        'AetuN': function (_0x28f4d7) {
            return _0x28f4d7();
        },
        'DtxXu': _0x3d7298(0x79),
        'waGGM': _0x3d7298(0x7a),
        'IjHws': _0x3d7298(0x7b),
        'Zccpt': _0x3d7298(0x7c),
        'OetEp': _0x3d7298(0x7d),
        'VkMwS': _0x3d7298(0x7e),
        'WczPv': _0x3d7298(0x7f),
        'czXEW': function (_0x547909) {
            return _0x547909();
        }
    };

    return new Promise((_0x16cc61, _0x14bda7) => {
        const _0xaa55b2 = _0x3d7298;
        const _0x56ce7e = {
            'nAWWU': function (_0xe973ac, _0x5b442a) {
                const _0x11695e = _0x1364;

                return _0x37d7f1[_0x11695e(0x80)](_0xe973ac, _0x5b442a);
            },
            'FeyRf': _0x37d7f1[_0xaa55b2(0x81)],
            'cUNDI': _0x37d7f1.IjHws,
            'wsVBT': _0x37d7f1.Zccpt,
            'UiTiN': _0x37d7f1[_0xaa55b2(0x82)],
            'qIsBg': function (_0x2afc1a, _0x928ec8) {
                return _0x2afc1a === _0x928ec8;
            },
            'gOtzp': _0x37d7f1[_0xaa55b2(0x83)],
            'eRgCG': _0x37d7f1[_0xaa55b2(0x84)]
        };
        var _0x2441c7 = 0;
        const _0x530872 = [];

        function _0xd9b0df() {
            const _0xdeb21f = _0xaa55b2;

            const _0x2c47d6 = _0x2036e8[_0xdeb21f(0x85)]();

            if (_0x2c47d6) _0x56ce7e.nAWWU(_0x1103e6, _0x2c47d6);else _0x2036e8[_0xdeb21f(0x86)](_0x56ce7e.FeyRf, _0xd9b0df);
        }
        function _0x777532() {
            const _0x567000 = _0xaa55b2;

            _0x2036e8.removeListener(_0x56ce7e[_0x567000(0x87)], _0x56885e), _0x2036e8[_0x567000(0x88)](_0x56ce7e[_0x567000(0x89)], _0x4fb7b1), _0x2036e8[_0x567000(0x88)](_0x56ce7e.UiTiN, _0x18ca2b), _0x2036e8[_0x567000(0x88)](_0x56ce7e.FeyRf, _0xd9b0df);
        }
        function _0x18ca2b(_0x514649) {
            const _0x1ac6f9 = _0xaa55b2;

            _0x37d7f1[_0x1ac6f9(0x8a)](debug, _0x37d7f1[_0x1ac6f9(0x8b)], _0x514649);
        }
        function _0x56885e() {
            const _0x888393 = _0xaa55b2;

            _0x37d7f1[_0x888393(0x80)](debug, _0x37d7f1[_0x888393(0x8c)]);
        }
        function _0x4fb7b1(_0x324281) {
            const _0x3bf7ba = _0xaa55b2;

            _0x37d7f1.AetuN(_0x777532), _0x37d7f1[_0x3bf7ba(0x8a)](debug, _0x37d7f1[_0x3bf7ba(0x8d)], _0x324281), _0x37d7f1.DIKCq(_0x14bda7, _0x324281);
        }
        function _0x1103e6(_0x42b330) {
            const _0x4f494f = _0xaa55b2;

            _0x530872[_0x4f494f(0x8e)](_0x42b330), _0x2441c7 += _0x42b330.length;

            const _0x5615af = Buffer[_0x4f494f(0x8f)](_0x530872, _0x2441c7);

            const _0x252a5e = _0x5615af[_0x4f494f(0x90)](_0x4f494f(0x91));

            if (_0x56ce7e[_0x4f494f(0x92)](_0x252a5e, -1)) {
                _0x56ce7e[_0x4f494f(0x93)](debug, _0x4f494f(0x94)), _0xd9b0df();
                return;
            }

            const _0x1bb1b9 = _0x5615af.toString(_0x56ce7e.gOtzp, 0, _0x5615af[_0x4f494f(0x90)]('\r\n'));

            const _0x2dd27d = +_0x1bb1b9[_0x4f494f(0x95)](' ')[1];

            debug(_0x56ce7e[_0x4f494f(0x96)], _0x1bb1b9), _0x56ce7e.nAWWU(_0x16cc61, {
                'statusCode': _0x2dd27d,
                'buffered': _0x5615af
            });
        }
        _0x2036e8.on(_0x37d7f1[_0xaa55b2(0x97)], _0x4fb7b1), _0x2036e8.on(_0x37d7f1.OetEp, _0x18ca2b), _0x2036e8.on(_0x37d7f1[_0xaa55b2(0x98)], _0x56885e), _0x37d7f1[_0xaa55b2(0x99)](_0xd9b0df);
    });
}
exports[_0x142a43(0x76)] = parseProxyResponse;
