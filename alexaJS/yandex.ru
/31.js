"use strict";(self.webpackChunklakpwolk_q5a5nn971e=self.webpackChunklakpwolk_q5a5nn971e||[]).push([[14],{670:(e,t,n)=>{function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},719:(e,t,n)=>{var r=n(588);const o=()=>window[r.A]=window[r.A]||{},s=e=>null!==e&&"object"==typeof e,i=e=>(e=>"string"==typeof e)(e)&&e.length>0,a=e=>s(e)&&Boolean(e._isZenLoggerEventInfo),l=e=>s(e)&&i(e.stack),c=e=>{if(!s(e))return!1;try{return JSON.stringify(e),!0}catch(e){return!1}},g=(e,t)=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t.apply(this,r),e)return e.apply(this,r)},u=e=>function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){}},f=(e,t)=>{const n=o()[e];return void 0===n?t:n},d=(e,t)=>{o()[e]=t};let h,p;!function(e){e.Error="ERROR",e.Warning="WARNING",e.Log="LOG"}(h||(h={})),function(e){e.Runtime="RUNTIME",e.Longterm="LONGTERM",e.Ignore="IGNORE"}(p||(p={}));const v=e=>t=>{const{errorsLimit:n,filterPatterns:r,filterRepetitiveErrors:o}=e,s=r.slice();let i=0;return e=>{e.logLevel===h.Error?i>=n||!((e,t)=>t.every((t=>!(t instanceof RegExp&&t.test(e)||"string"==typeof t&&e===t))))(e.info.message,s)||t(e,(t=>{t||(o&&s.push(e.info.message),i++)})):t(e,(()=>{}))}};var w=n(670);const L=(e,t)=>{const n=window.Ya&&window.Ya.Rum;if(n&&"function"==typeof n.logError&&e.storageLevel===p.Runtime)try{const{info:r}=e,{context:o,details:s}=r,i=((e,t)=>{switch(e.logLevel){case h.Error:return t.ERROR_LEVEL.ERROR;case h.Warning:return t.ERROR_LEVEL.WARN;case h.Log:return t.ERROR_LEVEL.INFO}})(e,n),a=(0,w.Z)({},s,{rids:o.rids}),l={project:"zen",version:o.appVersion};r.error?n.logError({level:i,service:o.appName,additional:a},r.error,l):n.logError({level:i,message:r.message,service:o.appName,additional:a},void 0,l),t()}catch(e){t(new Error("Empty error"))}else t()},E=function(e,t){if(void 0===t&&(t=0),a(e))return e;let n="",r=null,o=null,g=null,u=null;if(i(e))n=e;else if(l(e)){if(g=e,a(g._zenLoggerEventInfo))return g._zenLoggerEventInfo;n=g.message}else if(s(e)){const t=e;n=t.message,r=t.details||null,o=t.context||null,u=t.cause||null}return i(n)||(n="Unnamed event"),c(r)||(r=null),s(o)||"function"==typeof o||(o=null),l(g)||(g=null),u?(u=t<10?E(u,t+1):null,u&&(n=`${n}: ${u.message}`)):u=null,{message:n,details:r,context:o,error:g,cause:u,_isZenLoggerEventInfo:!0}},m={appName:"dzen-desktop",appVersion:"1.59.9",target:"modern"};const _=f("rid")||`${Date.now().toString(36).slice(0,16)}_${Math.random().toString(36).slice(2,18)}`,y=(()=>{const e=u(v({errorsLimit:50,filterRepetitiveErrors:!0,filterPatterns:["NS_ERROR","Failed to fetch","request timeout"]})(L));return t=>{e(t)}})(),R=new class{constructor(e){this._sessionStart=Date.now(),this._context={},this._sessionId=e.sessionId,this._handler=e.handler}_getSessionTimestamp(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?Math.round(window.performance.now()):Date.now()-this._sessionStart}_createEventInfoWithLoggerContext(e){const t=E(e),n=(0,w.Z)({},m,this._context);let r;if("function"==typeof t.context)try{r=t.context(n)}catch(e){r=n}else r=s(t.context)?(0,w.Z)({},n,t.context):n;return c(r)?(0,w.Z)({},t,{context:r}):(0,w.Z)({},t,{context:m})}_dispatchLoggerEvent(e,t){this._handler({logger:this,logLevel:t.logLevel,storageLevel:t.storageLevel,sessionId:this._sessionId,sessionTimestamp:this._getSessionTimestamp(),info:this._createEventInfoWithLoggerContext(e)})}setHandler(e){try{this._handler=e(this._handler)}catch(e){}}setContext(e){try{this._context="function"==typeof e?e(this._context):e}catch(e){this._context=m}}error(e,t){this._dispatchLoggerEvent(e,{logLevel:h.Error,storageLevel:t&&t.storageLevel||p.Runtime})}warn(e,t){this._dispatchLoggerEvent(e,{logLevel:h.Warning,storageLevel:t&&t.storageLevel||p.Longterm})}log(e,t){this._dispatchLoggerEvent(e,{logLevel:h.Log,storageLevel:t&&t.storageLevel||p.Ignore})}}({sessionId:_,handler:y});d("rid",_),d("zenLogger",R);const x=e=>e?"string"==typeof e?new Error(e):"string"!=typeof e.message?null:e:null;window.onerror=g(window.onerror,u(((e,t,n,r,o)=>{const s=x(o)||x(e);s&&(s.file=t,s.line=n,s.column=r,R.error(s))}))),window.addEventListener("unhandledrejection",u((e=>{const t=x(e.reason);t&&R.error(t)}))),window.console&&window.console.error&&(window.console.error=g(window.console.error,u((function(){let e=null;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n.map((t=>{if(t instanceof Error)return e=t,t.message;try{return JSON.stringify(t)}catch(e){return"unserialized data"}})).join(),s=x(e)||x(o);s&&R.error(s)}))))},588:(e,t,n)=>{n.d(t,{A:()=>r});const r="YandexZen"}},e=>{var t;t=719,e(e.s=t)}]);