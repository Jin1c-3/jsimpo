!function(){var t,r,o,s={get:function(e,n){var i=this.getAll(e);return i?i[n]:null},getAll:function(e){var n=encodeURIComponent(e)+"=",i=document.cookie.indexOf(n),t=null,o={};if(-1<i){var r=document.cookie.indexOf(";",i);if(-1===r&&(r=document.cookie.length),0<(t=document.cookie.substring(i+n.length,r)).length){for(var s=t.split("&"),a=0,l=s.length;a<l;a++){var c=s[a].split("=");o[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return o}}return null},set:function(e,n,i,t,o,r,s){var a=this.getAll(e)||{};a[n]=i,this.setAll(e,a,t,o,r,s)},setAll:function(e,n,i,t,o,r){var s=encodeURIComponent(e)+"=",a=new Array;for(var l in n)0<l.length&&n.hasOwnProperty(l)&&a.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l]));0<a.length?(s+=a.join("&"),i instanceof Date&&(s+="; expires="+i.toGMTString()),t&&(s+="; path="+t),o&&(s+="; domain="+o),r&&(s+="; secure")):s+="; expires="+new Date(0).toGMTString(),document.cookie=s},unset:function(e,n,i,t,o){var r=this.getAll(e);r&&(delete r[n],this.setAll(e,r,null,i,t,o))},unsetAll:function(e,n,i,t){this.setAll(e,null,new Date(0),n,i,t)}};function i(){var e=document.getElementById("mega-banner-wrapper"),n="";if(e&&(n=e.getAttribute("data-user-dialogs")),n){var i=n.split(","),t=[];return i.forEach(function(e){!function(e){var n;try{n=JSON.parse(window.localStorage.getItem(e))||""}catch(e){}return n}(e)&&t.push(e)}),0<t.length?1:void 0}}function e(e){var n=this;n.browserName=e.browserName,n.cookieCreation=e.cookieCreation,n.extensionName=e.extensionName,n.enableIEInstallerLightbox=!1,n.browserVersion=e.browserVersion,n.osName="string"==typeof e.osName?e.osName.slice(0,3).toLowerCase():"",n.extensions=e.extensions.extensions,n.hpCookieValue=e.hpCookieValue,n.xhrApiPath=e.xhrApiPath,n.IEInstallerBox=e.ieInstallerLightBox,n.enableHideOnFirstVisit=e.enableHideOnFirstVisit,n.bannerWrapper=r.getElementById("mega-banner-wrapper"),n.bannerAddNode=r.getElementById("mega-banner-add"),n.bannerCloseNode=r.getElementById("mega-banner-close"),n.ESC_KEY=27,n.ieLbNode=r.getElementById("ieInstallerLightbox"),n.docEl=r.querySelector("html"),n.bodyNode=r.querySelector("body"),n.initializer()}function n(){new e(o)}function a(e,n,i){t=e,r=n,o=i||{"browserName":"chrome","browserVersion":"107.0","cookieCreation":"client","enableHideOnFirstVisit":false,"extensionName":"homepage","extensions":{"cookieCreation":"client","disabledFrYhs":true,"enabled":true,"extensions":{"homepage":{"chrome":{"enabled":true,"maxVersion":0,"minVersion":31,"os":["win","mac"],"url":"https://chrome.google.com/webstore/detail/yahoo-homepage/jdanfkhnfpagoijgfmklhgakdicpnfil?extInstall=1&partner=oo-banner-v2"},"edge":{"enabled":true,"maxVersion":0,"minVersion":13,"os":["win","mac"],"url":"https://microsoftedge.microsoft.com/addons/detail/jdmefnjfemopmmkchjppgoklneobkafl?extInstall=1&partner=oo-banner-v2"},"firefox":{"enabled":true,"maxVersion":0,"minVersion":38,"os":["win","mac"],"url":"https://addons.mozilla.org/en-US/firefox/addon/yahoo-homepage/","xpi":"https://addons.mozilla.org/firefox/downloads/latest/yahoo-homepage/addon-705134-latest.xpi","hashTag":"extInstall?partner=oo-hpbanner"},"ie":{"enabled":false,"maxVersion":11,"minVersion":11,"os":["win"],"url":"https://sxh.yimg.com/jf/dyc/IEinstall/hpset_2018.06.28.01.exe"},"markupFlagClassName":"yahoo_hp_set_ext_installed","markupFlagSelector":"body"},"name":"homepage","partnerDisable":false}},"hpCookieValue":0,"ieInstallerLightBox":false,"osName":"mac os x","xhrApiPath":"/fp_mtls_ms/_rcv/remote/HpSetCookieService"}}e.prototype={initializer:function(){var n=this;i()&&n.bannerWrapper.classList.add("D(n)"),n.enableHideOnFirstVisit&&(s.get("ucs","lbit")||n.hideBanner());if(n.IEInstallerBox&&"ie"===n.browserName&&(t.indexedDB||!t.PointerEvent&&!t.MSPointerEvent||n.hideBanner(),n.setupIeInstallerLightbox()),"chrome"===n.browserName||"edge"===n.browserName)n.handleVerification();else if("firefox"===n.browserName&&t.indexedDB){var e=t.indexedDB.open("test");e.onsuccess=n.handleVerification.bind(n),e.onerror=function(e){n.hideBanner()}}},hideBanner:function(){var e=this;e.bannerWrapper&&(e.bannerWrapper.classList.add("D(n)"),"client"===e.cookieCreation?e.initializeSubCookie("lbit"):e.initializeSubCookieOnServer()),e.bodyNode&&e.bodyNode.classList.remove("uh-banner-wide")},initializeSubCookie:function(e){var n=Math.floor((new Date).getTime()/1e3),i=s.get("ucs",e);(!i||i<n)&&(!i&&this.enableHideOnFirstVisit?(this.setSubCookie("lbit",1),"lbit"!==e&&this.setSubCookie(e,n)):this.setSubCookie(e,n))},setSubCookie:function(e,n){var i=(new Date).setFullYear((new Date).getFullYear()+1);s.set("ucs",e,n,new Date(i),"/",".yahoo.com")},initializeSubCookieOnServer:function(){var e;t.XMLHttpRequest&&(e=new XMLHttpRequest),e&&this.xhrApiPath&&(e.timeout=3e3,e.open("GET",this.xhrApiPath),e.withCredentials=!0,e.send())},hideBannerOnEsc:function(e){e.keyCode!==this.ESC_KEY||this.bannerWrapper.classList.contains("D(n)")||this.hideBanner()},handleInstall:function(){var e=this,n=e.extensions[e.extensionName]&&e.extensions[e.extensionName][e.browserName]||{},i=n.url||"",t=n.hashTag||"",o={chrome:e.installChromeExtension,edge:e.installChromeExtension,firefox:e.installFirefoxExtension,ie:e.installExplorerRegistryKey};"firefox"===e.browserName&&57<=e.browserVersion&&(i=n.xpi),i&&o[e.browserName]&&(t&&r&&r.location&&(r.location.hash=t),o[e.browserName].call(e,i)),e.bannerWrapper&&e.hideBanner()},handleVerification:function(){var n=this,e=n.extensions[n.extensionName],i={chrome:[n.checkIsExcludedVersion,n.checkIsPartnerTraffic],edge:[n.checkIsExcludedVersion,n.checkIsPartnerTraffic],firefox:[n.checkIsExcludedVersion,n.checkIsPartnerTraffic],ie:[n.checkIsExcludedVersion,n.checkDependenciesFail,n.checkIsPartnerTraffic]},t=!1;if(e&&i[n.browserName]&&i[n.browserName].length)for(var o=0;o<i[n.browserName].length&&(t=!i[n.browserName][o].call(n));o+=1);return t&&n.bannerAddNode&&n.bannerCloseNode&&(n.bannerAddNode.addEventListener("click",function(){n.handleInstall()}),n.bannerCloseNode.addEventListener("click",function(){n.hideBanner()}),n.docEl.addEventListener("keydown",function(e){n.hideBannerOnEsc(e)})),t},setupIeInstallerLightbox:function(){var e=this;e.handleVerification&&e.shouldEnableIEInstallerLightbox&&(e.handleVerification(),e.enableIeInstallerLightbox=e.shouldEnableIEInstallerLightbox(),e.enableIeInstallerLightbox&&e.ieLbNode&&e.bodyNode&&(e.bodyNode.appendChild(e.ieLbNode),e.ieLbNode.addEventListener("click",function(){e.hideIEInstallerLightBox()}),r.addEventListener("keydown",function(){e.hideIEInstallerLightBox()})))},hideIEInstallerLightBox:function(){this.ieLbNode&&this.ieLbNode.classList.add("D(n)")},checkIsExcludedVersion:function(){var e=this,n=e.extensions[e.extensionName]&&e.extensions[e.extensionName][e.browserName],i=!0;return n&&(!n.minVersion||e.browserVersion>=n.minVersion)&&(!n.maxVersion||e.browserVersion<=n.maxVersion)&&(!n.os||0<=n.os.indexOf(e.osName))&&(i=!1),i},checkDependenciesFail:function(){var e;return(e=this.checkIsHomepageSet()||this.checkHasNoIEInstallerLightbox())||(this.enableIEInstallerLightbox=!0),e},checkIsHomepageSet:function(){return this.checkHasHpCookie()},checkIsPartnerTraffic:function(){var e=!1;return!this.extensions.partnerDisable||-1===t.location.href.search("[?&]fr=")&&-1===t.location.href.search("[?&]yhs=")||(e=!0),e},checkHasHpCookie:function(){return"1"===this.hpCookieValue},checkHasNoIEInstallerLightbox:function(){return!this.ieLbNode},shouldEnableIEInstallerLightbox:function(){return this.enableIEInstallerLightbox},installChromeExtension:function(e){e&&t.open(e,"_blank")},installFirefoxExtension:function(e){if(e){var n=".xpi"===e.substr(-4)?"_self":"_blank";t.open(e,n)}},installExplorerRegistryKey:function(e){this.ieLbNode&&this.ieLbNode.classList.remove("D(n)"),e&&(0<e.indexOf("hpset")&&this.setHPCookie(),t.open(e,"_self"))},setHPCookie:function(){var e=new Date;e.setTime(e.getTime()+1728e5),r.cookie="HP=1; expires="+e+"; path=/; domain=.yahoo.com"}},"undefined"!=typeof module?(module.exports.HpSetPromoHandler=e,module.exports.defineGlobals=a,module.exports.initHPPromo=n):(a(window,document),n())}();