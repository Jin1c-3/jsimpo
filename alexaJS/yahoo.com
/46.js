window.$_mod_ybar={ready:function(){(function(){"use strict";var DEFAULT_MODAL_CLASSNAME="modal-open",DEFAULT_SCROLL_THRESHOLD=0,DEFAULT_SCROLLPOINTS=[{pageOffset:44,animationClassName:"ybar-hide-navigation",transitionElSelector:"#ybar-navigation"}],PAGE_IS_SCROLLED_CLASSNAME="ybar-page-is-scrolled",arraySum=function(e){return e.reduce((function(e,n){return e+=n?1:0}),0)},trackCSSTransitions=function(e,n){var t=document.querySelectorAll(e),i=[],o=function(){return arraySum(i)},s=function(){},r=s;return 0===t.length?{isRunning:!1,set onAfterTransition(e){r=e}}:(Array.prototype.forEach.call(t,(function(e,t){i[t]=!1;var a=function(){i[t]=!1,o()||"function"!=typeof r||(r(),r=s),e.removeEventListener("transitionend",a)};n.addElementListener(e,"transitionend",a),n.addElementListener(e,"transitionstart",(function(){i[t]=!0,n.addElementListener(e,"transitionend",a)}))})),{get isRunning(){return o()},set onAfterTransition(e){r=e}})},animateOnScroll=function(e,n){var t,i,o,s,r,a,c,l,d,u,p,f,m=e.getConfig(),h=null!==(o=null!==(i=null===(t=null==m?void 0:m.bucketConfig)||void 0===t?void 0:t.scrollThreshold)&&void 0!==i?i:null==n?void 0:n.scrollThreshold)&&void 0!==o?o:DEFAULT_SCROLL_THRESHOLD,g=null!==(a=null!==(r=null===(s=null==m?void 0:m.bucketConfig)||void 0===s?void 0:s.scrollUpThreshold)&&void 0!==r?r:null==n?void 0:n.scrollUpThreshold)&&void 0!==a?a:h,y=null!==(d=null!==(l=null===(c=null==m?void 0:m.bucketConfig)||void 0===c?void 0:c.modalClassName)&&void 0!==l?l:null==n?void 0:n.modalClassName)&&void 0!==d?d:DEFAULT_MODAL_CLASSNAME,v=null!==(f=null!==(p=null===(u=null==m?void 0:m.bucketConfig)||void 0===u?void 0:u.scrollPoints)&&void 0!==p?p:null==n?void 0:n.scrollPoints)&&void 0!==f?f:DEFAULT_SCROLLPOINTS,b=document.documentElement,_=v.map((function(n){return trackCSSTransitions(n.transitionElSelector,e)})),w=0,C=function(e){var n=b.classList.contains(e.animationClassName),t=b.scrollTop>0,i=b.scrollTop<e.pageOffset,o=b.scrollTop>e.pageOffset,s=b.scrollTop>w+h,r=b.scrollTop<w-g,a=e.animationClassNameOnScrollUp;b.classList[t?"add":"remove"](PAGE_IS_SCROLLED_CLASSNAME),b.classList.contains(y)||(n&&(i||o&&r)?(a&&b.classList.add(a),b.classList.remove(e.animationClassName)):!n&&o&&s&&(a&&b.classList.remove(a),b.classList.add(e.animationClassName)))};e.addElementListener(window,"scroll",(function(){v.forEach((function(e,n){_[n].isRunning?_[n].onAfterTransition=function(){C(e)}:C(e)})),w=b.scrollTop}))};function createCommonjsModule(e){var n={exports:{}};return e(n,n.exports),n.exports}var eventemitter3=createCommonjsModule((function(e){var n=Object.prototype.hasOwnProperty,t="~";function i(){}function o(e,n,t){this.fn=e,this.context=n,this.once=t||!1}function s(e,n,i,s,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,s||e,r),c=t?t+n:n;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function r(e,n){0==--e._eventsCount?e._events=new i:delete e._events[n]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(t=!1)),a.prototype.eventNames=function(){var e,i,o=[];if(0===this._eventsCount)return o;for(i in e=this._events)n.call(e,i)&&o.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var n=t?t+e:e,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,r=new Array(s);o<s;o++)r[o]=i[o].fn;return r},a.prototype.listenerCount=function(e){var n=t?t+e:e,i=this._events[n];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,n,i,o,s,r){var a=t?t+e:e;if(!this._events[a])return!1;var c,l,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,i),!0;case 4:return d.fn.call(d.context,n,i,o),!0;case 5:return d.fn.call(d.context,n,i,o,s),!0;case 6:return d.fn.call(d.context,n,i,o,s,r),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,f=d.length;for(l=0;l<f;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,n);break;case 3:d[l].fn.call(d[l].context,n,i);break;case 4:d[l].fn.call(d[l].context,n,i,o);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},a.prototype.on=function(e,n,t){return s(this,e,n,t,!1)},a.prototype.once=function(e,n,t){return s(this,e,n,t,!0)},a.prototype.removeListener=function(e,n,i,o){var s=t?t+e:e;if(!this._events[s])return this;if(!n)return r(this,s),this;var a=this._events[s];if(a.fn)a.fn!==n||o&&!a.once||i&&a.context!==i||r(this,s);else{for(var c=0,l=[],d=a.length;c<d;c++)(a[c].fn!==n||o&&!a[c].once||i&&a[c].context!==i)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:r(this,s)}return this},a.prototype.removeAllListeners=function(e){var n;return e?(n=t?t+e:e,this._events[n]&&r(this,n)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,e.exports=a})),eventEmitter=new eventemitter3,triggerEvent=function(e,n){var t={type:e,detail:n};eventEmitter.emit(e,t)},addEventListener=function(e,n){eventEmitter.on(e,n)},removeEventListener=function(e,n){eventEmitter.removeListener(e,n)},logError=function(e,n,t){triggerEvent("error",{message:e+": "+n.message,error:n,meta:t})},logPerformance=function(e){triggerEvent("performance",{name:e.name,metrics:e.duration})},getConfig=function(){if(void 0!==window._ybar_runtime_config)return window._ybar_runtime_config;var e="YBAR client-side config is undefined",n=new Error(e);throw logError(e,n),n},getPerformanceMetrics=function(){return window._ybar_perf_metrics};window._ybar_perf_metrics={};var measure=function(e){if(!("mark"in window.performance))return{stop:function(){return null}};var n="start_".concat(e),t="stop_".concat(e);performance.mark(n);return{stop:function(){performance.mark(t),performance.measure(e,n,t),performance.getEntriesByName(e,"measure").forEach((function(e,n){getPerformanceMetrics()["".concat(e.name,"_").concat(n)]=e.duration,logPerformance(e)}))}}},registerPaintObserver=function(){if("PerformanceObserver"in window)try{new PerformanceObserver((function(e){e.getEntries().forEach((function(e,n){getPerformanceMetrics()["".concat(e.name,"_").concat(n)]=e.startTime,logPerformance(e)}))})).observe({entryTypes:["paint"]})}catch(n){var e=new Error("Unknown error observing paint event");logError("Error",e)}},YbarModuleApi=function(){function e(e){this.triggerEvent=triggerEvent,this.logError=logError,this.logPerformance=logPerformance,this.getConfig=getConfig,this.getPerformanceMetrics=getPerformanceMetrics,this.moduleId=e,this.listeners=[],this.ybarListeners=[],this.destroyFns=[]}return e.prototype.addElementListener=function(e,n,t,i){e&&(e.addEventListener(n,t,i),this.listeners.push([e,n,t]))},e.prototype.addEventListener=function(e,n){addEventListener(e,n),this.ybarListeners.push([e,n])},e.prototype.onDestroy=function(e){this.destroyFns.push(e)},e.prototype.destroy=function(){this.executeDestroyFns(),this.destroyListeners(),this.destroyYbarListeners()},e.prototype.executeDestroyFns=function(){for(;this.destroyFns.length;){var e=this.destroyFns.pop();null==e||e()}},e.prototype.destroyListeners=function(){for(var e=this.listeners.pop();e;){var n=e[0],t=e[1],i=e[2];null==n||n.removeEventListener(t,i),e=this.listeners.pop()}},e.prototype.destroyYbarListeners=function(){for(var e=this.ybarListeners.pop();e;){var n=e[0],t=e[1];removeEventListener(n,t),e=this.ybarListeners.pop()}},e}(),ModuleLifecycle;!function(e){e[e.CREATED=0]="CREATED",e[e.INITIALIZED=1]="INITIALIZED",e[e.DESTROYED=2]="DESTROYED"}(ModuleLifecycle||(ModuleLifecycle={}));var Module=function(){function e(e,n){this.name=e,this.initFn=n,this.ybarApi=new YbarModuleApi(this.name),this.state=ModuleLifecycle.CREATED}return e.prototype.init=function(){this.state!==ModuleLifecycle.INITIALIZED&&(this.initFn(this.ybarApi,document,window),this.state=ModuleLifecycle.INITIALIZED)},e.prototype.reInit=function(){this.destroy(),this.init()},e.prototype.destroy=function(){this.state!==ModuleLifecycle.DESTROYED&&this.state!==ModuleLifecycle.CREATED&&(this.ybarApi.destroy(),this.state=ModuleLifecycle.DESTROYED)},e}(),__assign=function(){return __assign=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},__assign.apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter(e,n,t,i){return new(t||(t=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,a)}c((i=i.apply(e,n||[])).next())}))}function __generator(e,n){var t,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=n.call(e,r)}catch(e){s=[6,e],i=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function __spreadArray(e,n,t){if(t||2===arguments.length)for(var i,o=0,s=n.length;o<s;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),ERROR="Error",GET="GET",NotificationRequest=function(){function e(n){classCallCheck(this,e),this._config=n}return createClass(e,[{key:"_getRequestUrl",value:function(e){var n=e.url||this._config.service.url,t=e.isRMP||this._config.service.isRMP;if(n){var i=n.split("?"),o={path:i[0],queryParams:i[1]?i[1].split("&"):[]};i=o.path.split(";"),o.path=i[0],o.matrixParams=i.slice(1);var s=e.queryParams,r=e.matrixParams;r&&!t&&Object.keys(r).forEach((function(e){o.matrixParams.push(encodeURIComponent(e)+"="+encodeURIComponent(r[e]||""))})),s&&Object.keys(s).forEach((function(e){o.queryParams.push(encodeURIComponent(e)+"="+encodeURIComponent(s[e]||""))}));var a=o.path;return o.matrixParams.length&&(a+=";"+o.matrixParams.join(";")),o.queryParams.length&&(a+="?"+o.queryParams.join("&")),a}}},{key:"_getRequestBody",value:function(e){return e&&JSON.stringify(e)||""}},{key:"_parseRequestResult",value:function(e){var n=this._config.service.isRMP;if("string"==typeof e)try{e=JSON.parse(e)}catch(n){e={}}return e=e||{},{css:n?e.assets&&e.assets.css:e.css,count:n?e.data&&e.data.count:e.count,markup:e.html,newCount:n?e.data&&e.data.newCount:e.newCount}}},{key:"read",value:function(e,n){this._attemptRequest(GET,e,n)}},{key:"update",value:function(e,n){this._attemptRequest("PUT",e,n)}},{key:"create",value:function(e,n){this._attemptRequest("POST",e,n)}},{key:"_attemptRequest",value:function(e,n,t){var i=this._config.service.attemptCount;n||(n={});var o=this._getRequestUrl(n),s={body:this._getRequestBody(n.body),method:e,url:o};this._sendRequest(s,i,t)}},{key:"_sendRequest",value:function(e,n,t){var i=this;e=e||{};var o=i._config.service,s=1e3*o.attemptDelay,r=e,a=r.url,c=r.body,l=new XMLHttpRequest;l.open(e.method,a),l.responseType=o.responseType,l.timeout=o.timeout;var d=function(){n>0?(n--,setTimeout((function(){i._sendRequest(e,n,t)}),s)):t&&t(new Error(ERROR+": "+l.status+" "+l.statusText),null)};l.onload=function(){if(200===l.status){var n=i._parseRequestResult(l.response||l.responseText);t&&t(null,n,e)}else d()},l.onerror=d,e.method===GET?l.send():l.send(c)}}]),e}(),SPACE=" ";function addClass(e,n){if(e&&!hasClass(e,n)){var t=e.className+SPACE+n;e.className=t}}function hasClass(e,n){var t=e&&e.className&&e.className.split(SPACE);return!!t&&-1!==t.indexOf(n)}function removeClass(e,n){if(e){var t=e.className&&e.className.split(SPACE);if(t){var i=t.indexOf(n);i>=0&&t.splice(i,1),e.className=t.join(SPACE)}}}function objectAssign(e,n){if(e){if(!n)return e;for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}}var NotificationStore=function(){function e(n,t){classCallCheck(this,e);var i=this;i._config=n,i._markup="",i._newCount,i._count,i._request=t}return createClass(e,[{key:"_replaceAllNotifications",value:function(e){this._markup=e.markup||"",this._newCount=e.newCount&&parseInt(e.newCount,10)||0,this._count=e.count&&parseInt(e.count,10)||0}},{key:"resetNewCount",value:function(){if(0!==this._newCount&&this._config.service.resetUrl){var e={url:this._config.service.resetUrl};this._request.read(e,(function(e,n){}))}this._newCount=0}},{key:"_requestNotifications",value:function(e,n){var t=this,i=t._config.panel,o={count:i.maxCount,imageTag:i.imageTag,theme:i.theme};e||(e={}),i.notificationTypes&&(o.notificationTypes=i.notificationTypes),objectAssign(o,e.matrixParams);var s={matrixParams:o};t._request.read(s,(function(e,i){!e&&i&&t._replaceAllNotifications(i),i=i||{},n&&n(e,i)}))}},{key:"getNotifications",value:function(){return{count:this._count,markup:this._markup,newCount:this._newCount}}},{key:"fetchNotifications",value:function(e,n){this._requestNotifications(e,n)}}]),e}(),constants={panelLoading:"yns-panel-loading",panelNodeId:"yns-panel",panelNodeClass:"yns-panel",panelHideElement:"yns-hide",panelError:"yns-panel-error",panelPaddingBtm:"yns-panel-padding-btm"},panelTemplate='<div class="yns-panel-header{hideHeaderClass}"><span class="yns-panel-header-title">{headerMsg}</span></div><div class="yns-panel-data"><ul class="yns-notifications {paddingClass}">{promoMarkup}{notifMarkup}</ul></div><div class="yns-panel-footer-action {hideClass}"><a class="yns-navigate-center" href="{notifCenterLink}" data-ylk="sec:hd;subsec:notifications-viewall;slk:{notificationCenterNavMsg};">{notificationCenterNavMsg}</a></div>',panelEmptyTemplate='<li class="yns-container yns-empty"><div class="yns-content">{emptyPanelMsg}</div></li>',panelErrorTemplate='<div class="yns-panel-error"><span> {errorMsg} </span></div>',panelParentTemplate='<div class="yns-panel" id="yns-panel"></div>',notifOnboardPromoTemplate='<li class="yns-container yns-promo {noLogoClass}"><div class="yns-link"><img class="yns-img yns-promo-logo" src="{promoLogo}" /><div class="yns-content yns-promo-content"><span class="yns-promo-title yns-title">{notifOnboardMsg}</span><span class="yns-promo-button"><button class="yns-promo-ctr js-push-subscribe" data-subscription-topic="{subscriptionTopic}" data-ylk="sec:hd;subsec:notifications-promo;slk:Notify Me;" data-subscription-ylk="sec:hd;subsec:notifications-promo;" >{notifOnboardBtnLabel}</button></span></div></div></li>',EXPANDED_PANEL="expanded_panel",ERROR_PANEL="error_panel",NotificationView=function(){function e(n,t){classCallCheck(this,e);var i=this;i._config=n,i._panelNode=null,i._store=t}return createClass(e,[{key:"_generatePanelMarkup",value:function(e,n){var t=this._config,i=void 0,o=void 0;"undefined"!=typeof window&&(i=window.Notification&&"default"===window.Notification.permission,o=t.promos.bypassEligibleClassCheck||hasClass(document.body,t.promos.eligibleBodyClass));var s=t.promos.enableNotifOnboard&&i&&o?notifOnboardPromoTemplate:"";if(s){var r=t.promos.showYahooLogo?"":"yns-no-logo";s=s.replace("{notifOnboardBtnLabel}",t.promos.notifOnboardBtnLabel).replace("{notifOnboardMsg}",t.promos.notifOnboardMsg).replace("{subscriptionTopic}",t.promos.subscriptionTopic).replace("{noLogoClass}",r).replace("{promoLogo}",t.promos.promoLogo)}var a=n.newCount>t.panel.maxCount?n.newCount:"",c=t.panel.notificationCenterPath,l=c?"":constants.panelHideElement,d=t.panel.headerMsg?"":" "+constants.panelHideElement,u=c?constants.panelPaddingBtm:"",p=void 0;n.count?p=n.markup:p=panelEmptyTemplate.replace("{emptyPanelMsg}",t.panel.emptyPanelMsg);return e=e.replace("{notifMarkup}",p).replace("{promoMarkup}",s).replace("{hideClass}",l).replace("{notifCenterLink}",c).replace("{paddingClass}",u).replace("{headerMsg}",t.panel.headerMsg).replace("{hideHeaderClass}",d).replace(/{notificationCenterNavMsg}/g,t.panel.notificationCenterNavMsg).replace(/{newCount}/g,a)}},{key:"render",value:function(e,n){var t=this;if(t._panelNode){var i=void 0,o=t._panelNode,s=void 0,r=void 0;switch(e){case EXPANDED_PANEL:i=panelTemplate,r=t._store.getNotifications(),s=t._generatePanelMarkup(i,r),o.innerHTML=s;break;case ERROR_PANEL:s=(i=panelErrorTemplate).replace("{errorMsg}",t._config.panel.errorMsg),o.innerHTML=s}n&&n()}else n&&n(new Error("No panel parent"))}},{key:"createPanelParentNode",value:function(e){e&&(e.innerHTML=panelParentTemplate,this._panelNode=document.getElementById(constants.panelNodeId))}},{key:"updateBadgeNode",value:function(e){if(e){var n=this._store.getNotifications().newCount,t=this._config.badge.maxCount;if(n){var i=n>t?t+"+":n;e.innerHTML=i}else e.innerHTML=""}}},{key:"addStyles",value:function(e){if(e&&"undefined"!=typeof window){var n=document.getElementById(this._config.panel.styleTagId);n||((n=document.createElement("style")).type="text/css",n.id=this._config.panel.styleTagId,n.innerText=e,document.head.appendChild(n))}}}]),e}(),EXPANDED_PANEL$1="expanded_panel",ERROR_PANEL$1="error_panel",PanelController=function(){function e(n,t,i){classCallCheck(this,e);var o=this;o._store=t,o._view=i,o._config=n;var s=o._config.panel;o._panelParentNode=document.querySelector(s.parentSelector),o._badgeNode=o._config.badge.selector&&document.querySelector(o._config.badge.selector),o._indicatorNode=s.indicatorSelector&&document.querySelector(s.indicatorSelector)}return createClass(e,[{key:"createPanelParentNode",value:function(){this._view.createPanelParentNode(this._panelParentNode),this._notifPanelNode=document.getElementById(constants.panelNodeId)}},{key:"refreshPanelNode",value:function(e,n){var t=this;addClass(t._notifPanelNode,constants.panelLoading),t._store.fetchNotifications(e,(function(e,i){var o=window.wafer&&window.wafer.base;o&&o.destroy(t._notifPanelNode),e?t._notifPanelNode.innerHTML||(t._view.render(ERROR_PANEL$1),addClass(t._notifPanelNode,constants.panelLoading)):(t._view.render(EXPANDED_PANEL$1),t._view.updateBadgeNode(t._badgeNode),t._showBadge(),t._showIndicator(),t._view.addStyles(i.css)),removeClass(t._notifPanelNode,constants.panelLoading),o&&o.sync(t._notifPanelNode.parentNode),n&&n(e,i)}))}},{key:"resetBadge",value:function(){var e=this;e._store.resetNewCount(),e._view.updateBadgeNode(e._badgeNode),addClass(e._badgeNode,e._config.badge.hideClass)}},{key:"_showIndicator",value:function(){this._indicatorNode&&(this._store.getNotifications().newCount?addClass(this._indicatorNode,this._config.panel.indicatorClass):removeClass(this._indicatorNode,this._config.panel.indicatorClass))}},{key:"_showBadge",value:function(){var e=this;e._store.getNotifications().newCount?removeClass(e._badgeNode,e._config.badge.hideClass):addClass(e._badgeNode,e._config.badge.hideClass)}}]),e}(),config={promos:{eligibleBodyClass:"display-push-promos",enableNotifOnboard:!0,bypassEligibleClassCheck:!1,notifOnboardBtnLabel:"Notify Me",notifOnboardMsg:"Get alerts for breaking news and top stories",promoLogo:"https://s.yimg.com/cv/apiv2/ae/news/circle_bell.png",showYahooLogo:!0,subscriptionTopic:"gondor_homerun_news"},badge:{hideClass:"",maxCount:5,selector:""},panel:{emptyPanelMsg:"You have no new notifications.",errorMsg:"",headerMsg:"Notifications",imageTag:"img:40x40|2|80",indicatorClass:"yns-indicator",indicatorSelector:null,maxCount:6,notificationCenterNavMsg:"View all {newCount} notifications",notificationCenterPath:"",notificationTypes:"",parentSelector:null,styleTagId:"notificationStyles",theme:"default"},service:{attemptCount:2,attemptDelay:1,url:null,resetUrl:null,isRMP:!1,responseType:"json",timeout:1500}},Main=function(){function e(n){classCallCheck(this,e);var t=this;t.config=t._parseConfig(n),t._validateRequiredConfigs()&&(t._request=new NotificationRequest(t.config),t._store=new NotificationStore(t.config,t._request),t._view=new NotificationView(t.config,t._store),t._panelController=new PanelController(t.config,t._store,t._view),t._panelController.createPanelParentNode(),t._assignHelperMethods())}return createClass(e,[{key:"_parseConfig",value:function(e){var n={};for(var t in objectAssign(n,config),n)if(n.hasOwnProperty(t)){var i=n[t],o=e[t];"object"===(void 0===i?"undefined":_typeof(i))?objectAssign(i,o):n[t]=e[t]}return n}},{key:"_validateRequiredConfigs",value:function(){var e=this.config;return!(!e.panel.parentSelector||!e.service.url)}},{key:"_assignHelperMethods",value:function(){var e=this;e.helpers={refreshPanelNode:e._panelController.refreshPanelNode.bind(e._panelController),resetBadge:e._panelController.resetBadge.bind(e._panelController),resetIndicator:function(){removeClass(e._panelController._indicatorNode,e.config.panel.indicatorClass)}}}}]),e}(),notificationClient_module_min=Main,notificationClient={NotificationClient:notificationClient_module_min},CONSUMPTION_STORAGE_KEY="lnct",NotifClient=function(){function e(){var e,n;this.personalized=!1,this.ybarElem=document.getElementById("ybar"),this.partnerClasses=null===(n=null===(e=this.ybarElem)||void 0===e?void 0:e.className)||void 0===n?void 0:n.match(/ybar-variant-([a-z]*)/),this.client=new notificationClient.NotificationClient(this.getConfig())}return e.prototype.refreshPanel=function(){var e,n,t,i=this,o={lastUpdate:this.getTimeStamp()||this.setTimeStamp(),loadInHpViewer:!0,includePersonalized:this.personalized},s=(null===(e=window.YAHOO)||void 0===e?void 0:e.context)||(null===(n=window.Af)||void 0===n?void 0:n.context)||{};return s.region&&s.lang&&(o.lang=s.lang,o.region=s.region),(null===(t=this.partnerClasses)||void 0===t?void 0:t.length)&&(o.partner=this.partnerClasses[1]),new Promise((function(e,n){i.client.helpers.refreshPanelNode({matrixParams:o},(function(t,i){t&&(logError("Notification refresh error:",t),n(t)),e(i)}))}))},e.prototype.resetBadge=function(){this.client.helpers.resetBadge(),this.setTimeStamp()},e.prototype.getConfig=function(){var e,n,t,i,o,s={promos:{eligibleBodyClass:"display-push-promos",enableNotifOnboard:!0},badge:{selector:"#notif-badge",hideClass:"ybar-notification-hidden"},panel:{emptyPanelMsg:"You have no new notifications.",errorMsg:"Please check back later.",headerMsg:"Notifications",maxCount:5,parentSelector:"#ybarNotificationBody",notificationTypes:"breakingNews"},service:{url:"/tdv2_fp/api/resource/NotificationHistory.getHistory",isRMP:!1}},r=document.getElementById("notification-container"),a=null===(e=null==r?void 0:r.dataset)||void 0===e?void 0:e.config,c={};if(a){"att"===(null===(n=this.partnerClasses)||void 0===n?void 0:n[1])&&(s.promos.showYahooLogo=!1);try{var l=JSON.parse(a);c=__assign({},l),this.personalized=1===l.personalize}catch(e){logError("Notifications config parsing error",e)}r&&delete r.dataset.config}var d=this.mergeConfigs(s,c);return(null===(t=this.partnerClasses)||void 0===t?void 0:t.length)&&"yahoo"!==(null===(i=this.partnerClasses)||void 0===i?void 0:i[1])&&(null===(o=d.promos)||void 0===o?void 0:o.subscriptionTopic)&&delete d.promos.subscriptionTopic,d},e.prototype.mergeConfigs=function(e,n){var t=__assign({},e);for(var i in e)t[i]=__assign(__assign({},e[i]),n[i]);return t},e.prototype.getTimeStamp=function(){var e;return null===(e=window.localStorage)||void 0===e?void 0:e.getItem(CONSUMPTION_STORAGE_KEY)},e.prototype.setTimeStamp=function(){var e,n=""+Math.floor((new Date).getTime()/1e3);return null===(e=window.localStorage)||void 0===e||e.setItem(CONSUMPTION_STORAGE_KEY,n),n},e}(),notifClient=new NotifClient,getNotifClient=function(){return notifClient},reInit=function(){notifClient=new NotifClient},ybarRapid,ybarRapidInterval,ybarRapidErrMsg="",beaconQueue=[],noop=function(){},logRapidError=function(){window.removeEventListener("beforeunload",logRapidError),""!==ybarRapidErrMsg&&logError("Rapid not found on page",new Error(ybarRapidErrMsg))},findRapidWithSpaceid=function(e){var n=void 0;if(e&&e.length>0)for(var t=0;t<e.length&&(!(n=e[t].instance)||null===n.getRapidAttribute("spaceid")||isNaN(n.getRapidAttribute("spaceid")));++t)n=void 0;return n},_ybarContainer=null,_getYbarContainer=function(){return null===_ybarContainer&&(_ybarContainer=document.getElementById("ybar")),_ybarContainer},getRapid=function(){var e=0,n=window.YAHOO;if(ybarRapid)return ybarRapid;if(n)if(n.i13n)if(n.i13n.__RAPID_INSTANCES__)if(n.i13n.__RAPID_INSTANCES__.length<1)ybarRapidErrMsg="YBAR: no instances of rapid found!";else{var t=findRapidWithSpaceid(n.i13n.__RAPID_INSTANCES__);if(t){ybarRapid=t,ybarRapidErrMsg="",clearInterval(ybarRapidInterval),window.removeEventListener("beforeunload",logRapidError);var i={useViewability:!0};!!document.querySelector(".ybar-track-link-views")||(i.clickonly=!0);var o=[],s=_getYbarContainer();if(null!==s)o.push(s.getAttribute("id"));else if(window.YBAR)for(var r=0,a=window.YBAR.getConfig().componentCount;r<a;++r)o.push("ybar-component-".concat(r));if(o.length>0){if(ybarRapid.addModules(o,!1,i),beaconQueue.length>0)for(e=0;e<beaconQueue.length;++e){var c=beaconQueue[e];c.type&&c.options&&("beaconClick"===c.type?ybarRapid.beaconClick(c.options.secValue,c.options.slkValue,c.options._pValue,c.options.clickParams,c.options.outcome,noop,c.options.options):"beaconEvent"===c.type&&ybarRapid.beaconEvent(c.options.eventName,c.options.pageParams,c.options.outcome))}}else ybarRapidErrMsg="YBAR: No `#ybar` wrapper div found for Rapid module tracking"}else ybarRapidErrMsg="YBAR: no instances of rapid found with spaceid"}else ybarRapidErrMsg="YBAR: `YAHOO.i13n.__RAPID_INSTANCES__` is not defined!";else ybarRapidErrMsg="YBAR: `YAHOO.i13n` is not defined!";else ybarRapidErrMsg="YBAR: `YAHOO` is not defined!"},beaconClick=function(e,n,t,i,o,s,r){ybarRapid?ybarRapid.beaconClick(e,n,t,i,o,s,r):(beaconQueue.push({type:"beaconClick",options:{secValue:e,slkValue:n,_pValue:t,clickParams:i,outcome:o||null,options:r||null}}),s&&"function"==typeof s&&s())},beaconEvent=function(e,n,t,i){ybarRapid?ybarRapid.beaconEvent(e,n,t):beaconQueue.push({type:"beaconEvent",options:{eventName:e,pageParams:n,outcome:t}}),i&&"function"==typeof i&&i()},refreshModule=function(){ybarRapid&&ybarRapid.refreshModule("ybar")},timings={},navStartTime=null,domLoadedTime=null,getCurrentTimerValue=function(){return Date.now()},getTimerValueDiff=function(e,n){return"number"==typeof e&&"number"==typeof n?Math.floor(n-e):null},saveCurrentTimerValue=function(e){var n=getCurrentTimerValue();return null!==n&&(timings[e]||(timings[e]=n)),n},getPerformanceI13nObject=function(){var e={ns_ready:getTimerValueDiff(navStartTime,timings.search_assist_ready),ns_focus:getTimerValueDiff(navStartTime,timings.search_input_focus_click),ns_key:getTimerValueDiff(navStartTime,timings.search_input_keyboard_input),dcl_search:getTimerValueDiff(domLoadedTime,timings.search_query_submit),ns_search:getTimerValueDiff(navStartTime,timings.search_query_submit)};return Object.keys(e).forEach((function(n){null===e[n]&&delete e[n]})),JSON.stringify(e)},setNavStartTime=function(e){navStartTime=e},fireSareadyCustomEvent=function(){domLoadedTime=getCurrentTimerValue(),window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&setNavStartTime(window.performance.timing.navigationStart),window.performance&&window.performance.timing&&window.performance.timing.domContentLoadedEventStart&&(domLoadedTime=window.performance.timing.domContentLoadedEventStart);var e={ns_ready:getTimerValueDiff(navStartTime,timings.search_assist_ready),dcl_ready:getTimerValueDiff(domLoadedTime,timings.search_assist_ready)};setTimeout((function(){beaconEvent("saready",e,null,noop)}),200)},initRapid=function(){ybarRapidInterval=window.setInterval(getRapid,100),setTimeout((function(){ybarRapidInterval&&(clearInterval(ybarRapidInterval),logRapidError())}),1e4),window.addEventListener("beforeunload",logRapidError),getRapid(),navStartTime=getCurrentTimerValue(),"loading"===document.readyState?window.addEventListener("DOMContentLoaded",fireSareadyCustomEvent):fireSareadyCustomEvent()},getSpaceId=function(){var e,n,t,i=ybarRapid||getRapid(),o=null==i?void 0:i.getRapidAttribute("spaceid");if(o||(o=null===(n=null===(e=window.YAHOO)||void 0===e?void 0:e.i13n)||void 0===n?void 0:n.SPACEID),!o){var s=_getYbarContainer();o=null!==(t=null==s?void 0:s.getAttribute("data-spaceid"))&&void 0!==t?t:""}return o||""},getYlkFromElem=function(e){var n,t=null===(n=null==e?void 0:e.dataset)||void 0===n?void 0:n.ylk;return t?t.split(";").reduce((function(e,n){var t=n.split(":"),i=t[0],o=t[1];return e[i]=o,e}),{}):{}},destroyRapid=function(){ybarRapidInterval&&clearInterval(ybarRapidInterval),ybarRapid=null,ybarRapidErrMsg="",_ybarContainer=null},reInitRapid=function(){destroyRapid(),initRapid()},getObjectValue=function(e,n,t){if(!e)return t;if(!n)return e;"string"==typeof n&&(n=n.split("."));for(var i=0;e&&i<n.length;++i)e=e[n[i]];return null==e?t:e},appendQorA=function(e){return~e.indexOf("?")?e+="&":e+="?",e},opensInNewTab=function(e,n){var t;return"_blank"===(null===(t=null==n?void 0:n.target)||void 0===t?void 0:t.toLowerCase())||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!1},getDomain=function(e){void 0===e&&(e="");var n=e.match(/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i);return n&&n[1]},INITIAL_STATE={navBeaconFired:!1},SUPPORTED_EVENT_HOOKS=["ready","navigation"],YbarGlobalApi=function(){function e(e){var n=this;this.triggerEvent=triggerEvent,this.addEventListener=addEventListener,this.logError=logError,this.logPerformance=logPerformance,this.getConfig=getConfig,this.getPerformanceMetrics=getPerformanceMetrics,this.rapidRefresh=refreshModule,this.state=__assign({},INITIAL_STATE),this.modules=e,this.userEmail="",window.YBAR&&(SUPPORTED_EVENT_HOOKS.forEach((function(e){var t="on".concat(e),i=window.YBAR[t];i&&(n[t]=i)})),window.YBAR.wssid&&(this.wssid=window.YBAR.wssid),window.YBAR.appid&&(this.appid=window.YBAR.appid)),SUPPORTED_EVENT_HOOKS.forEach((function(e){var t="on".concat(e);addEventListener(e,(function(){for(var i,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];"navigation"===e?n.navigate(o[0]):null===(i=n[t])||void 0===i||i.call.apply(i,__spreadArray([n],o,!1))}))}))}return e.prototype.getUserEmail=function(){return this.userEmail},e.prototype.setUserEmail=function(e){this.userEmail=e},e.prototype.init=function(){this.state=__assign({},INITIAL_STATE),initRapid(),this.modules.forEach((function(e){return e.init()}))},e.prototype.reInit=function(){this.state=__assign({},INITIAL_STATE),reInitRapid(),reInit(),this.modules.forEach((function(e){return e.reInit()}))},e.prototype.destroy=function(){this.state=__assign({},INITIAL_STATE),destroyRapid(),this.modules.forEach((function(e){return e.destroy()}))},e.prototype.navigate=function(e){for(var n,t=this,i=e.detail.event,o=i.target||i.srcElement;null!==o.parentNode&&(!o.nodeName||"a"!==o.nodeName.toLocaleLowerCase());)o=o.parentNode;var s=!1;opensInNewTab(i,o)||(i.preventDefault(),s=!0);var r=null===(n=this.onnavigation)||void 0===n?void 0:n.call(this,e),a=((null==o?void 0:o.dataset)||{}).rapid_p,c=void 0===a?"":a,l=getYlkFromElem(o);l.tar=getDomain(null==o?void 0:o.href)||document.location.hostname,l.tar_uri||(l.tar_uri=o.pathname||""),this.state.navBeaconFired?r||!i.defaultPrevented&&!s||(document.location.href=null==o?void 0:o.href):beaconClick(l.sec||"",l.slk||(null==o?void 0:o.textContent)||"",c,l,null,(function(){(i.defaultPrevented||s)&&(t.state.navBeaconFired=!0),r||!i.defaultPrevented&&!s||(document.location.href=null==o?void 0:o.href)}))},e}(),modules=new Map,initModule=function(e,n){var t=measure(e),i=new Module(e,n);i.init(),modules.set(e,i),t.stop()},initYbar=function(){var e=new YbarGlobalApi(modules);window.YBAR=e,registerPaintObserver(),window.YBAR.triggerEvent("ready")},smartphoneScrollConfig={scrollPoints:[{pageOffset:44,animationClassName:"ybar-hide-navigation",animationClassNameOnScrollUp:"ybar-show-navigation",transitionElSelector:"#ybar-navigation"}],scrollUpThreshold:5},smartphoneScrollConfigShopsMweb={scrollPoints:[{pageOffset:44,animationClassName:"ybar-hide-inner-wrap",animationClassNameOnScrollUp:"ybar-show-inner-wrap",transitionElSelector:"#ybar-inner-wrap"}],scrollUpThreshold:5},initRan=!1,init$6=function(){initRan||(initRan=!0,initModule("ybar-sticky",(function(e){var n=e.getConfig(),t="smartphone"===n.device,i=document.querySelector(".ybar-sticky"),o=t?smartphoneScrollConfig:{};t&&"shops"===n.property&&(o=smartphoneScrollConfigShopsMweb),i&&animateOnScroll(e,o)})))};"interactive"===document.readyState||"complete"===document.readyState?(console.log("[ybar debug] Nav-hide init triggered immediately"),init$6()):(document.addEventListener("DOMContentLoaded",(function(){console.log("[ybar debug] Nav-hide init triggered ondomcontentloaded"),init$6()})),document.addEventListener("load",(function(){console.log("[ybar debug] Nav-hide init triggered onload"),init$6()})));var init$5=function(){document.body.addEventListener("click",(function(){triggerEvent("close-all-menus")}))},isHovered=function(e){return!(!e||!e.parentNode)&&e===e.parentNode.querySelector(e.nodeName+":hover")},hoverBeaconTimeout={},addHoverEvent=function(e,n,t,i,o){e.addElementListener(n,"mouseenter",(function(){var e=JSON.stringify({sec:t,slk:i,params:o});hoverBeaconTimeout[e]||(hoverBeaconTimeout[e]=!0,beaconClick(t,i,"",o),setTimeout((function(){delete hoverBeaconTimeout[e]}),1e3))}))},hideOutlineOnMouseDown=function(e,n,t){var i="ybar-show-outline",o="ybar-hide-outline",s=[],r=document.querySelector(e),a=document.querySelector(n),c=function(e,n){for(var t=e.className.split(" "),s=[],r=0;r<t.length;++r){var a=t[r].trim();a!==o&&a!==i&&s.push(a)}s.push(n),e.className=s.join(" ")},l=function(){a&&c(a,o)},d=function(){a&&c(a,i)};r&&(t.addElementListener(r.parentNode,"mousedown",(function(){s.push({name:"mousedown",ts:new Date})})),t.addElementListener(r,"focus",(function(){for(var e=2,n=[function(){},l,d],t=0;t<s.length;++t){var i=s[t];if(0===e&&"mousedown"===i.name)e=2;else if(1!==e&&"mousedown"===i.name){(new Date).getTime()-i.ts.getTime()<100&&(e=1)}else"mousedown"===s[0].name&&"blur"===i.name&&(e=0)}s.length=0,n[e]()})),t.addElementListener(r,"blur",(function(){s.push({name:"blur",ts:new Date}),l()})))};init$5();var ybar=document.getElementById("ybar"),propertyClasses=ybar&&ybar.className&&ybar.className.match(/ybar-property-([a-z]*)/),property;(null==propertyClasses?void 0:propertyClasses.length)&&(property=propertyClasses[1]);var getYMetaQueryString=function(){var e="";try{var n=window.YAHOO&&window.YAHOO.context||window.Af&&window.Af.context||{};["apptype","rid","bucketId","bucket","device","osName","browserName","browserVersion"].forEach((function(t){void 0!==n[t]&&(e+="&".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t])))}))}catch(e){console.log(e)}return e},fireImageBeacon=function(e,n,t){e||t&&t("Missing required params - type: ".concat(e));var i=__assign(__assign({},n),{src:"ybar",_rdn:(new Date).getTime().toString().substr(7)}),o=Object.keys(i).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])})).join("&"),s="".concat("https://www.yahoo.com").concat("/_td_api/beacon","/").concat(e,"?").concat(o).concat(getYMetaQueryString(),"&site=").concat(property),r=new Image;r.onerror=function(e){var n=e instanceof ErrorEvent?e.error:e.toString();t&&t(n)},r.onload=function(){t&&t()},r.src=s},initErrorBeaconListener=function(){addEventListener("error",(function(e){var n=e&&e.detail||{},t=n.error||{},i=n.message||t.message||t.toString();try{var o={code:t.name,file:t.fileName||"",line:t.lineNumber||"",message:i};fireImageBeacon("error",o)}catch(e){}}))},initPerformanceMetricsBeaconListener=function(){addEventListener("performance",(function(){setTimeout((function(){try{var e=getPerformanceMetrics();Math.round(100*Math.random())>90&&fireImageBeacon("performance",e)}catch(e){}}),1e3)}))},measureInit=measure("ybar-init");initYbar(),measureInit.stop(),initPerformanceMetricsBeaconListener(),initRapid(),initErrorBeaconListener();var Css$8={"logo-image":"_yb_oo2fu"},hideLogosOnError=function(e){e.length>0&&Array.prototype.forEach.call(e,(function(e){e.onerror=function(){e.onerror=null,e.style.display="none"}}))},fixLogoOutline=function(e,n){e&&(hideOutlineOnMouseDown("#ybar-logo","#ybar-logo",n),n.onDestroy((function(){e.classList.remove("ybar-show-outline"),e.classList.remove("ybar-hide-outline")})))},logoClick=function(e,n){n&&e.addElementListener(n,"click",(function(){e.triggerEvent("logo-click")}))},init$4=function(e,n){n.logoImages&&hideLogosOnError(n.logoImages),n.wrapper&&(fixLogoOutline(n.wrapper,e),logoClick(e,n.wrapper))};initModule("ybar-mod-logo",(function(e){var n={wrapper:document.getElementById("ybar-logo"),logoImages:document.querySelectorAll(".".concat(Css$8["logo-image"]))};init$4(e,n)}));var overlay$1="_yb_1r2ir",tooltip="_yb_1rsxv",tooltip__text="_yb_o04ap",tooltip__voice="_yb_1i8f6",tooltip__web="_yb_1gftm",dark="_yb_1psh0",darker="_yb_9iuab",light="_yb_1du1o",midnight60="_yb_m1jsy",Css$7={"dropdown-open":"_yb_12s12","merchant-is-selected":"_yb_1gukl",overlay:overlay$1,"selected-merchant-clear-button":"_yb_b7qnt","shops-buttons":"_yb_cbtmk","styled-select":"_yb_1ii3y",tooltip:tooltip,"tooltip--show":"_yb_1n8xm",tooltip__text:tooltip__text,tooltip__voice:tooltip__voice,tooltip__web:tooltip__web,dark:dark,darker:darker,light:light,midnight60:midnight60},range=function(e,n){var t=Math.max(e,n),i=Math.min(e,n),o=Math.abs(t-i);return __spreadArray([],new Array(o+1),!0).map((function(e,n){return i+n}))},openSearchOverlay=function(e,n,t){var i=e.getConfig().bucketConfig,o=(void 0===i?{}:i).enable_search_ui,s=void 0!==o&&o;if(n.ybar){n.ybar.classList.add("ybar-searchbox-assist-fullscreen"),document.documentElement.classList.add("ybar-overlay"),document.body.classList.add("ybar-overlay-noscroll");beaconClick("ybar","websrch","",{elm:"expand",subsec:"searchbox",itc:"1"}),setTimeout((function(){n.searchInput instanceof HTMLInputElement&&(t&&(n.searchInput.value=t),n.searchInput.focus(),s&&n.searchInput.click())}))}},closeSearchOverlay=function(e){var n;null===(n=e.ybar)||void 0===n||n.classList.remove("ybar-searchbox-assist-fullscreen"),document.documentElement.classList.remove("ybar-overlay"),document.body.classList.remove("ybar-overlay-noscroll"),e.searchInput instanceof HTMLInputElement&&(e.searchInput.value="",e.searchInput.blur())},initMweb=function(e,n){"smartphone"===e.getConfig().device&&(e.addElementListener(n.searchBoxPlaceholder,"click",(function(){openSearchOverlay(e,n)})),e.addElementListener(n.searchBoxPlaceholder,"keydown",(function(t){var i=t,o=i.keyCode,s=i.key,r=range(65,90),a=__spreadArray(__spreadArray([],range(58,57),!0),range(96,105),!0),c=__spreadArray(__spreadArray([],r,!0),a,!0).includes(o);(32===o||13===o||c)&&(t.preventDefault(),t.stopPropagation(),openSearchOverlay(e,n,c?s:""))})),n.searchBoxBackButton&&(e.addElementListener(n.searchBoxBackButton,"click",(function(e){e.stopPropagation(),closeSearchOverlay(n);beaconClick("ybar","back-close-srch","",{elm:"btn",subsec:"searchbox",itc:"1"})})),e.addElementListener(n.searchInput,"keyup",(function(e){e.stopPropagation();27===e.keyCode&&(e.stopPropagation(),closeSearchOverlay(n))}))),e.addEventListener("viewerClosed",(function(){closeSearchOverlay(n)})),e.onDestroy((function(){closeSearchOverlay(n)})))},Tooltip=function(){function e(e,n,t){n&&(this.ybar=e,this.elem=n,this.options=t,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.addEventListeners())}return Object.defineProperty(e.prototype,"tooltip",{get:function(){var e=this;return this.tooltipMarkup||(this.tooltipMarkup=this.createTooltip(),(this.options.tooltipParentElm||this.elem).appendChild(this.tooltipMarkup),this.ybar.onDestroy((function(){var n,t;null===(t=null===(n=e.tooltipMarkup)||void 0===n?void 0:n.parentNode)||void 0===t||t.removeChild(e.tooltipMarkup)}))),this.tooltipMarkup},enumerable:!1,configurable:!0}),e.prototype.show=function(){this.tooltip.classList.add(this.options.showClass)},e.prototype.hide=function(){this.tooltip.classList.remove(this.options.showClass)},e.prototype.addEventListeners=function(){this.ybar.addElementListener(this.elem,"mouseenter",this.show),this.ybar.addElementListener(this.elem,"focus",this.show),this.ybar.addElementListener(this.elem,"mouseleave",this.hide),this.ybar.addElementListener(this.elem,"blur",this.hide)},e.prototype.createTooltip=function(){var e=document.createElement("div");e.className=this.options.containerClass||"";var n=document.createElement("p");return n.textContent=this.options.label,n.className=this.options.textClass||"",e.appendChild(n),e},e}();createCommonjsModule((function(module){(function(){var __webpack_modules__={"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){eval("var I18n = __webpack_require__(/*! ./lib/I18n */ \"./src/lib/I18n.js\");\n\n(function (win, doc) {\n  \"use strict\";\n\n  var defaultConfig = {\n    uiLang: 'en-US',\n    speechLang: 'en-US',\n    voiceButton: '#voice-btn',\n    searchBox: {\n      form: '#sf',\n      input: '#yschsp',\n      params: {\n        fr: '',\n        fr2: ''\n      }\n    },\n    enable_voice_trending: false,\n    trending: {\n      market: \"en-us\"\n    },\n    ui: {\n      speechOverlay: {\n        disableBlur: false\n      }\n    },\n    browsers: {\n      edge: false\n    }\n  };\n\n  function VoiceSearch(config) {\n    var self = this;\n    self.config = Object.assign(defaultConfig, config || {});\n    self.i18n = new VoiceSearch.I18n({\n      lang: self.config.uiLang\n    });\n    self.renderPermissionGuide(self);\n    self.renderSpeechPanel(self);\n    self.speechResult = '';\n    self.noSpeech = true;\n    self.isRecognitionStart = false;\n    self.recognition = null;\n    self.voiceButton = doc.querySelector(self.config.voiceButton);\n    self.searchBoxForm = doc.querySelector(self.config.searchBox.form);\n    self.searchBoxQuery = doc.querySelector(self.config.searchBox.input);\n    self.speechPanel = doc.querySelector('#spch');\n    self.speechButtonContainer = doc.querySelector('#spchbc');\n    self.speechButton = doc.querySelector('#spchbc-btn');\n    self.speechText = doc.querySelector('#spcht');\n    self.speechOverlay = doc.getElementById('spch-overlay');\n    self.retryLink = doc.querySelector('#spcht-retry');\n    self.trending = doc.getElementById('spch-trending');\n    self.trendingTerms = doc.getElementById('trending-terms');\n    self.termSpans = doc.getElementsByClassName(\"trending-term\");\n    self.closeButton = doc.querySelector('#spchx');\n    self.startAudio = new Audio('https://s.yimg.com/pv/static/misc/voice-start-202105050733.wav');\n    self.resultAudio = new Audio('https://s.yimg.com/pv/static/misc/voice-result-202105050733.wav');\n    self.errorAudio = new Audio('https://s.yimg.com/pv/static/misc/voice-error-202105050733.wav');\n    self.closeAudio = new Audio('https://s.yimg.com/pv/static/misc/voice-close-202105050733.wav');\n    self.permissionGuide = doc.querySelector('#spchp');\n    self.permissionGuideClose = doc.querySelector('#spchpx');\n    self.permissionGuideTimer = null;\n\n    self.onEscKeyDown = function (e) {\n      if (e.code !== 'Escape') {\n        return;\n      }\n\n      self.recognition.stop();\n      self.sendBeacon('keybrd', 'voicesearch_cancel_esc'); // The clean up should put inside closePanel() instead of here,\n      // or func won't be cleaned up if user close panel with btn or overlay\n\n      self.closePanel(self);\n    };\n\n    if (self.isBrowserSupported()) {\n      var SpeechRecognition = win.SpeechRecognition || win.webkitSpeechRecognition;\n      var SpeechGrammarList = win.SpeechGrammarList || win.webkitSpeechGrammarList;\n      var speechGrammar = '#JSGF V1.0;';\n      self.recognition = new SpeechRecognition();\n      var speechRecognitionList = new SpeechGrammarList();\n\n      if (speechRecognitionList.addFromString) {\n        speechRecognitionList.addFromString(speechGrammar, 1);\n      }\n\n      self.recognition.grammars = speechRecognitionList;\n      self.recognition.continuous = false;\n      self.recognition.lang = self.config.speechLang;\n      self.recognition.interimResults = false;\n      self.recognition.maxAlternatives = 1;\n      /* Listeners */\n\n      if (self.voiceButton) {\n        self.voiceButton.onclick = function () {\n          self.recognition.start();\n\n          if (self.permissionGuideTimer) {\n            win.clearTimeout(self.permissionGuideTimer);\n          }\n\n          self.permissionGuideTimer = win.setTimeout(function () {\n            if (!self.isRecognitionStart) {\n              self.showPermissionGuide(self);\n            }\n          }, 300); // Also close when pressing esc\n\n          doc.addEventListener('keydown', self.onEscKeyDown);\n          self.sendBeacon('clk', 'voicesearch');\n        };\n      }\n\n      if (self.speechButton) {\n        self.speechButton.onclick = function () {\n          if (!self.isRecognitionStart) {\n            self.recognition.start();\n            self.sendBeacon('clk', 'voicesearch_panel_mic_restart');\n          } else {\n            self.recognition.stop();\n            self.sendBeacon('clk', 'voicesearch_panel_mic_close');\n            self.closePanel(self);\n          }\n        };\n      }\n\n      if (self.retryLink) {\n        self.retryLink.onclick = function () {\n          if (!self.isRecognitionStart) {\n            self.recognition.start();\n            self.sendBeacon('clk', 'voicesearch_panel_retry');\n          }\n        };\n      }\n\n      if (self.speechOverlay) {\n        self.speechOverlay.onclick = function () {\n          self.recognition.stop();\n          self.sendBeacon('clk', 'voicesearch_cancel_outside');\n          self.closePanel(self);\n        };\n      }\n\n      if (self.closeButton) {\n        self.closeButton.onclick = function\n          /*event*/\n        () {\n          self.recognition.stop();\n          self.sendBeacon('clk', 'voicesearch_cancel');\n          self.closePanel(self);\n        };\n      }\n\n      if (self.permissionGuideClose) {\n        self.permissionGuideClose.onclick = function\n          /*event*/\n        () {\n          self.recognition.stop();\n          self.sendBeacon('clk', 'voicesearch_permission_close');\n          self.closeAudio.play();\n          self.hidePermissionGuide(self);\n        };\n      }\n      /* Recognition Events */\n\n\n      self.recognition.onresult = function (event) {\n        // The SpeechRecognitionEvent results property returns a SpeechRecognitionResultList object\n        // The SpeechRecognitionResultList object contains SpeechRecognitionResult objects.\n        // It has a getter so it can be accessed like an array\n        // The first [0] returns the SpeechRecognitionResult at the last position.\n        // Each SpeechRecognitionResult object contains SpeechRecognitionAlternative objects that contain individual results.\n        // These also have getters so they can be accessed like arrays.\n        // The second [0] returns the SpeechRecognitionAlternative at position 0.\n        // We then return the transcript property of the SpeechRecognitionAlternative object\n        // console.log('Confidence: ' + event.results[0][0].confidence);\n        self.speechResult = event.results[0][0].transcript;\n        /* Punctuation Handling: Check last character and strip it if necessary */\n\n        self.handlePunctuation(self);\n\n        if (self.speechText) {\n          self.speechText.innerText = self.speechResult;\n        }\n\n        if (self.searchBoxQuery) {\n          self.searchBoxQuery.value = self.speechResult;\n        }\n\n        self.resultAudio.play();\n        win.setTimeout(function () {\n          if (self.speechPanel) {\n            self.speechPanel.classList.remove(\"s2tb\");\n            self.speechPanel.classList.add(\"s2tb-h\");\n          }\n\n          self.hideRetryLink(self);\n\n          if (self.searchBoxForm) {\n            var inputFr = self.searchBoxForm.querySelector('[name=fr]');\n            var inputFr2 = self.searchBoxForm.querySelector('[name=fr2]');\n\n            if (inputFr && self.config.searchBox && self.config.searchBox.params && self.config.searchBox.params.fr) {\n              inputFr.value = config.searchBox.params.fr;\n              inputFr.disabled = false; // for homepage case\n            }\n\n            if (inputFr2 && self.config.searchBox && self.config.searchBox.params && self.config.searchBox.params.fr2) {\n              inputFr2.value = config.searchBox.params.fr2;\n              inputFr2.disabled = false; // for homepage case\n            }\n\n            self.searchBoxForm.submit();\n          }\n        }, 1000);\n      };\n\n      self.recognition.onspeechstart = function\n        /*event*/\n      () {// Fired when speech starts\n      };\n\n      self.recognition.onspeechend = function () {\n        // Fired when speech ends\n        self.recognition.stop();\n      };\n\n      self.recognition.onerror = function\n        /*event*/\n      () {\n        // console.log('Error occurred in recognition: ' + event.error);\n        if (self.speechText) {\n          self.speechText.innerText = self.i18n.t('search.voice.recognition_error');\n        }\n\n        self.hideTrending(self);\n        self.showRetryLink(self);\n        self.errorAudio.play();\n      };\n\n      self.recognition.onaudiostart = function\n        /*event*/\n      () {\n        // Fired when the user agent has started to capture audio.\n        if (self.speechButtonContainer) {\n          self.speechButtonContainer.classList.add(\"listening\");\n        }\n      };\n\n      self.recognition.onaudioend = function\n        /*event*/\n      () {\n        // Fired when the user agent has finished capturing audio.\n        if (self.speechButtonContainer) {\n          self.speechButtonContainer.classList.remove(\"listening\");\n        }\n      };\n\n      self.recognition.onsoundstart = function\n        /*event*/\n      () {\n        // Fired when any sound — recognisable speech or not — has been detected.\n        self.hideTrending(self);\n        self.noSpeech = false;\n\n        if (self.speechButtonContainer) {\n          self.speechButtonContainer.classList.remove(\"listening\");\n          self.speechButtonContainer.classList.add(\"speaking\");\n        }\n      };\n\n      self.recognition.onsoundend = function\n        /*event*/\n      () {\n        // Fired when no sound present\n        if (self.speechButtonContainer) {\n          self.speechButtonContainer.classList.remove(\"speaking\");\n        }\n      };\n\n      self.recognition.onstart = function\n        /*event*/\n      () {\n        // Fired when the speech recognition service has begun listening\n        self.recognitionInit(self);\n        self.startRecognition(self);\n      };\n\n      self.recognition.onend = function\n        /*event*/\n      () {\n        // Fired when the speech recognition service has disconnected.\n        self.isRecognitionStart = false;\n\n        if (self.noSpeech == false && self.speechResult == '') {\n          // No match: Fired when the speech recognition can't recognise speech\n          if (self.speechText) {\n            self.speechText.innerText = self.i18n.t('search.voice.recognition_nomatch');\n          }\n\n          self.hideTrending(self);\n          self.showRetryLink(self);\n          self.errorAudio.play();\n        }\n      }; // trigger onReady event when initialized\n\n\n      if (document && document.dispatchEvent) {\n        document.dispatchEvent(new Event('VOICE_JS_READY'));\n      }\n    }\n  } // static members\n\n\n  VoiceSearch.I18n = I18n; // instance members\n\n  VoiceSearch.prototype.renderPermissionGuide = function (self) {\n    var tmpl = \"\\n            <div class=\\\"permission-guide hide\\\" id=\\\"spchp\\\">\\n                <div class=\\\"close-button\\\" id=\\\"spchpx\\\"></div>\\n                <div class=\\\"guide\\\">\\n                    <div class=\\\"microphone\\\">\\n                        <div class=\\\"sprite\\\"></div>\\n                    </div>\\n                    <div class=\\\"guide-text\\\">\\n                        <div class=\\\"title\\\">\".concat(self.i18n.t('search.voice.permission_title'), \"</div>\\n                        <div class=\\\"text\\\">\").concat(self.i18n.t('search.voice.permission_text'), \"</div>\\n                    </div>\\n                </div>\\n            </div>\\n        \");\n    var dom = new DOMParser().parseFromString(tmpl, 'text/html');\n    document.body.appendChild(dom.body.children[0]);\n  };\n\n  VoiceSearch.prototype.renderSpeechPanel = function (self) {\n    var tmpl = \"\\n            <div class=\\\"spch s2tb-h\\\" id=\\\"spch\\\">\\n                <div class=\\\"spch-overlay\\\" id=\\\"spch-overlay\\\"></div>\\n                <div class=\\\"close-button\\\" id=\\\"spchx\\\"></div>\\n                <div class=\\\"spchc\\\">\\n                    <div class=\\\"inner-container\\\">\\n                        <div class=\\\"button-container spch-control\\\" id=\\\"spchbc\\\">\\n                            <span class=\\\"button\\\" id=\\\"spchbc-btn\\\">\\n                                <div class=\\\"microphone\\\"></div>\\n                            </span>\\n                            <span class=\\\"ripple\\\"></span>\\n                            <span class=\\\"ripple\\\"></span>\\n                            <span class=\\\"ripple\\\"></span>\\n                        </div>\\n                        <div class=\\\"text-container spch-control\\\">\\n                            <p>\\n                                <span class=\\\"spcht\\\" id=\\\"spcht\\\"></span>\\n                                <span></span>\\n                                <span class=\\\"spcht\\\" id=\\\"spcht-retry\\\">\".concat(self.i18n.t('search.voice.recognition_retry'), \"</span>\\n                            </p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"spcho\\\" id=\\\"spcho\\\">\\n                    <div id=\\\"spch-trending\\\" class=\\\"hide\\\">\\n                        <span class=\\\"trending\\\" id=\\\"trending-label\\\">\").concat(self.i18n.t('search.voice.trending_title'), \"</span>\\n                        <span class=\\\"trending trending-term\\\"></span>\\n                    </div>\\n                </div>\\n            </div>\\n        \");\n    var dom = new DOMParser().parseFromString(tmpl, 'text/html');\n\n    if (self && self.config && self.config.ui && self.config.ui.speechOverlay && self.config.ui.speechOverlay.disableBlur) {\n      dom.body.children[0].classList.add('disable-blur-overlay');\n    }\n\n    document.body.appendChild(dom.body.children[0]);\n  };\n\n  VoiceSearch.prototype.isBrowserSupported = function () {\n    var isSupported = false;\n    var self = this;\n    var isChromium = Boolean(window.chrome);\n    var isIOSChrome = /CriOS/.test(window.navigator.userAgent);\n    var isEdge = /Edg\\//.test(window.navigator.userAgent);\n    var isLegacyEdge = /Edge\\//.test(window.navigator.userAgent);\n    var isOpera = Boolean(window.opr);\n    var isBrave = Boolean(window.navigator.brave);\n    var browsers = [// chrome\n    {\n      checkEnabled: function checkEnabled() {\n        return true;\n      },\n      checkBrowser: function checkBrowser() {\n        return isChromium && !isIOSChrome && !isEdge && !isOpera && !isBrave;\n      },\n      checkAPI: function checkAPI() {\n        return win && ('SpeechRecognition' in win || 'webkitSpeechRecognition' in win) && ('SpeechGrammarList' in win || 'webkitSpeechGrammarList' in win);\n      }\n    }, // edge\n    {\n      checkEnabled: function checkEnabled() {\n        return self && self.config && self.config.browsers && self.config.browsers.edge;\n      },\n      checkBrowser: function checkBrowser() {\n        return isChromium && isEdge && !isLegacyEdge;\n      },\n      checkAPI: function checkAPI() {\n        return win && ('SpeechRecognition' in win || 'webkitSpeechRecognition' in win) && ('SpeechGrammarList' in win || 'webkitSpeechGrammarList' in win);\n      }\n    }];\n\n    for (var b = 0; b < browsers.length; b++) {\n      var browser = browsers[b];\n\n      if (browser && browser.checkBrowser && browser.checkBrowser() && browser.checkEnabled && browser.checkEnabled(self) && browser.checkAPI && browser.checkAPI()) {\n        isSupported = true;\n      }\n    }\n\n    return isSupported;\n  };\n\n  VoiceSearch.prototype.recognitionInit = function (self) {\n    // Initialize flags for checking whether user is speaking or not\n    self.speechResult = '';\n    self.noSpeech = true;\n    self.isRecognitionStart = true;\n  };\n\n  VoiceSearch.prototype.showPermissionGuide = function (self) {\n    if (self.permissionGuide) {\n      self.permissionGuide.classList.remove(\"hide\");\n    }\n  };\n\n  VoiceSearch.prototype.hidePermissionGuide = function (self) {\n    if (self.permissionGuide) {\n      self.permissionGuide.classList.add(\"hide\");\n    }\n  };\n\n  VoiceSearch.prototype.getTrending = function (self) {\n    // Call api for trending terms\n    if (!self.config.enable_voice_trending || !self.trending) {\n      return;\n    }\n\n    var url = \"https://api.search.yahoo.com/data/v3/search?appid=4d234a9d&market=\" + self.config.trending.market + \"&features=trending.voice\";\n    self.ajaxReq(url, function (resBody) {\n      if (!resBody || !resBody.response || !resBody.response.search || !resBody.response.search.results || !resBody.response.search.results[\"trending.voice\"]) {\n        return;\n      }\n\n      var terms = resBody.response.search.results[\"trending.voice\"].data;\n      self.showTrending(self, terms);\n    });\n  };\n\n  VoiceSearch.prototype.showTrending = function (self, terms) {\n    // params check\n    if (!Array.isArray(terms) || terms.length < 3) {\n      return;\n    } // DOM check\n\n\n    if (!self.trending || !self.termSpans || !self.termSpans[0]) {\n      return;\n    }\n\n    var trendingLabel = '';\n    trendingLabel += '\"' + terms[0].text + '\"' + ', ';\n    trendingLabel += '\"' + terms[1].text + '\"' + ' ';\n    trendingLabel += self.i18n.t('search.voice.trending_or') + ' ';\n    trendingLabel += '\"' + terms[2].text + '\"';\n    self.termSpans[0].innerText = trendingLabel;\n    self.trending.classList.remove(\"hide\");\n  };\n\n  VoiceSearch.prototype.hideTrending = function (self) {\n    if (!self.trending) {\n      return;\n    }\n\n    self.trending.classList.add(\"hide\");\n  };\n\n  VoiceSearch.prototype.showRetryLink = function (self) {\n    if (self.retryLink) {\n      self.retryLink.innerText = self.i18n.t('search.voice.recognition_retry');\n      self.retryLink.classList.remove(\"hide\");\n    }\n  };\n\n  VoiceSearch.prototype.hideRetryLink = function (self) {\n    if (self.retryLink) {\n      self.retryLink.classList.add(\"hide\");\n    }\n  };\n\n  VoiceSearch.prototype.startRecognition = function (self) {\n    self.hidePermissionGuide(self);\n    self.getTrending(self);\n    self.startAudio.play();\n\n    if (self.speechText) {\n      self.speechText.innerText = self.i18n.t('search.voice.recognition_start');\n      win.setTimeout(function () {\n        self.speechText.innerText = self.i18n.t('search.voice.recognition_listening');\n      }, 2000);\n    }\n\n    if (self.speechPanel) {\n      self.speechPanel.classList.remove(\"s2tb-h\");\n      self.speechPanel.classList.add(\"s2tb\");\n    }\n\n    self.hideRetryLink(self);\n  };\n\n  VoiceSearch.prototype.closePanel = function (self) {\n    self.closeAudio.play();\n    win.setTimeout(function () {\n      if (self.speechPanel) {\n        self.speechPanel.classList.remove(\"s2tb\");\n        self.speechPanel.classList.add(\"s2tb-h\");\n      }\n\n      self.hideTrending(self);\n      self.hideRetryLink(self); // clean up esc listener\n\n      doc.removeEventListener('keydown', self.onEscKeyDown);\n    }, 100);\n  };\n\n  VoiceSearch.prototype.handlePunctuation = function (self) {\n    if (self.speechResult.length > 0) {\n      var lastChar = self.speechResult.charAt(self.speechResult.length - 1);\n\n      if (lastChar === '.' || lastChar === '?' || lastChar === '。' || lastChar === '？') {\n        self.speechResult = self.speechResult.slice(0, -1);\n      }\n    }\n  };\n\n  VoiceSearch.prototype.sendBeacon = function (actn, slk) {\n    var ULT = win.YAHOO.ULT || {},\n        SB = win.YAHOO.SB || {};\n\n    if (ULT.beacon_click) {\n      var trackParams = {\n        _S: SB.config.i13n.spaceid,\n        _I: SB.config.i13n.pvid,\n        actn: actn,\n        sec: 'search',\n        slk: slk\n      };\n      win.YAHOO.ULT.beacon_click(trackParams);\n    }\n  };\n\n  VoiceSearch.prototype.ajaxReq = function (url, callback) {\n    var DONE_STATE = XMLHttpRequest.DONE || 4; // for IE-compatibility\n\n    var xhr = new XMLHttpRequest();\n    var responseRaw;\n    var response; // CORS request only for IE8/IE9\n\n    if (doc.documentMode && doc.documentMode < 10) {\n      var xdr = new win.XDomainRequest();\n\n      xdr.onload = function () {\n        try {\n          response = JSON.parse(responseRaw);\n          callback(response);\n        } catch (err) {\n          return;\n        }\n      };\n\n      xhr.open('GET', url);\n      xhr.send();\n      return;\n    } // CORS request for browers newer than IE9\n\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState !== DONE_STATE) {\n        return;\n      } // handle ajax response\n\n\n      switch (xhr.status) {\n        case 200:\n          responseRaw = xhr.responseText;\n\n          try {\n            response = JSON.parse(responseRaw);\n            callback(response);\n          } catch (err) {\n            return;\n          }\n\n          break;\n\n        default:\n          // non-200 status code: retry or assume failure\n          callback(response);\n          break;\n      }\n    };\n\n    xhr.open('GET', url, true);\n    /* aync request */\n\n    xhr.timeout = 10000;\n    xhr.send();\n  };\n\n  if (!win.YAHOO) {\n    win.YAHOO = {};\n  }\n\n  if (!win.YAHOO.Util) {\n    win.YAHOO.Util = {};\n  }\n\n  win.YAHOO.Util.VoiceSearch = VoiceSearch;\n})(window, document);\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/index.js?")},"./src/lib/I18n.js":
/*!*************************!*\
  !*** ./src/lib/I18n.js ***!
  \*************************/function(module,__unused_webpack_exports,__webpack_require__){eval("module.exports = function () {\n  var LANG_LIST = __webpack_require__(/*! ./lang_list.json */ \"./src/lib/lang_list.json\");\n\n  var DEFAULT_LANG = 'default';\n\n  var isValidLang = function isValidLang(lang) {\n    return LANG_LIST.indexOf(lang) !== -1;\n  }; // convert language strings to key-value map\n\n\n  var buildStrMap = function buildStrMap(langStrings) {\n    return langStrings.reduce(function (strMap, item) {\n      strMap[item.id] = item.defaultMessage;\n      return strMap;\n    }, {});\n  };\n\n  var I18n = function I18n(options) {\n    // initialize\n    this.lang = isValidLang(options && options.lang) ? options.lang : DEFAULT_LANG;\n  }; // static members\n\n\n  I18n.langMap = {};\n  I18n.langMap[DEFAULT_LANG] = buildStrMap(__webpack_require__(/*! ../lang/strings.json */ \"./src/lang/strings.json\"));\n\n  I18n.setLangMap = function (lang, strings) {\n    if (lang && strings) {\n      I18n.langMap[lang] = buildStrMap(strings);\n    }\n  }; // instance members\n\n\n  I18n.prototype = {\n    t: function t(id) {\n      switch (true) {\n        // look up target language\n        case Boolean(I18n.langMap && I18n.langMap[this.lang] && I18n.langMap[this.lang][id]):\n          return I18n.langMap[this.lang][id];\n        // fallback to default strings\n\n        case Boolean(I18n.langMap && I18n.langMap[DEFAULT_LANG] && I18n.langMap[DEFAULT_LANG][id]):\n          return I18n.langMap[DEFAULT_LANG][id];\n\n        default:\n          return '';\n      }\n    }\n  };\n  return I18n;\n}();\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/lib/I18n.js?")},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./src/index.css":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./src/index.css ***!
  \*******************************************************************************************************/function(module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, "/* Sprites */\\n#spchp.permission-guide .guide .microphone .sprite,\\n#spchp .close-button,\\n#spch .close-button,\\n#spch .spchc .microphone,\\n#spch .spchc .speaking .microphone {\\n    background-image: url(https://s.yimg.com/pv/static/img/voiceSearch1x-1620383531565.min.png);\\n    background-repeat: no-repeat;\\n    background-size: initial;\\n    color: transparent;\\n}\\n/* Retina displays */\\n@media\\n        only screen and (-webkit-min-device-pixel-ratio: 2),\\n        only screen and (min-device-pixel-ratio: 2),\\n        only screen and (min-resolution: 192dpi),\\n        only screen and (min-resolution: 2dppx) {\\n#spchp.permission-guide .guide .microphone .sprite,\\n#spchp .close-button,\\n#spch .close-button,\\n#spch .spchc .microphone,\\n#spch .spchc .speaking .microphone {\\n        background-size: 41px 330px;\\n        background-image: url(https://s.yimg.com/pv/static/img/voiceSearch2x-1620383531565.min.png)\\n}\\n    }\\n\\n/* permission guide */\\n#spchp.permission-guide {\\n    height: 100%;\\n    width: 100%;\\n    padding: 0;\\n    opacity: 0.9;\\n    background-color: #fff;\\n    left: 0;\\n    overflow: hidden;\\n    position: fixed;\\n    text-align: left;\\n    top: 0;\\n    z-index: 10000;\\n    transition: visibility 0s linear 0.218s, background-color 0.218s;\\n}\\n#spchp.permission-guide .close-button {\\n        background-position: 0 0;\\n        width: 24px;\\n        height: 24px;\\n        border: none;\\n        cursor: pointer;\\n        right: 0;\\n        margin: 20px;\\n        padding: 0;\\n        position: absolute;\\n        top: 0;\\n        z-index: 10;\\n        opacity: 0.8;\\n    }\\n#spchp.permission-guide .close-button:hover {\\n            opacity: 1;\\n        }\\n#spchp.permission-guide .guide {\\n        margin: 191px 0 0 507px;\\n    }\\n#spchp.permission-guide .guide .microphone {\\n            height: 68px;\\n            width: 52px;\\n            border-right: 1px solid #232a31;\\n            float: left;\\n        }\\n#spchp.permission-guide .guide .microphone .sprite {\\n                background-position: 0 -105px;\\n                width: 28px;\\n                height: 28px;\\n            }\\n#spchp.permission-guide .guide .guide-text {\\n            height: 68px;\\n            margin-left: 24px;\\n            float: left;\\n        }\\n#spchp.permission-guide .guide .guide-text .title {\\n                color: #232a31;\\n                font-size: 32px;\\n                font-family: HelveticaNeue-Bold;\\n                line-height: 28px;\\n                margin-bottom: 16px;\\n            }\\n#spchp.permission-guide .guide .guide-text .text {\\n                color: #232a31;\\n                font-size: 16px;\\n                line-height: 28px;\\n            }\\n#spchp.permission-guide.hide {\\n        display: none;\\n    }\\n\\n/* speech panel */\\n#spch.spch {\\n    background: #fff;\\n    height: 100%;\\n    left: 0;\\n    opacity: 0;\\n    overflow: hidden;\\n    position: fixed;\\n    text-align: left;\\n    top: 0;\\n    visibility: hidden;\\n    width: 100%;\\n    z-index: 10000;\\n    transition: visibility 0s linear 0.218s, background-color 0.218s;\\n}\\n#spch.spch .close-button {\\n        background-position: 0 0;\\n        width: 24px;\\n        height: 24px;\\n        border: none;\\n        cursor: pointer;\\n        right: 0;\\n        margin: 20px;\\n        padding: 0;\\n        position: absolute;\\n        top: 0;\\n        z-index: 10;\\n        opacity: 0.8;\\n    }\\n#spch.spch .close-button:hover {\\n            opacity: 1;\\n        }\\n#spch.spch .spchc {\\n        display: block;\\n        height: 97px;\\n        pointer-events: none;\\n    }\\n#spch.spch .spchc .inner-container {\\n            width: 100%;\\n            height: 100%;\\n            opacity: 0.1;\\n            pointer-events: none;\\n            transition: opacity 0.318s ease-in;\\n        }\\n#spch.spch .spchc .inner-container .spch-control {\\n                display: inline-block;\\n            }\\n#spch.spch .spchc .inner-container .text-container {\\n                float: left;\\n                height: 91px;\\n                overflow: hidden;\\n                margin: 3px 0;\\n                pointer-events: none;\\n                width: calc(50% - 48.5px);\\n            }\\n#spch.spch .spchc .inner-container .text-container p {\\n                    display: table-cell;\\n                    vertical-align: middle;\\n                    width: 550px;\\n                    height: 97px;\\n                }\\n#spch.spch .spchc .inner-container .text-container .spcht {\\n                    font-weight: normal;\\n                    color: #6e7780;\\n                    line-height: normal;\\n                    opacity: 0;\\n                    pointer-events: none;\\n                    text-align: left;\\n                    -webkit-font-smoothing: antialiased;\\n                    transition: opacity 0.1s ease-in, margin-left 0.5s ease-in, top 0s linear 0.218s;\\n                }\\n#spch.spch .spchc .inner-container .text-container .spcht.hide {\\n                        display: none;\\n                    }\\n#spch.spch .spchc .inner-container .text-container #spcht-retry {\\n                    color: #0f69ff;\\n                    cursor: pointer;\\n                    pointer-events: auto;\\n                }\\n#spch.spch .spchc .inner-container .button-container {\\n                pointer-events: none;\\n                position: relative;\\n                transition: transform 0.218s, opacity 0.218s ease-in;\\n            }\\n#spch.spch .spchc .inner-container .button-container .button {\\n                    background-color: #fff;\\n                    border: 1px solid #eee;\\n                    border-radius: 100%;\\n                    bottom: 0;\\n                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n                    cursor: pointer;\\n                    display: inline-block;\\n                    left: 0;\\n                    opacity: 0;\\n                    pointer-events: none;\\n                    position: absolute;\\n                    right: 0;\\n                    top: 0;\\n                    transition: background-color 0.218s, border 0.218s, box-shadow 0.218s;\\n                }\\n#spch.spch .spchc .inner-container .button-container .button .microphone {\\n                        background-position: 0 -24px;\\n                        width: 41px;\\n                        height: 41px;\\n                        left: 27px;\\n                        pointer-events: none;\\n                        position: absolute;\\n                        top: 27px;\\n                        transform: scale(1);\\n                    }\\n#spch.spch .spchc .inner-container .button-container.listening .ripple {\\n                        position: absolute;\\n                        width: 136px;\\n                        height: 136px;\\n                        z-index: -1;\\n                        left: 50%;\\n                        top: 50%;\\n                        opacity: 0;\\n                        margin: -70px 0 0 -70px;\\n                        border-radius: 100px;\\n                        -webkit-animation: ripple 3.3s infinite;\\n                                animation: ripple 3.3s infinite;\\n                        background-color: #fff !important;\\n                        border: 2px solid #e0e4e9;\\n                    }\\n#spch.spch .spchc .inner-container .button-container.listening .ripple:nth-child(2) {\\n                            -webkit-animation-delay: 1.1s;\\n                                    animation-delay: 1.1s;\\n                        }\\n#spch.spch .spchc .inner-container .button-container.listening .ripple:nth-child(3) {\\n                            -webkit-animation-delay: 2.2s;\\n                                    animation-delay: 2.2s;\\n                        }\\n#spch.spch .spchc .inner-container .button-container.speaking .button {\\n                        background-color: #0f69ff;\\n                    }\\n#spch.spch .spchc .inner-container .button-container.speaking .button .microphone {\\n                            background-position: 0 -65px;\\n                            width: 40px;\\n                            height: 40px;\\n                            pointer-events: none;\\n                            position: absolute;\\n                            transform: scale(1);\\n                        }\\n#spch.spch .spchc .inner-container .button-container.speaking .ripple {\\n                        background-size: 114px;\\n                        position: absolute;\\n                        width: 114px;\\n                        height: 114px;\\n                        z-index: -1;\\n                        left: 50%;\\n                        top: 50%;\\n                        margin: -57px 0 0 -57px;\\n                        -webkit-animation: speakingRipple1 2s infinite;\\n                                animation: speakingRipple1 2s infinite;\\n                    }\\n#spch.spch .spchc .inner-container .button-container.speaking .ripple:nth-child(2) {\\n                            background-size: 123px;\\n                            width: 123px;\\n                            height: 123px;\\n                            margin: -62px 0 0 -62px;\\n                            -webkit-animation: speakingRipple2 2s infinite;\\n                                    animation: speakingRipple2 2s infinite;\\n                        }\\n#spch.spch .spchc .inner-container .button-container.speaking .ripple:nth-child(3) {\\n                            background-size: 136px;\\n                            width: 136px;\\n                            height: 136px;\\n                            margin: -68px 0 0 -68px;\\n                            -webkit-animation: speakingRipple3 2s infinite;\\n                                    animation: speakingRipple3 2s infinite;\\n                        }\\n#spch.spch .spcho {\\n        background-image: linear-gradient(to bottom, rgb(255, 255, 255) 50%, rgba(255, 255, 255, 0) 99%);\\n        display: block;\\n        min-width: 100%;\\n        text-align: center;\\n        top: 145px;\\n        padding-bottom: 71px;\\n        pointer-events: auto;\\n    }\\n#spch.spch .spcho #spch-trending {\\n            -webkit-animation: fadeIn 1s forwards;\\n                    animation: fadeIn 1s forwards;\\n            opacity: 0;\\n        }\\n#spch.spch .spcho #spch-trending .trending {\\n                color: #6e7780;\\n                display: inline-block;\\n                font-size: 16px;\\n            }\\n#spch.spch .spcho #spch-trending #trending-label {\\n                font-weight: bold;\\n                margin: 5px 5px;\\n            }\\n#spch.spch .spcho #spch-trending.hide {\\n                display: none;\\n            }\\n#spch.spch.s2tb .spchc, #spch.spch.s2tb-h .spchc {\\n            background: #fff;\\n            box-sizing: border-box;\\n            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\\n            height: auto;\\n            margin: 0;\\n            min-width: 100%;\\n            overflow: hidden;\\n            padding: 24px 115px;\\n        }\\n#spch.spch.s2tb .spchc .inner-container, #spch.spch.s2tb-h .spchc .inner-container {\\n                opacity: 1;\\n                transition: opacity 0.318s ease-in;\\n            }\\n#spch.spch.s2tb .spchc .inner-container .text-container, #spch.spch.s2tb-h .spchc .inner-container .text-container {\\n                    position: relative;\\n                }\\n#spch.spch.s2tb {\\n        background: rgba(255, 255, 255, 0);\\n        opacity: 1;\\n        visibility: visible;\\n        transition-delay: 0s;\\n    }\\n#spch.spch.s2tb .spchc .inner-container .button-container {\\n                    transform: scale(1);\\n                    height: 97px;\\n                    right: 0;\\n                    top: 0;\\n                    width: 97px;\\n                }\\n#spch.spch.s2tb .spchc .inner-container .button-container .button {\\n                        opacity: 1;\\n                        pointer-events: auto;\\n                        position: absolute;\\n                        transform: scale(1);\\n                        transition-delay: 0;\\n                    }\\n#spch.spch.s2tb .spchc .inner-container .text-container .spcht {\\n                        font-size: 24px;\\n                        margin-left: 0;\\n                        opacity: 1;\\n                        transition: opacity 0.5s ease-out, margin-left 0.5s ease-out;\\n                    }\\n#spch.spch.s2tb #spch-overlay {\\n            -webkit-backdrop-filter: blur(10px);\\n                    backdrop-filter: blur(10px);\\n            background-color: #fff;\\n            height: 100%;\\n            opacity: 0.9;\\n            position: absolute;\\n            top: 149px;\\n\\n            /* spchc\'s height */\\n            width: 100%;\\n        }\\n#spch.spch.disable-blur-overlay #spch-overlay {\\n            background-color: transparent;\\n            -webkit-backdrop-filter: none;\\n            backdrop-filter: none;\\n        }\\n#spch.spch.disable-blur-overlay .spcho {\\n            height: 27px;\\n            padding-bottom: 20px;\\n            background: #fff;\\n            background-image: none;\\n            box-shadow: 0 8px 6px -6px rgb(0 0 0 / 20%);\\n        }\\n#spch.spch.s2tb-h {\\n        background: rgba(255, 255, 255, 0);\\n        opacity: 0;\\n        visibility: hidden;\\n    }\\n\\n@-webkit-keyframes fadeIn {\\n    0% {\\n        opacity: 0;\\n    }\\n\\n    100% {\\n        opacity: 1;\\n    }\\n}\\n\\n@keyframes fadeIn {\\n    0% {\\n        opacity: 0;\\n    }\\n\\n    100% {\\n        opacity: 1;\\n    }\\n}\\n\\n@-webkit-keyframes ripple {\\n    0% {\\n        opacity: 1;\\n        transform: scale(0.7);\\n    }\\n\\n    100% {\\n        opacity: 0;\\n        transform: scale(1);\\n    }\\n}\\n\\n@keyframes ripple {\\n    0% {\\n        opacity: 1;\\n        transform: scale(0.7);\\n    }\\n\\n    100% {\\n        opacity: 0;\\n        transform: scale(1);\\n    }\\n}\\n\\n@-webkit-keyframes speakingRipple1 {\\n    0%,\\n    100% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-1-202105260611.png\\");\\n    }\\n\\n    25%,\\n    75% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-2-202105260611.png\\");\\n        transform: scale(1.1);\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n\\n@keyframes speakingRipple1 {\\n    0%,\\n    100% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-1-202105260611.png\\");\\n    }\\n\\n    25%,\\n    75% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-2-202105260611.png\\");\\n        transform: scale(1.1);\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple1-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n\\n@-webkit-keyframes speakingRipple2 {\\n    0%,\\n    100% {\\n        background-image: none;\\n    }\\n\\n    25%,\\n    75% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple2-2-202105260611.png\\");\\n        transform: scale(1.1);\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple2-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n\\n@keyframes speakingRipple2 {\\n    0%,\\n    100% {\\n        background-image: none;\\n    }\\n\\n    25%,\\n    75% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple2-2-202105260611.png\\");\\n        transform: scale(1.1);\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple2-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n\\n@-webkit-keyframes speakingRipple3 {\\n    0%,\\n    25%,\\n    75%,\\n    100% {\\n        background-image: none;\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple3-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n\\n@keyframes speakingRipple3 {\\n    0%,\\n    25%,\\n    75%,\\n    100% {\\n        background-image: none;\\n    }\\n\\n    50% {\\n        background-image: url(\\"https://s.yimg.com/pv/static/img/ripple3-3-202105260611.png\\");\\n        transform: scale(0.9);\\n    }\\n}\\n", ""]);\n// Exports\n/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/index.css?./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js')},"./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/function(module){eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n\n      return content;\n    }).join("");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === "string") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, ""]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n//# sourceURL=webpack://@vzmi/voicejs/./node_modules/css-loader/dist/runtime/api.js?')},"./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/function(module,__unused_webpack_exports,__webpack_require__){eval('var api = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");\n            var content = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./src/index.css");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === \'string\') {\n              content = [[module.id, content, \'\']];\n            }\n\nvar options = {};\n\noptions.insert = "head";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/index.css?')},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/function(module,__unused_webpack_exports,__webpack_require__){eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : 0;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://@vzmi/voicejs/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?")},"./src/lang/strings.json":
/*!*******************************!*\
  !*** ./src/lang/strings.json ***!
  \*******************************/function(module){eval('module.exports = JSON.parse(\'[{"id":"search.voice.hover_clear_text","description":"","defaultMessage":"Clear"},{"id":"search.voice.hover_search_text","description":"","defaultMessage":"Search the web"},{"id":"search.voice.hover_voice_text","description":"","defaultMessage":"Search by voice"},{"id":"search.voice.permission_text","description":"","defaultMessage":"Allow microphone access to enable voice search"},{"id":"search.voice.permission_title","description":"","defaultMessage":"Waiting for permission"},{"id":"search.voice.recognition_error","description":"","defaultMessage":"Please check your microphone and audio levels."},{"id":"search.voice.recognition_listening","description":"","defaultMessage":"Listening..."},{"id":"search.voice.recognition_nomatch","description":"","defaultMessage":"Didn\\\'t get that."},{"id":"search.voice.recognition_retry","description":"","defaultMessage":"Try again."},{"id":"search.voice.recognition_start","description":"","defaultMessage":"What would you like to search for?"},{"id":"search.voice.trending_title","description":"","defaultMessage":"Try saying"},{"id":"search.voice.trending_or","description":"","defaultMessage":"or"}]\');\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/lang/strings.json?')},"./src/lib/lang_list.json":
/*!********************************!*\
  !*** ./src/lib/lang_list.json ***!
  \********************************/function(module){eval('module.exports = JSON.parse(\'["ar-JO","da-DK","de-AT","de-CH","de-DE","el-GR","en-AU","en-CA","en-GB","en-IN","en-MY","en-NZ","en-PH","en-SG","es-AR","es-CL","es-CO","es-ES","es-MX","es-US","fi-FI","fr-CA","fr-CH","fr-FR","id-ID","it-CH","it-IT","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","ro-RO","ru-RU","sv-SE","th-TH","tr-TR","vi-VN","zh-Hant-HK","zh-Hant-TW"]\');\n\n//# sourceURL=webpack://@vzmi/voicejs/./src/lib/lang_list.json?')}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=function(e,n){for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.css"),__webpack_require__("./src/index.js")})()}));var VOICE_BUTTON_ID="#ybar-sbq-voice",SEARCH_BOX_FORM_ID="#ybar-sf",SEARCH_BOX_INPUT_ID="#ybar-sbq",BASE_TOOLTIP_OPTIONS={containerClass:Css$7.tooltip,textClass:Css$7.tooltip__text,showClass:Css$7["tooltip--show"]},DEFAULT_FR="yfp-t-voice",DEFAULT_FR2="p:fp,m:voice-search",BLUR_DISABLED_REGIONS=["zh-hant-tw","zh-hant-hk"],initVoiceSearch=function(e,n){var t=e.getConfig(),i=t.locale,o=function(){var e,t;(null===(t=null===(e=window.YAHOO)||void 0===e?void 0:e.Util)||void 0===t?void 0:t.VoiceSearch)?new window.YAHOO.Util.VoiceSearch({uiLang:i,speechLang:i,voiceButton:VOICE_BUTTON_ID,searchBox:{form:SEARCH_BOX_FORM_ID,input:SEARCH_BOX_INPUT_ID,params:{fr:n.voiceSearchBtn.dataset.fr||DEFAULT_FR,fr2:n.voiceSearchBtn.dataset.fr2||DEFAULT_FR2}},ui:{speechOverlay:{disableBlur:BLUR_DISABLED_REGIONS.includes(i.toLowerCase())}},browsers:{edge:!0},enable_voice_trending:!0,trending:{market:i}}):console.log("YBAR: VoiceJS lib was not loaded")};e.addElementListener(document,"VOICE_JS_READY",(function(){var i,o,s,r;n.voiceSearchBtn.style.visibility="visible",new Tooltip(e,n.voiceSearchBtn,__assign(__assign({},BASE_TOOLTIP_OPTIONS),{label:null!==(i=t.i18n.root.SEARCH_TOOLTIP_VOICE)&&void 0!==i?i:"Search with voice",containerClass:"".concat(Css$7.tooltip," ").concat(Css$7.tooltip__voice),tooltipParentElm:null===(o=n.voiceSearchBtn)||void 0===o?void 0:o.parentElement})),new Tooltip(e,n.submitSearchBtn,__assign(__assign({},BASE_TOOLTIP_OPTIONS),{label:null!==(s=t.i18n.root.SEARCH_TOOLTIP_WEB)&&void 0!==s?s:"Search the web",containerClass:"".concat(Css$7.tooltip," ").concat(Css$7.tooltip__web),tooltipParentElm:null===(r=n.voiceSearchBtn)||void 0===r?void 0:r.parentElement}))})),"loading"===document.readyState?e.addElementListener(document,"DOMContentLoaded",o):o()},initOverlay=function(e,n){var t,i,o,s=e.getConfig();if(n.ybar&&"desktop"===s.device&&(null===(t=s.bucketConfig)||void 0===t?void 0:t.highlight_searchassist)&&(null===(i=s.bucketConfig)||void 0===i?void 0:i.overlay_class)){n.ybar.setAttribute("data-ovrly-bkt",s.bucketConfig.overlay_class),null===(o=n.searchForm)||void 0===o||o.classList.add(Css$7[s.bucketConfig.overlay_class]);var r=document.createElement("div");r.classList.add(Css$7.overlay,Css$7[s.bucketConfig.overlay_class]),document.body.appendChild(r)}};initModule("ybar-mod-searchbox",(function(e){var n={ybar:document.getElementById("ybar"),searchInput:document.getElementById("ybar-sbq"),voiceSearchBtn:document.getElementById("ybar-sbq-voice"),searchForm:document.getElementById("ybar-sf"),searchBoxPlaceholder:document.getElementById("ybar-smartphone-searchbox-placeholder"),searchBoxBackButton:document.getElementById("ybar-search-back-btn"),shopsButtonsWrap:document.querySelector(".".concat(Css$7["shops-buttons"])),categorySelect:document.getElementById("shops-category-select"),selectedMerchantInput:document.getElementById("selected-merchant-input"),selectedMerchantClearButton:document.querySelector(".".concat(Css$7["selected-merchant-clear-button"])),submitSearchBtn:document.getElementById("ybar-search")};initOverlay(e,n),initMweb(e,n),n.voiceSearchBtn&&initVoiceSearch(e,__assign(__assign({},n),{voiceSearchBtn:n.voiceSearchBtn}))})),function(){var e,n,t,i,o,s,r=window,a=document,c=(r=(function(e,n){var t,i="load",o=!1,s="Microsoft Internet Explorer"===e.navigator.appName&&(t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e.navigator.userAgent))&&t[1]&&parseFloat(t[1]);function r(e,n){var t=[];return a(n,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),0<t.length?e+(-1===e.indexOf("?")?"?":"&")+t.join("&"):e}function a(e,n){for(var t in e)c(e,t)&&n(t,e[t])}function c(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function l(e){return"function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")}function d(e){var n;s&&s<9&&void 0!==e.createTextRange?((n=e.createTextRange()).collapse(!1),n.select()):"number"==typeof e.selectionStart&&(e.selectionStart=e.selectionEnd=e.value.length)}function u(e){"focus"in e&&e.focus()}function p(e,n,t,i){if(i=i||!1,e.addEventListener)e.addEventListener(n,t,i);else{if(!e.attachEvent)return!1;e.attachEvent("on"+n,t)}}function f(e,n,t,i){if(i=i||!1,e.removeEventListener)e.removeEventListener(n,t,i);else{if(!e.detachEvent)return!1;e.detachEvent("on"+n,t)}return!0}function m(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function h(e,n){var t,i=!0;return 0<n.indexOf(" ")?n.split(" ").forEach((function(n){i=i&&h(e,n)})):(t=function(e){e&&i&&(i=e.classList?n&&e.classList.contains(n):!!e.className&&new RegExp("(?:^|\\s+)"+m(n)+"(?:\\s+|$)").test(e.className))},e&&e.forEach?e.forEach(t):t(e)),i}function g(){var n=e.performance||{},t=n.getEntriesByType;return!!o||(n&&n.timing?0<n.timing.loadEventEnd:!t||0<(n=t("navigation")).length&&0<n[0].loadEventEnd)}function y(){this.config={}}e.YAHOO=e.YAHOO||{},y.prototype={set:function(e,n,t){e.setAttribute(n,t)},get:function(e,n){return e.getAttribute(n)},ieVer:s,merge:function e(n,t,i){if(void 0!==n)for(var o in void 0===i&&(i=!0),t)"object"==typeof t[o]&&"object"==typeof n[o]?e(n[o],t[o],i):!i&&c(n,o)||(n[o]=t[o])},extend:function(e,n){function t(){}e.prototype=Object.create?Object.create(n.prototype):(n=n.prototype,t.prototype=n,new t),e.prototype.constructor=e},clone:function e(n){var t,i={};for(t in n)c(n,t)&&(null!=n[t]&&Array.isArray(n[t])?(i[t]=[],n[t].forEach((function(n){"object"==typeof n?i[t].push(e(n)):i[t].push(n)}))):null!=n[t]&&"object"==typeof n[t]?i[t]=e(n[t]):i[t]=n[t]);return i},buildUrl:r,stopPropagation:function(e){e.returnValue=!1,e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation()},setFocus:function(e){d(e),u(e)},cursorEnd:d,select:function(e,n,t){var i;s&&s<9&&void 0!==e.createTextRange?((i=e.createTextRange()).moveStart("character",n),i.moveEnd("character",t),i.select()):(e.selectionStart=n,e.selectionEnd=t,u(e))},hasClass:h,removeClass:function e(n,t){var i;0<t.indexOf(" ")?t.split(" ").forEach((function(t){e(n,t)})):(i=function(e){var n;e&&e.classList?t&&e.classList.remove(t):e&&e.className&&(n=new RegExp("(?:^|\\s+)"+m(t)+"(?:\\s+|$)"),e.className=l(e.className.replace(n," ")))},n&&n.forEach?n.forEach(i):i(n))},addClass:function e(n,t){var i;0<t.indexOf(" ")?t.split(" ").forEach((function(t){e(n,t)})):(i=function(e){e&&e.classList?t&&e.classList.add(t):e&&!h(e,t)&&(e.className=[e.className,t].join(" "))},n&&n.forEach?n.forEach(i):i(n))},cleanHTML:function(e,t){var i;"string"==typeof e?(i=e,i=(new DOMParser).parseFromString(i,"text/html").body||n.createElement("body")):(i=n.createElement("span")).appendChild(e);var o,s,r=i.querySelectorAll("script");if(r)for(s=0;s<r.length;s++)(o=r.item(s)).parentNode.removeChild(o);return function e(n){for(var t,i=n.children,o=0;o<i.length;o++){r=a=s=d=c=void 0;for(var s,r,a,c=t=i.item(o),l=c.attributes,d=0;d<l.length;d++)(s=l[d]).specified&&(r=s.name,a=(a=s.value).replace(/\s+/g,"").toLowerCase(),-1<["src","href","xlink:href"].indexOf(r)&&(-1<a.indexOf("javascript:")||-1<a.indexOf("data:"))||0==r.indexOf("on"))&&c.removeAttribute(s.name);e(t)}}(i),t?i.childNodes:i.innerHTML},trim:l,htmlEncode:function(e){return e.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))},afterOnload:function(n){if(g())return n();var t=function(n,t){o=!0,f(e,i,t),n()}.bind(e,n,t);p(e,i,t)},getWinLoaded:g,getDOMContentLoaded:function(){return"interactive"===n.readyState||"complete"===n.readyState||"loaded"===n.readyState},ae:p,de:f,ts:function(){return Math.round((new Date).getTime()/1e3)},bold:function(e,n,t,i){if(i=i||{},n.toLowerCase()==t.toLowerCase())return e.replace(/\{s\}/g,n);var o;if(!(t=t.split(/[\s|,]+/).filter((function(e){return""!==e}))).length)return n;i.ignorePunctuation&&(o=/[~`!@#$%^&*()_\-+={[}\]|\\:;"'<,>.?/]/g,t=t.concat(t.filter((function(e){return o.test(e)})).map((function(e){return e.replace(o,"")}))));var s;i="(&[^;\\s]*)?(%needles)".replace("%needles",t.sort((function(e,n){return n.length-e.length})).map(m).join("|"));return n.replace(new RegExp(i,"gi"),(s=e,function(e,n,t){return n&&!/\s/.test(t)?e:s.replace(/\{s\}/g,t)}))},fireEvent:function(t,i,o){var s;"function"==typeof e.CustomEvent?(s=new e.CustomEvent(i,{detail:o}),t.dispatchEvent(s)):"function"==typeof n.createEvent?((s=n.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,o),t.dispatchEvent(s)):"function"==typeof n.attachEvent&&(document.documentElement[i]=o)},getScrollingEle:function(){return document.scrollingElement||document.documentElement},sendViewBeacon:function(n,t){var i;e.YAHOO.SB.config.i13n&&(i=e.YAHOO.SB.config.i13n,t=t?"b":"p",n.s||(n._S?n.s=n._S:i.spaceid&&(n.s=i.spaceid)),delete n._S,!n.mtestid&&i.mtestid&&(n.mtestid=i.mtestid),n.t=n.t||+(new Date).getTime(),(new Image).src=r("https://"+e.YAHOO.SB.config.beacon_host+"/"+t,n))},properties:a,has:c,debug:function(n){this.config.debug&&e.console&&e.console.log&&e.console.log(n)}},e.YAHOO.NBClass=e.YAHOO.SBClass=y,e.YAHOO.NB=e.YAHOO.SB=new y}(r,a),Array.prototype.forEach||(Array.prototype.forEach=function(e,n){var t,i;if(null==this)throw new TypeError(" this is null or not defined");var o,s=Object(this),r=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=n),i=0;i<r;)i in s&&(o=s[i],e.call(t,o,i,s)),i++}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i,o=[],s=2<=arguments.length?arguments[1]:void 0,r=0;r<t;r++)r in n&&(i=n[r],e.call(s,i,r,n)&&o.push(i));return o}),Array.prototype.map||(Array.prototype.map=function(e,n){var t,i,o;if(null==this)throw new TypeError(" this is null or not defined");var s,r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=n),i=new Array(a),o=0;o<a;)o in r&&(s=r[o],s=e.call(t,s,o,r),i[o]=s),o++;return i}),String.prototype.includes||(String.prototype.includes=function(e,n){return!((n="number"!=typeof n?0:n)+e.length>this.length)&&-1!==this.indexOf(e,n)}),window),a=document,r.YAHOO),l=c.NB,d={},u="before_get_assist",p="before_display_data",f="before_init_view",m="after_init_view",h="before_parse_data",g="before_update_assist",y="after_update_list",v="after_create_item",b="before_show_sa",_="after_reset_view",w="after_hide_view",C="after_init_controller",E="click_assist",S="before_query_assist",L="before_key_submit",T="before_button_submit",x="before_submit_query",k="before_sb_focus",I="after_sb_focus",A="before_sb_blur",M="after_sb_blur",R="before_beacon",N="after_set_ylc",O="after_reset_controller",B="after_item_highlight",P="after_item_reset_highlight";function D(e,n){n=(e=e||{}).tag||n||"div";var t,i=a.createElement(n);for(t in e.css&&(i.className=e.css),e.text&&(i.textContent=e.text),e.attrs)l.set(i,t,e.attrs[t]);for(t in e.style)i.style[t]=e.style[t];return e.wrap?((n=D(e.wrap)).appendChild(i),n):(n=l.cleanHTML(i,!0))?n[0]:null}function q(e){this.config=e||{},this.listeners={},this.cb={}}function j(){}function U(){}function $(){}function F(){var e=this.app.view.elems,n=e.sbClear;n&&(0<e.sbInput.value.length?l.removeClass(n,"sa-hidden"):l.addClass(n,"sa-hidden"))}function H(){}function V(){var e=this,n=e.app.view.elems.sbForm,t=n.fr,i=e.config.def||"";t=t||n.appendChild(e.createElem({attrs:{type:"hidden",name:"fr",value:i}},"input"));e.origFr=t.value,e.fr=t}function Y(){var e=this.fr,n=this.config,t=this.app.view.assistItem.data;e.value=n.fr||"",""==t.q&&9==t.m&&n.tnFr&&(e.value=n.tnFr)}function G(){this.fr.value=this.origFr}function z(){}function W(){this.isTriggerByInput=!this.app.view.sameQuery()}function J(e){var n,t,i=this.app.view.elems.sbInput;this.isTriggerByInput&&("number"==typeof i.selectionStart?n=i.selectionStart:a.selection&&(i.focus(),(t=a.selection.createRange()).moveStart("character",-a.activeElement.value.length),n=t.text.length),null!==n&&n!==i.value.length&&(e.ipos=n),this.isTriggerByInput=!1)}function K(){}function Q(){var e=this.config,n=(t=this.createElem)(e.ctn,"div"),t=n.appendChild(t(e.tray,"div")),i=a.getElementById(e.parent)||a.body,o=a.getElementById(e.beforeNode);e=a.getElementById(e.afterNode);(e=o||e)?(i=e.parentNode,o||(e=e.nextSibling),i.insertBefore(n,e)):i.appendChild(n),this.app.view.elems.saTray=t}function X(){this.config={ctn:{css:"sa-tray-ctn"},tray:{css:"sa-tray"}}}function Z(e,n){var t=this.config;n=n.m;e.li.className+=" "+(t[n]||t["m"+n]||t.flvr)}function ee(){this.config={m13:"history",flvr:"prog-sugg"}}function ne(e){var n=this.config,t=this.createElem;e.edit=e.li.appendChild(this.createElem(n.ctn,"span")),n.icon&&e.edit.appendChild(t(n.icon,"span")),n.text&&e.edit.appendChild(t(n.text,"span")),l.set(e.edit,"pos",e.idx)}function te(){this.config={ctn:{css:"sa-edit"},icon:{css:"sa-edit-icon"},text:{css:"sa-edit-text"}}}function ie(e,n){var t,i,o,s,r,a=this.config,c=n.d,l=n.fd;n=n.m;l&&(t=e.li,r=this.createElem,i=l.title,o=l.subtitle,c&&c.subdn,i&&(c=r(a.title,"p"),a.concatSubTitle&&o&&(i+=" &middot; "+o,o=""),c.innerHTML=i,t.className+=" quick-facts",t.appendChild(c)),o&&(c=r(a.subtitle,"p"),a.enableFlag&&l.flag?((o=l.sports?l.sports:o)&&(o+=" &middot; "),c.innerHTML=o+="Olympian",(s=r({css:"sa-annot-flag"},"img")).onerror=function(e){s.style.display="none"},s.src=l.flag,c.appendChild(s)):c.innerHTML=o,t.appendChild(c)),l=(r=a.markers)&&r["m"+n],0==e.idx&&l&&l.type&&(t.className+=" billboard "+l.type),a.richClass&&(i||o)&&(t.className+=" "+a.richClass))}function oe(){this.config={title:{css:"sa-annot-title"},subtitle:{css:"sa-annot-subtitle"},markers:{m41:{type:"weather"},m46:{type:"finance"},m48:{type:"sports"}}}}function se(e,n){var t,i=e.li,o=this.config,s=this.createElem,r=o.ctn,a=s(o.placeholder,"span"),c=(n=n.fd&&n.fd.imageUrl,i);r&&(c=s(r)),n&&((t=s(o.thumbnail,"img")).src=n,t.className+=" sa-hidden",t.onload=function(e){l.removeClass(t,"sa-hidden"),o.showIconOnImgLoad||(a.className+=" sa-hidden")},e.img=c.appendChild(t),o.richClass&&(i.className+=" "+o.richClass)),c.appendChild(a),c!==i&&i.appendChild(c)}function re(){this.config={thumbnail:{css:"sa-img-left"},placeholder:{css:"sa-img-icon"}}}function ae(e,n){var t=n.m,i=this.idxs;""!==n.q||t in i||(i[t]=e.idx)}function ce(e){var n,t=this,i=t.config,o=t.idxs,s=i.grps,r=t.createElem;for(n in o){var a,c=s["m"+n],l=(d=s[n])&&d.text||c&&c.text,d=d&&d.css||c&&c.css;l&&((c=r(i.hdr,"div")).appendChild(r(i.icon,"span")),a=c.appendChild(r(i.title,"span")),c.className+=d?" "+d:"",a.textContent=l,e.insertBefore(c,t.app.view.items[o[n]].li))}t.idxs={}}function le(){this.config={hdr:{css:"sa-grp-hdr"},icon:{css:"sa-grp-hdr-icon"},title:{css:"sa-grp-hdr-title"},grps:{m13:{text:"Recent Searches",css:"history"},m9:{text:"Trending Now",css:"trending"}}}}function de(){this.selectedIndex=-1}function ue(){function e(){var e=t.selectedIndex;0<=e&&s[e]&&(l.removeClass(s[e].li,i.css),t.app.notify(P))}function n(e){l.addClass(e,i.css),t.app.notify(B)}var t=this,i=t.config,o=t.app.view,s=o.items,r=(d=o.elems).sbInput,c=d.saTray,d=l.ieVer,u=!1;l.ae(c,"mouseover",(function(i){for(var s=i.target||i.srcElement;s&&s!=c;){var r=l.get(s,"pos"),a=r?o.items[r]:{};if(a&&s===a.li){e(),t.selectedIndex=r,n(s);break}s=s.parentNode}})),l.ae(c,"mouseout",(function(n){e()})),l.ae(r,"keydown",(function(a){var c=a.keyCode,d=t.selectedIndex;switch(c){case 38:case 40:if(!s.length)return;e();for(var p,f=s.length;40==c?d<0||f-1<=d?d=0:d++:d<=0?d=f-1:d--,!(p=s[d]).li.parentNode;);t.selectedIndex=d,o.assistItem=p,r.value=p.data.k,n(p.li),l.stopPropagation(a),u=!0;break;case 9:case 39:if(9==c&&i.useDefaultTab)return;var m=r.value.length;if(r.selectionEnd==m&&r.selectionStart==m){if(!s.length)return;(0<=d||r.value!==s[0].data.k)&&(r.value=(0<=d?s[d]:s[0]).data.k,o.show(),l.stopPropagation(a))}else 9==c&&(r.selectionEnd=r.selectionStart=r.value.length,l.stopPropagation(a))}})),d&&(8===d&&l.ae(r,"propertychange",(function(e){"value"===e.propertyName&&!0!==u&&o.show(),u=!1})),9===d&&(t.onSelctionChange=function(e){a.activeElement===r&&o.show()}))}function pe(){var e=l.ieVer;e&&9===e&&!this.ie9_attached&&(l.ae(a,"selectionchange",this.onSelctionChange),this.ie9_attached=!0)}function fe(){var e=l.ieVer;e&&9===e&&this.ie9_attached&&(l.de(a,"selectionchange",this.onSelctionChange),this.ie9_attached=!1)}function me(){this.config={css:"highlight",useDefaultTab:!1}}function he(e,n,t){var i,o=this.config,s=o.log,r=this.app,a=r.view.elems.sbInput,c=t.li,d=t.idx;n===t.edit&&13==t.data.m&&(n={query:t.data.k,action:"del",sa:1},t=r.config.shBE,l.merge(n,t.params),t=t.host+l.buildUrl(t.base,n),(i=new XMLHttpRequest).open("GET",t,!0),i.withCredentials=!0,i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.placeholder||(i.onreadystatechange=function(){var e=i.status;(4==i.readyState&&200<=e&&e<300||304===e||1223===e)&&r.model.removeAt(d)}),i.send(null),o.placeholder&&((n=this.createElem(o.placeholder,"div")).innerHTML=o.placeholder.html,c.parentNode.replaceChild(n,c)),l.setFocus(a),e(),s&&(s.pos=d+1,r.control.beacon("tapRmv",a,s)))}function ge(){this.config={placeholder:{css:"sa-sh-ph",html:'This search was removed <a href="/history">Manage history</a>'},log:{sec:"search",slk:"clear history",rspns:"upd",t2:"search",t4:"clear history"}}}function ye(){function e(e){e.keyCode&&27!==e.keyCode&&13!=e.keyCode||(l.stopPropagation(e),s.value="",l.setFocus(s),i.show(),t.control.beacon("tapClr",r,n.config.log))}var n=this,t=n.app,i=t.view,o=i.elems,s=o.sbInput,r=o.sbClear;r&&(l.ae(r,"click",e),l.ae(r,"keydown",e))}function ve(){this.config={log:{_r:2,actn:"clk",pos:1,sec:"search",slk:"clearsearch",t1:"hdr",t2:"search",t3:"clear",t4:"clearsearch"}}}c.SA=(n=[],q.prototype={jsonp:function(e){var n=a.getElementsByTagName("head")[0],t=a.createElement("script");l.set(t,"type","text/javascript"),l.set(t,"src",e),n.appendChild(t),l.ae(t,"load",(function(){n.removeChild(t)}))},xhr:function(e,n){var t=new XMLHttpRequest;t.open("GET",e),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){var e=t.status;(4==t.readyState&&200<=e&&e<300||304===e||1223===e)&&n(JSON.parse(t.response))},t.send(null)},createElem:D,getElemStyleValue:function(e,n){return r.getComputedStyle?r.getComputedStyle(e).getPropertyValue(n):e.currentStyle?(n=n.replace(/\-([a-z]){1}/g,(function(e,n){return n.toUpperCase()})),e.currentStyle[n]):""},format:function(e,n){if(e)return e.replace(/{(\d+)}/g,(function(e,t){return n&&void 0!==n[t]?n[t]:""})).trim()},on:function(e,n,t){var i;e&&n&&((i=this.listeners)[e]||(i[e]=[]),i[e].push({thisArg:t||this,fn:n}))},notify:function(e,n){var t=this.listeners;if(!t[e])return!1;t[e].forEach((function(e){var t=e.thisArg;(e=e.fn)&&e.apply&&1!=t.config.disable&&e.apply(t,n||[])}))},init:function(n){var t,i,o,s,r=this,a=r.config,c=a.plugins={};for(s in r.view=t=new e.viewClass,r.model=i=new e.modelClass,r.control=o=new e.controlClass,d){var u=new d[s];c[s]=u.config=u.config||{},u.createElem=D,u.init(r)}"object"==typeof n&&l.merge(a,n),r.ready=t.init(r)&&i.init(r)&&o.init(r)}},t=q,e={ver:"assistjs-v1.0.213-ybar",apps:n,plugs:d,add:function(e,n){d[e]=n},msg:{BEFORE_GET_ASSIST:u,BEFORE_DISPLAY_DATA:p,BEFORE_INIT_VIEW:f,AFTER_INIT_VIEW:m,BEFORE_PARSE_DATA:h,BEFORE_UPDATE_ASSIST:g,AFTER_UPDATE_LIST:y,AFTER_CREATE_ITEM:v,BEFORE_SHOW_SA:b,AFTER_RESET_VIEW:_,AFTER_HIDE_VIEW:w,AFTER_INIT_CONTROLLER:C,CLICK_ASSIST:E,BEFORE_QUERY_ASSIST:S,BEFORE_KEY_SUBMIT:L,BEFORE_BUTTON_SUBMIT:T,BEFORE_SUBMIT_QUERY:x,BEFORE_SB_FOCUS:k,AFTER_SB_FOCUS:I,BEFORE_SB_BLUR:A,AFTER_SB_BLUR:M,BEFORE_BEACON:R,AFTER_SET_YLC:N,AFTER_RESET_CONTROLLER:O,AFTER_ITEM_HIGHLIGHT:B,AFTER_ITEM_RESET_HIGHLIGHT:P},markers:{GOSSIP_MARKER_SEARCH_HISTORY:13,GOSSIP_MARKER_TRENDING:9,GOSSIP_MARKER_PEOPLE_ALSO_SEARCH_FOR:42,GOSSIP_MARKER_RELATED_STOCKS:73},init:function(e){var i,o=l.ieVer;return!(o&&o<8)&&((i=new t(this.initConfig?this.initConfig():{})).init(e),!!i.ready&&(i.config.customEvent&&8===o&&(a.documentElement.assistSelection=null),i.idx=n.length,n.push(i),void(!this.latency&&r.performance&&"function"==typeof r.performance.now&&(this.latency=r.performance.now()))))}}),e.controlClass=(i="ylcAssist",o="ylcKey",s="ylcBtn",j.prototype={init:function(e){function n(e){y.pqstr="",y.pqstrl=0,y.pos=0;var n=p.sbForm.fr2,t=p.sbInput.value,r=c.data;switch(y.query=encodeURIComponent(t),y.qstrl=t.length,y.t_stmp=l.ts(),y.gprid=r.l&&r.l.gprid?r.l.gprid:"",y.n_sugg=r.r?r.r.length:0,n&&(y.fr2=n.value),d.assistItem&&(y.pos=d.assistItem.idx+1),e){case i:var a=d.lastInput;l.merge(y,u[i]),y.pqstr=a,y.pqstrl=a.length;break;case o:l.merge(y,u[o]);break;default:l.merge(y,u[s])}B(N),w.lastActn=y.t4}function t(e){var n=p.sbInput.value;!(n=p.mustHaveInput?p.mustHaveInput.value:n)||""===n||void 0!==n.trim&&""===n.trim()||(B(x),e?l.fireEvent(f,e,{data:d.assistItem}):m.submit(),setTimeout((function(){P()}),400))}var c,d,u,p,f,m,h,g,y,v,b,_,w=this,R=l.ieVer,B=function(n,t){e.notify(n,t)},P=function(){f.blur(),d.reset(),B(O)};return w.model=c=e.model,w.view=d=e.view,w.config=u=e.config,w.customEvent=g=u.customEvent||{},w.lastActn="",w.ylc=y={},l.merge(y,u.ylc),p=d.elems,f=p.sbInput,m=p.sbForm,h=p.sbSubmit,(!R||9<=R)&&l.ae(f,"input",(function(){d.show()})),l.ae(f,"focus",(function(e){B(k),u.sbScrollTop&&(a.body.scrollTop=0),B(I)})),l.ae(f,"blur",(function(e){e.relatedTarget&&m.contains&&m.contains(e.relatedTarget)||(B(A),B(M))})),l.ae(f,"click",(function(){d.triggered||d.show()})),l.ae(f,"keydown",(function(e){switch(w.lastActn="key_"+e.keyCode,e.keyCode){case 13:e.preventDefault(),B(L),n(o),t(g.customKeyBoard);break;case 27:f.blur(),d.hide(),l.stopPropagation(e)}})),h?l.ae(h,"click",(function(e){e.preventDefault(),B(T),n(s),t(g.customBtn)})):l.ae(m,"submit",(function(){B(T),n(s),B(x),setTimeout((function(){P()}),400)})),"ontouchstart"in r&&(_=function(e,n){return(/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]:e)["page"+n]},l.ae(a,"touchstart",(function(e){d.shown&&(v=_(e,"X"),b=_(e,"Y"))})),l.ae(a,"touchend",(function(e){d.shown&&(5<=Math.abs(_(e,"X")-v)||5<=Math.abs(_(e,"Y")-b))&&e.preventDefault()}))),l.ae(a,"click",(function(e){if(d.shown){for(var o=e.target||e.srcElement,s=!1;o;){if(o===m||o===p.saTray)return;var r=(r=l.get(o,"pos"))?d.items[r]:{};if(B(E,[function(){s=!0},o,r]),s)return;if(o===r.li)return f.value=r.data.k,d.assistItem=r,B(S),n(i),void t(g.customSelection);if((o=o.parentNode)===a)break}u.hideOnOutsideClick&&d.hide()}})),B(C),!0},beacon:function(e,n,t){var i,o,s,r;t&&(i=(r=this).customEvent,o=r.config,r.model.app.notify(R,[t]),s="sa_rt"in t?{rt:t.sa_rt,q:t.cqry,la:r.lastActn,n:t.nitems,s:t._S}:{},r.lastActn=t.t4,i[e]?l.fireEvent(n,i[e],t):c.ULT?(n=(r=c.ULT).BEACON,o.saBeacon&&(r.BEACON=location.protocol+"//"+l.buildUrl(o.saBeacon,s)),r.beacon_click(t),r.BEACON=n):"function"==typeof c.SaBeacon&&c.SaBeacon(t))}},j),e.modelClass=(U.prototype={init:function(e){var n=this;return n.app=e,n.view=e.view,n.config=e.config,n.cbIdx=0,n.data={},!0},fetch:function(){var e=this,n=e.app,t="sacb"+e.cbIdx++,i={pq:(i=e.view).origQuery,command:i.elems.sbInput.value,t_stmp:l.ts()},o=e.config.saBE,s=n.cb;if(e.config.xhr||(i.callback="YAHOO.SA.apps["+n.idx+"].cb."+t),l.merge(i,o.params),!e.config.xhr){for(var r in s)s.hasOwnProperty(r)&&(s[r]=function(){});s[t]=function(n){e.read(n||{}),s[t]=function(){}}}n.notify(u,[i]),e.getAssist(o,i)},getAssistFromUrl:function(e,n){var t=this;t.config.xhr?t.app.xhr(e,(function(e){n.command==(e=e||{}).q&&t.read(e||{})})):t.app.jsonp(e)},getAssist:function(e,n){this.getAssistFromUrl(e.host+l.buildUrl(e.base,n),n)},read:function(e){this.data=e,this.display()},removeAt:function(e){this.data.r.splice(e,1),this.display()},removeItems:function(e){for(var n=this.data,t=n.r.length-1;0<=t;t--)n.r[t].m==e&&n.r.splice(t,1);this.display()},display:function(){var e=this.data;this.app.notify(p,[e]),this.view.dropdown(e)}},U),e.viewClass=($.prototype={init:function(e){var n,t,i,o,s,c,d=this,u=(d.app=e,d.model=e.model,d.config=n=e.config,d.elems=t={},d.items=[],d.assistItem=null,e.notify(f),n.elems);for(c in u)t[c]||(t[c]=a.getElementById(u[c]));return i=t.sbInput,s=t.saTray,!!((o=t.sbForm)&&i&&s)&&(d.origQuery=d.lastInput=i.value,l.set(i,"role","combobox"),l.set(i,"aria-autocomplete","both"),l.set(i,"aria-expanded","false"),d.origAction=o.action,(!(s=i.autofocus)&&n.autofocus||s&&i.value.length)&&l.setFocus(i),e.notify(m),l.ae(r,"load",(function(){a.body.dir&&"rtl"==a.body.dir&&(n.saAria.style.left="",n.saAria.style.right="-9999px"),t.saAria=a.body.appendChild(e.createElem(n.saAria,"div"))})),!0)},dropdown:function(e){var n,t=this,i=t.config,o=t.app,s=e&&e.r?e.r.length:0,r=a.body,c=(n=t.elems).sbInput,d=n.saAria,u=n.saTray,p=((n=n.sbForm)||{}).parentElement,f=t.app.createElem,m=i.noQueryClass,v=i.typingClass,b=i.noResultClass,_=f(i.sa,"div"),w=f(i.saList,"ul");if(l.addClass([r,p],v),""==e.q?i.addNoQueryClsToBody?l.addClass(r,m):l.addClass(u,m):l.removeClass([u,r],m),t.shown=!0,t.clearAssist(),s){_.appendChild(w),o.notify(h,[e]);for(var C=0;C<s;C++){var E={idx:C},S=((S=e.r[C]).q=e.q,S.fd&&(E.fd=l.clone(S.fd)),l.merge(E,S),E.origData=S,o.notify(g,[E]),this.createItem(E));t.items.push(S),w.appendChild(S.li)}o.notify(y,[w]),u.appendChild(_),l.removeClass(n,b)}else l.addClass(n,b);c&&l.set(c,"aria-expanded","true"),d&&(l.set(d,"aria-expanded","true"),d.innerHTML="<p>"+s+" "+t.config.saAria.shownText+"</p>")},show:function(){var e=this,n=e.config,t=e.elems.sbInput.value,i=t.length;e.app.notify(b),e.shown&&e.sameQuery()||(e.lastInput=t,i<n.minInput||i>n.maxInput?e.hide():(e.model.fetch(),e.triggered=!0))},hide:function(){var e=this,n=(i=e.elems).sbInput,t=i.saAria,i=i.sbForm,o=e.config;l.removeClass(a.body,o.typingClass),i&&i.parentElement&&l.removeClass(i.parentElement,o.typingClass),l.removeClass(i,o.noResultClass),e.clearAssist(),e.shown=!1,e.triggered=!1,n&&l.set(n,"aria-expanded","false"),t&&(l.set(t,"aria-expanded","false"),t.innerHTML="<p>"+e.config.saAria.closedText+"</p>"),e.app.notify(w)},clearAssist:function(){this.elems.saTray.innerHTML="",this.items.splice(0,this.items.length),this.assistItem=null},createItem:function(e){var n={idx:e.idx,data:e.origData},t=l.htmlEncode,i=this.config,o=this.app.createElem,s={},r=(i.highlight&&l.merge(s,i.highlight),e.highlight&&l.merge(s,e.highlight),o(i.saItem,"li"));return(o=(l.set(r,"pos",e.idx),o(i.saTitle,"span"))).innerHTML=e.t||(i.boldTag&&e.k&&e.q?l.bold(i.boldTag,t(e.k),t(e.q),s):t(e.k)),r.appendChild(o),n.li=r,n.title=o,this.app.notify(v,[n,e]),n},resetQuery:function(){this.elems.sbInput.value=this.origQuery},reset:function(){var e=this,n=e.config,t=e.elems.sbForm;n.resetQuery&&e.resetQuery(),e.hide(),t.action=e.origAction,e.app.notify(_)},sameQuery:function(){return this.elems.sbInput.value==this.lastInput}},$),e.initConfig=function(){return{elems:{sbForm:"sb-form",sbInput:"sb-input",sbSubmit:"sb-search",sbClear:"sb-clr",sbCancel:"sb-cancel",saTray:"sa-tray"},customEvent:{},sa:{css:"sa",attrs:{type:"normal"}},saList:{css:"sa-list",attrs:{role:"listbox"},style:{cursor:"pointer"}},saItem:{css:"sa-item",attrs:{role:"option"}},saTitle:{css:"sa-item-title"},saAria:{shownText:"new suggestions shown",closedText:"Suggestion box closed",css:"sa-aria-live-region",attrs:{"aria-live":"polite"},style:{position:"absolute",left:"-9999px"}},saBE:{host:"",base:"/sugg/gossip/gossip-us-ura/",params:{l:1,bm:3,output:"sd1",nresults:10}},shBE:{host:"",base:"/history"},minInput:0,maxInput:255,boldTag:"<b>{s}</b>",ylc:{_r:2},ylcAssist:{use_case:""},hideOnOutsideClick:!0,noQueryClass:"sa-noQuery",typingClass:"typing",noResultClass:"sf-noResult"}},d.hideSbClr=(H.prototype={init:function(e){(this.app=e).on(b,F,this)}},H),d.saFr=(z.prototype={init:function(e){(this.app=e).on(m,V,this),e.on(S,Y,this),e.on(_,G,this)}},z),d.ipos=(K.prototype={init:function(e){(this.app=e).on(b,W,this),e.on(u,J,this)}},K),d.saTray=(X.prototype={init:function(e){(this.app=e).on(f,Q,this)}},X),d.saFlvr=(ee.prototype={init:function(e){e.on(v,Z,this)}},ee),d.saEdit=(te.prototype={init:function(e){e.on(v,ne,this)}},te),d.saAnnot=(oe.prototype={init:function(e){e.on(v,ie,this)}},oe),d.saImg=(re.prototype={init:function(e){e.on(v,se,this)}},re),d.saGroup=(le.prototype={init:function(e){this.app=e,this.idxs={},e.on(v,ae,this),e.on(y,ce,this)}},le),d.saPCActn=(me.prototype={init:function(e){var n=this;n.app=e,n.selectedIndex=-1,e.on(p,de,n),e.on(C,ue,n),e.on(I,pe,n),e.on(M,fe,n)}},me),d.tapRmv=(ge.prototype={init:function(e){(this.app=e).on(E,he,this)}},ge),d.tapClr=(ve.prototype={init:function(e){(this.app=e).on(C,ye,this)}},ve)}();var history="_yb_1pzad",lowlight="_yb_1cokj",sa="_yb_ho60z",trending="_yb_91u9w",Css$6={"bot-search-icon":"_yb_ftbec","bot-search-icon-container":"_yb_143p8","bot-search-item":"_yb_1ir74","bot-search-item-col":"_yb_1do3h","bot-search-span":"_yb_1bb8e",history:history,"list-item-hover":"_yb_15eyr",lowlight:lowlight,"no-wrap":"_yb_1swxq","related-title":"_yb_1fj9j",sa:sa,"sa-annot-rich":"_yb_112y0","sa-annot-subtitle":"_yb_1j6er","sa-annot-title":"_yb_1uzq8","sa-edit":"_yb_19808","sa-edit-icon":"_yb_1obg2","sa-edit-text":"_yb_bvlw3","sa-fd-actn-cont":"_yb_n9wsp","sa-grp-hdr":"_yb_126xw","sa-grp-hdr-title":"_yb_1cs2m","sa-history":"_yb_1v69l","sa-img":"_yb_yef8k","sa-img-ctn":"_yb_1dtqv","sa-img-icon":"_yb_145yn","sa-item":"_yb_t6oka","sa-item-title":"_yb_1kfk0","sa-rich-thumb":"_yb_1ws7h","sa-sbx-container":"_yb_vpfso","sa-sugg":"_yb_77nmw","sa-thumb-icon":"_yb_10ryo","sa-tray":"_yb_1izsi","sa-tray-list-container":"_yb_1elj5","sa-trending":"_yb_k83sl","sub-assist":"_yb_1uhoh","suggestion-title":"_yb_13noj",trending:trending,"trending-title":"_yb_w4d0q","yui3-highlight":"_yb_185nz"},saConfV1={boldTag:'<b class="'+Css$6["yui3-highlight"]+'">{s}</b>',customEvent:{customBtn:"searchBtnClicked",customKeyBoard:"enterKeyPressed",customSelection:"assistSelectionClicked"},elems:{sbForm:"ybar-sf",sbInput:"ybar-sbq",sbSubmit:"ybar-search",sbClear:"ybar-sbq-x",sbCancel:"ybar-search-back-btn"},hightlight:{exact:!0,pattern:"^"},minInput:1,sa:{css:Css$6["sa-tray"]},saBE:{base:"",host:"",params:{appid:"yfp-t"}},saItem:{css:""},saList:{css:Css$6["sa-tray-list-container"]},saTitle:{css:"",style:{display:"block"}},plugins:{saFr:{disable:!0},saTray:{afterNode:"ybar-sbq",ctn:{css:Css$6["sa-sbx-container"]},tray:{css:Css$6.sa+" "+Css$6.lowlight}},saPCActn:{css:Css$6["list-item-hover"]},ylcEncode:{disable:!0},saFlvr:{disable:!0},saEdit:{disable:!0},saAnnot:{disable:!0},saImg:{disable:!0},saPopup:{disable:!0}}},richSAConfV1={saBE:{base:"",host:"",params:{appid:"yfp-t",".crumb":"",f:1}},shBE:{host:"https://search.yahoo.com",base:"/history",params:{_bcrumb:""}},minInput:0,plugins:{saFlvr:{m9:Css$6["sa-trending"],m13:Css$6["sa-history"],flvr:Css$6["sa-sugg"]},saEdit:{ctn:{css:Css$6["sa-edit"]},icon:{css:Css$6["sa-edit-icon"]},text:{css:Css$6["sa-edit-text"],text:"Remove"}},saAnnot:{title:{css:Css$6["sa-annot-title"]},subtitle:{css:Css$6["sa-annot-subtitle"]},richClass:Css$6["sa-annot-rich"]},tapRmv:{placeholder:""},saImg:{placeholder:{css:Css$6["sa-img-icon"]},thumbnail:{css:Css$6["sa-img"]},ctn:{css:Css$6["sa-img-ctn"]}},saGroup:{hdr:{css:Css$6["sa-grp-hdr"]},title:{css:Css$6["sa-grp-hdr-title"]},grps:{m9:{text:"Trending Now",css:Css$6.trending},m13:{text:"",css:Css$6.history}}}}},richSAConfV1Smartphone={saBE:{base:"",host:"",params:{appid:"mi5",".crumb":"",f:1}},shBE:{host:"https://search.yahoo.com",base:"/history",params:{_bcrumb:""}},saItem:{css:Css$6["sa-item"]},saTitle:{css:Css$6["sa-item-title"]},minInput:0,plugins:{saFlvr:{m9:Css$6["sa-trending"],m13:Css$6["sa-history"],flvr:Css$6["sa-sugg"]},saEdit:{ctn:{css:Css$6["sa-edit"]},icon:{css:Css$6["sa-edit-icon"]},text:{css:Css$6["sa-edit-text"]}},saAnnot:{title:{css:Css$6["sa-annot-title"]},subtitle:{css:Css$6["sa-annot-subtitle"]},richClass:Css$6["sa-annot-rich"]},tapRmv:{placeholder:""},saImg:{placeholder:{css:Css$6["sa-img-icon"],wrap:{css:Css$6["sa-thumb-icon"]}},thumbnail:{css:Css$6["sa-img"]},ctn:{css:Css$6["sa-img-ctn"]},richClass:Css$6["sa-rich-thumb"],showIconOnImgLoad:!0},saGroup:{hdr:{css:Css$6["sa-grp-hdr"]},title:{css:Css$6["sa-grp-hdr-title"]},grps:{m9:{text:"Trending Now",css:Css$6.trending},m13:{text:"",css:Css$6.history}}}}},bottomSearch=function(e,n,t){var i=document.createElement("div");i.className=t["bot-search-item"];var o=document.createElement("div"),s=document.createElement("div");o.className=t["bot-search-item-col"],s.className=t["bot-search-item-col"];var r=document.createElement("div");r.className=t["bot-search-icon-container"];var a=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("width","20"),a.setAttribute("height","20"),a.setAttribute("viewBox","0 0 24 24"),a.classList.add(t["bot-search-icon"]),c.setAttribute("d","M3.7634,15.837 L6.1814,15.837 C6.5214,17.45 7.0614,18.891 7.7584,20.045 C6.0094,19.118 4.6024,17.637 3.7634,15.837 L3.7634,15.837 Z M2.9144,12.008 C2.9144,11.351 2.9844,10.711 3.1164,10.094 L5.8884,10.094 C5.8264,10.717 5.7864,11.354 5.7864,12.008 C5.7864,12.663 5.8264,13.299 5.8884,13.922 L3.1164,13.922 C2.9844,13.305 2.9144,12.665 2.9144,12.008 L2.9144,12.008 Z M7.7584,3.971 C7.0614,5.125 6.5214,6.566 6.1814,8.179 L3.7634,8.179 C4.6024,6.379 6.0094,4.898 7.7584,3.971 L7.7584,3.971 Z M11.0504,3.142 L11.0504,8.179 L8.1054,8.179 C8.6604,5.664 9.7414,3.771 11.0504,3.142 L11.0504,3.142 Z M12.9654,3.142 C14.2754,3.771 15.3564,5.664 15.9114,8.179 L12.9654,8.179 L12.9654,3.142 Z M20.2524,8.179 L17.8344,8.179 C17.4954,6.566 16.9544,5.126 16.2574,3.971 C18.0064,4.898 19.4144,6.379 20.2524,8.179 L20.2524,8.179 Z M11.0504,20.875 C9.7414,20.245 8.6594,18.352 8.1054,15.837 L10.1354,15.837 C10.2104,15.161 10.3914,14.519 10.6584,13.922 L7.7984,13.922 C7.7354,13.305 7.7004,12.665 7.7004,12.008 C7.7004,11.351 7.7354,10.711 7.7984,10.094 L11.0504,10.094 L11.0504,13.184 C11.5394,12.388 12.1904,11.702 12.9654,11.183 L12.9654,10.094 L20.8994,10.094 C21.0284,10.697 21.0964,11.323 21.0994,11.964 L21.0994,11.964 L21.0994,12.661 C21.0994,13.19 21.5284,13.618 22.0574,13.618 L22.0584,13.618 C22.5874,13.618 23.0164,13.19 23.0164,12.661 L23.0164,11.965 L23.0144,11.965 C22.9904,5.662 17.6704,0.608 11.2724,1.024 C5.8994,1.373 1.4994,5.676 1.0414,11.04 C0.5134,17.228 5.1074,22.463 11.0504,22.975 C11.1664,22.985 11.3274,22.993 11.4844,22.999 C11.8104,23.012 12.1194,22.85 12.2904,22.572 L12.2924,22.569 C12.5734,22.113 12.3964,21.514 11.9124,21.284 L11.0504,20.875 Z M15.9434,18.874 C14.6054,18.874 13.5214,17.79 13.5214,16.452 C13.5214,15.115 14.6054,14.03 15.9434,14.03 C17.2804,14.03 18.3654,15.115 18.3654,16.452 C18.3654,17.79 17.2804,18.874 15.9434,18.874 M21.6354,20.908 L19.4524,18.725 C19.8774,18.07 20.1264,17.291 20.1264,16.452 C20.1264,14.145 18.2584,12.274 15.9514,12.269 L15.9354,12.269 C13.6284,12.274 11.7604,14.145 11.7604,16.452 C11.7604,18.763 13.6324,20.635 15.9434,20.635 C16.7814,20.635 17.5614,20.386 18.2154,19.961 L20.3984,22.144 C20.7404,22.486 21.2934,22.486 21.6354,22.144 C21.9774,21.803 21.9774,21.249 21.6354,20.908"),a.appendChild(c),r.appendChild(a),o.appendChild(r);var l=document.createElement("span"),d=document.createElement("span");d.className=t["bot-search-span"];var u=document.createElement("span"),p=e.split("{query}");return l.textContent=p[0]||"",d.textContent=n,u.textContent=p[1]||"",s.appendChild(l),s.appendChild(d),s.appendChild(u),i.appendChild(o),i.appendChild(s),i},_getQueryStringByName=function(e){var n=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return n?n[1]:null},_getFrValueByMode=function(e,n,t){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=document.getElementById("ybar"),o=null==i?void 0:i.querySelector('input[name="fr"]'),s=o?o.value:"yfp-t",r=_getQueryStringByName("fr"),a=r||s,c=i&&i.className&&i.className.match(/ybar-variant-([a-z]+)/),l=c?c[1]:"";return-1===["att","frontier","rogers"].indexOf(l)&&(e&&(a+="-m"),n&&(a+="-s")),"tn"!==t&&"tg"!==t||(a=r?a+"-tn":(null==o?void 0:o.dataset.tnvalue)||a),a},_getFr2ValueByMode=function(e,n,t,i,o){void 0===t&&(t=!1);var s=null,r="smartphone"===n&&!!document.querySelector(".Reader-open")||"smartphone"!==n&&!!document.querySelector(".modal-open"),a=e.querySelector('input[name="fr2"]');if(a){s=a.value;var c=a.dataset&&a.dataset.savalue,l=a.dataset&&a.dataset.modalsb,d=a.dataset&&a.dataset.modalsa;t?s=r&&d?d:c:r&&l&&(s=l),i&&o&&(s="".concat(s,",ct:").concat(i,",kt:").concat(o))}return s},_getTsrcValueByMode=function(e,n){void 0===n&&(n=!1);var t=null,i=e.querySelector('input[name=".tsrc"]');if(i){t=i.value;var o=i.dataset&&i.dataset.savalue;n&&o&&(t=o)}return t},_setInputValues=function(e,n,t){var i=e.querySelectorAll(n);if(i)for(var o=0;o<i.length;++o)i[o].value=t},_setFrInputValue=function(e,n,t){var i=e.querySelector(n);i&&(i.value=t)},setFr=function(e,n,t,i){void 0===n&&(n=!1),void 0===t&&(t=!1);var o=_getFrValueByMode(n,t,i);o&&_setFrInputValue(e,'input[name="fr"]',o)},setFr2=function(e,n,t,i,o){void 0===t&&(t=!1);var s=_getFr2ValueByMode(e,n,t,i,o);s&&_setInputValues(e,'input[name="fr2"]',s)},setTsrc=function(e,n){void 0===n&&(n=!1);var t=_getTsrcValueByMode(e,n);t&&_setInputValues(e,'input[name=".tsrc"]',t)},getI13nObject=function(e,n,t){return void 0===n&&(n="0"),void 0===t&&(t="1"),{sec:"ybar",slk:"websrch",pValue:t,clickParams:{elm:"search",elmt:e,subsec:"searchbox",itc:n,tar:"search.yahoo.com"}}},suggestionTitle=function(e,n){if(n){var t=document.createElement("div");t.className=e["suggestion-title"];var i=document.createElement("span"),o=document.createElement("span");return o.textContent=n,i.appendChild(o),t.appendChild(i),t}},setTypeByQueryString=function(e){var n=_getQueryStringByName("type");if(n)if(e.querySelectorAll('input[name="type"]').length)_setInputValues(e,'input[name="type"]',n);else{var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","type"),t.setAttribute("value",n),e.appendChild(t)}},searchboxGlobalKeydown=function(e,n){if(e=e||window.event,""===n.value.trim()){var t="scrollBehavior"in document.documentElement.style;-1!==[32].indexOf(e.keyCode)&&(t?window.scrollBy({top:Math.floor(.95*window.innerHeight),left:0,behavior:"smooth"}):window.scrollBy(0,Math.floor(.95*window.innerHeight)),e.preventDefault()),-1!==[38,40].indexOf(e.keyCode)&&(t?window.scrollBy({top:Math.floor(40*(38===e.keyCode?-1:1)),left:0,behavior:"smooth"}):window.scrollBy(0,Math.floor(40*(38===e.keyCode?-1:1))),e.preventDefault())}},ApplyOverrides=function(e,n,t,i,o,s){var r,a=n.querySelector("#ybar-sbq"),c=n.getAttribute("data-botSearch"),l=n.getAttribute("data-textSuggestionTitle"),d=n.getAttribute("data-textBotSearch"),u=1,p=n.getAttribute("data-tn-ct")||"tn";"desktop"===o&&window.addEventListener("keydown",(function(e){a&&document.activeElement===a&&searchboxGlobalKeydown(e,a)}),!0);var f=function(e){var n,t;return s&&e&&(n=13===e.data.m?"history":9===e.data.m?p:"sa",t=9===e.data.m?"".concat("tn"===p?"organic":"none"):"none"),{category:n,keyword:t}},m=function(e){var t,s,r=!!document.querySelector(".modal-open"),c=null===(t=e.detail)||void 0===t?void 0:t.data,l=1,d=!1;if(a&&""!==a.value.trim()){if("enterKeyPressed"===e.type?c&&c.idx>=0?(s="srch-asst",d=!0,l=c.idx+1):s="kybrd":s="botSearchClicked"===e.type?"sitesrch":"icon","homepage"!==i&&"my"!==i||!r&&!d)"smartphone"===o&&(setFr2(n,o,d),setTsrc(n,d));else{var u=f(c),p=u.category,m=u.keyword;setFr(n,r,d,p),setFr2(n,o,d,p,m),setTsrc(n,d)}"ngy"===i&&(r||d)&&setFr(n,r,d),v(getI13nObject(s,"0",l.toString()))}},h=function(e){var t,s=!!document.querySelector(".modal-open"),r=null===(t=e.detail)||void 0===t?void 0:t.data,a=!0,c=(r&&r.idx||0)+1;if("homepage"===i||"my"===i){var l=f(r),d=l.category,u=l.keyword;setFr(n,s,a,d),setFr2(n,o,a,d,u),setTsrc(n,a)}else"smartphone"===o&&(setFr2(n,o,a),setTsrc(n,a));"ngy"===i&&setFr(n,s,a),v(getI13nObject("srch-asst","0",c.toString()))},g=function(e){if("function"==typeof t.beaconClick&&9!==e.keyCode&&13!==e.keyCode&&1===u&&"smartphone"!==o){t.saveCurrentTimerValue("search_input_keyboard_input");var n=getI13nObject("keystroke","1");delete n.clickParams.tar,u++,t.beaconClick(n.sec,n.slk,n.pValue,n.clickParams)}},y=function(){t.saveCurrentTimerValue("search_input_focus_click"),"smartphone"===o&&n.addEventListener("click",(function(){if(e){if(e.classList.contains("ybar-searchbox-assist-fullscreen"))return;e.classList.add("ybar-searchbox-assist-fullscreen")}if(!document.documentElement.classList.contains("ybar-overlay")){document.documentElement.classList.toggle("ybar-overlay"),document.body.classList.add("ybar-overlay-noscroll");"function"==typeof t.beaconClick&&t.beaconClick("ybar","websrch","",{elm:"expand",subsec:"searchbox",itc:"1"})}}))},v=function(e){if("function"==typeof t.beaconClick){t.saveCurrentTimerValue("search_query_submit");var i={pp:{A_utm:t.getPerformanceI13nObject()}};t.beaconClick(e.sec,e.slk,e.pValue,e.clickParams,void 0,(function(){setTimeout((function(){n&&n.submit()}),300)}),i)}else n&&n.submit()};function b(){this.config={botSearch:{action:c,text:d||""},suggestionTitle:{text:l||""}}}function _(e){var n=this.config,t=this.app.view,i=t.elems.sbForm,o=t.elems.sbInput.value,s=suggestionTitle(Css$6,n.suggestionTitle.text),r=bottomSearch(n.botSearch.text,o,Css$6);r&&(e&&s&&(e.prepend(s),e.appendChild(r)),r.addEventListener("click",(function(){n.botSearch.action&&(i.action=n.botSearch.action),t.hide(),m(new CustomEvent("botSearchClicked"))})))}a&&(a&&(a.addEventListener("enterKeyPressed",m),a.addEventListener("assistSelectionClicked",h),a.addEventListener("searchBtnClicked",m),a.addEventListener("keydown",g),a.addEventListener("click",y)),"homepage"!==i&&"my"!==i&&"ngy"!==i||(setFr(n),"homepage"===i&&setTypeByQueryString(n)),t.saveCurrentTimerValue("search_assist_ready")),b.prototype={init:function(e){this.app=e,e.on("after_update_list",_,this)}},c&&(null===(r=window.YAHOO.SA)||void 0===r||r.add("saBotSearch",b))},saInitV1=function(e,n,t,i,o,s){var r=n.searchBox.getAttribute("data-appid");if(window.YAHOO&&window.YAHOO.SA){"attgoog"===r&&(t.saBE.params.appid="attgoog"),t.saBE.host=n.searchBox.getAttribute("data-sabase");var a=n.searchBox.dataset.sacrumb,c=n.searchBox.dataset.sabcrumb,l=n.searchBox.dataset.mtestid;a&&(t.saBE.params[".crumb"]=a),c&&t.shBE&&(t.shBE.params._bcrumb=c),l&&(t.saBE.params.mtestid=l),ApplyOverrides(n.ybar,n.searchBox,{beaconClick:beaconClick,saveCurrentTimerValue:saveCurrentTimerValue,getPerformanceI13nObject:getPerformanceI13nObject},i,o,s),window.YAHOO.SA.init(t)}else{var d="Search lib not found. SearchAssist failed to initialise";e.logError(d,new Error(d))}};initModule("ybar-mod-assistjs",(function(e){var n,t=document.getElementById("ybar-sf");if(t&&"true"===t.getAttribute("data-saEnabled")){var i={ybar:document.getElementById("ybar"),searchBox:t,searchInput:document.getElementById("ybar-sbq"),searchBoxBackButton:document.getElementById("ybar-search-back-btn")},o=e.getConfig(),s=saConfV1,r=!!o.bucketConfig.enable_search_ui;if(r){var a="smartphone"===o.device?richSAConfV1Smartphone:richSAConfV1,c=t.getAttribute("data-tn-title");c&&(null===(n=null==a?void 0:a.plugins)||void 0===n?void 0:n.saGroup)&&Object.assign(a.plugins.saGroup,{grps:{m9:{text:c}}}),s=__assign(__assign(__assign({},saConfV1),a),{plugins:__assign(__assign({},saConfV1.plugins),a.plugins)})}saInitV1(e,i,s,o.property,o.device,r)}}));var hide="_yb_1d347",badge="_yb_1l6ac",Css$5={hide:hide,badge:badge},complete=function(e,n){if(200!==e.status){var t=new Error("Request failed with status: "+e.status);t._meta={status:e.status},e.ymreqid&&(t._meta={ymreqid:e.ymreqid}),n(t)}else{var i=null;try{i=JSON.parse(e.responseText)}catch(e){var o=new Error("Error parsing responseText");return o._meta={originalError:e},void n(o)}n(null,i)}},_ieFetch=function(e,n){return void 0===n&&(n={}),__awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t,i){var o=new XMLHttpRequest;if(o.open("string"==typeof n.method?n.method:"GET","string"==typeof e?e:e.url,!0),"object"==typeof n.headers){var s=n.headers;for(var r in s)o.setRequestHeader(r,s[r])}o.withCredentials="include"===n.credentials,o.onreadystatechange=function(){4===o.readyState&&t({ok:o.status>=200&&o.status<=299,status:o.status,text:function(){return Promise.resolve(o.responseText)},json:function(){return new Promise((function(e,n){try{e(JSON.parse(o.responseText))}catch(e){n(e)}}))}})},o.send(n.body)}))]}))}))},ybarFetch=function(e,n){return void 0===n&&(n={}),("function"==typeof window.fetch?fetch:_ieFetch)(e,n)},getreq=function(e,n){var t=e.url,i=e.headers,o=void 0===i?{}:i;return o["X-Requested-With"]="XMLHttpRequest",ybarFetch(t,{headers:o,credentials:"include"}).then((function(e){return e.text().then((function(t){complete({status:e.status,responseText:t},n)}))}))},postreq=function(e,n){var t=e.url,i=e.ymreqid,o=e.body;return ybarFetch(t,{method:"POST",headers:__assign({"Content-Type":"application/json"},"string"==typeof i?{"X-Oath-YmReqId":i}:{}),body:void 0!==o?JSON.stringify(o):null,credentials:"include"}).then((function(e){return e.text().then((function(t){complete({status:e.status,responseText:t,ymreqid:i},n)}))}))},JwsRequestType,JwsRequestStatus;!function(e){e[e.COUNT=0]="COUNT",e[e.PREVIEW=1]="PREVIEW"}(JwsRequestType||(JwsRequestType={})),function(e){e[e.PENDING=0]="PENDING",e[e.COMPLETE=1]="COMPLETE"}(JwsRequestStatus||(JwsRequestStatus={}));var jwsCache=new Map,getCache=function(e){var n=jwsCache.get(e);if(n){if(n.status===JwsRequestStatus.PENDING)return n.promise;var t=Date.now()-12e4;return n.data&&n.lastRequested>t?Promise.resolve(n.data):void 0}},setCacheData=function(e,n){var t={lastRequested:Date.now(),status:JwsRequestStatus.COMPLETE,promise:Promise.resolve(n),data:n};jwsCache.set(e,t)},setCachePromise=function(e,n){var t={lastRequested:Date.now(),status:JwsRequestStatus.PENDING,promise:n};jwsCache.set(e,t)},Jws=function(){function e(){}return Object.defineProperty(e.prototype,"wssid",{get:function(){var e,n,t=null===(e=window.YBAR)||void 0===e?void 0:e.wssid;return t||(t=(null===(n=document.querySelector('input[name="mail_wssid"]'))||void 0===n?void 0:n.value)||"",this.wssid=t),t},set:function(e){window.YBAR=window.YBAR||{},window.YBAR.wssid=e||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appid",{get:function(){var e,n,t=null===(e=window.YBAR)||void 0===e?void 0:e.appid;return t||(t=(null===(n=document.querySelector('input[name="mail_appid"]'))||void 0===n?void 0:n.value)||"",this.appid=t),t},set:function(e){window.YBAR=window.YBAR||{},window.YBAR.appid=e||""},enumerable:!1,configurable:!0}),e.prototype.fetchPreview=function(e,n){var t=(void 0===e?{}:e).maxMessages,i=void 0===t?4:t;return __awaiter(this,void 0,void 0,(function(){var e,t,o,s=this;return __generator(this,(function(r){return e=getCache(JwsRequestType.PREVIEW),!n&&e?[2,e]:(1,t={data:{responseType:"json",requests:[{id:"GetMailboxId",uri:"/ws/v3/mailboxes/",method:"GET",filters:{select:{mailboxId:"$..mailboxes[?(@.isPrimary==true)].id"}},suppressResponse:!0,requests:[{id:"ListMessages",uri:"/ws/v3/mailboxes/@.id==$(mailboxId)/messages/@.select==q?q=count%3A6+offset%3A0+folderType%3AINBOX+-sort%3Adate",method:"GET"}]}]}},o=this._fetch(t,1,(function(e){var n=s._normalizePreviewResponse(e,{maxMessages:i});return setCacheData(JwsRequestType.PREVIEW,n),n})),setCachePromise(JwsRequestType.PREVIEW,o),[2,o])}))}))},e.prototype.fetchCount=function(e){return __awaiter(this,void 0,void 0,(function(){var n,t,i,o=this;return __generator(this,(function(s){return n=getCache(JwsRequestType.COUNT),!e&&n?[2,n]:(1,t={data:{responseType:"json",requests:[{id:"GetMailboxId",uri:"/ws/v3/mailboxes/",method:"GET",filters:{select:{mailboxId:"$..mailboxes[?(@.isPrimary==true)].id"}},suppressResponse:!0,requests:[{id:"ListDecos",uri:"/ws/v3/mailboxes/@.id==$(mailboxId)/decos",method:"GET"}]}]}},i=this._fetch(t,1,(function(e){var n=o._normalizerCountResponse(e);return setCacheData(JwsRequestType.COUNT,n),n})),setCachePromise(JwsRequestType.COUNT,i),[2,i])}))}))},e.prototype._fetch=function(e,n,t){var i,o;return __awaiter(this,void 0,void 0,(function(){var s,r,a,c,l,d,u,p,f,m,h,g,y,v,b,_;return __generator(this,(function(w){switch(w.label){case 0:if(s=e.data,r=void 0===s?{}:s,a=e.params,c=void 0===a?{}:a,l="EC-4008",d="EC-4003",u=this._getYmreqid(),!this.appid)throw new Error("No appId, user is logged out");p=__assign({appId:this.appid},c),this.wssid&&(p.wssid=this.wssid),e.params=p,f=[],Object.keys(p).forEach((function(e){var n=p[e];n&&f.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n)))})),m=f.length?"?".concat(f.join("&")):"",h="https://apis.mail.yahoo.com/ws/v3/batch".concat(m),w.label=1;case 1:return w.trys.push([1,4,,5]),[4,ybarFetch(h,{method:"POST",body:JSON.stringify(r),credentials:"include",headers:{"Content-Type":"application/json","X-Oath-YmReqId":u}})];case 2:return[4,(g=w.sent()).json()];case 3:if(y=w.sent(),g.ok)return[2,t(null===(o=y.result)||void 0===o?void 0:o.responses)];if((v=null===(i=null==y?void 0:y.error)||void 0===i?void 0:i.code)===d)return[2,this._handleWssidApiError(y,e,n,t)];throw v===l?new Error("Session has expired"):new Error("Mail Api Responded with an Error");case 4:throw b=w.sent(),logError("JWS: ".concat((_=b).message),_),b;case 5:return[2]}}))}))},e.prototype._normalizePreviewResponse=function(e,n){var t,i,o,s=this,r=(void 0===n?{}:n).maxMessages,a=void 0===r?4:r;return e?((null===(o=null===(i=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.response)||void 0===i?void 0:i.result)||void 0===o?void 0:o.messages)||[]).map((function(e){return s._parseRawMessage(e)})).filter((function(e,n){return!!(e&&n<a)&&e})):[]},e.prototype._normalizerCountResponse=function(e){var n,t,i,o,s,r;if(!e)return 0;var a=((null===(i=null===(t=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.response)||void 0===t?void 0:t.result)||void 0===i?void 0:i.decos)||[]).find((function(e){return"FTI"===(null==e?void 0:e.id)}));return a&&null!==(r=null===(s=null===(o=null==a?void 0:a.counts)||void 0===o?void 0:o[0])||void 0===s?void 0:s.unseen)&&void 0!==r?r:0},e.prototype._handleWssidApiError=function(e,n,t,i){var o,s,r=null===(s=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.details)||void 0===s?void 0:s.wssid,a=n.params,c=(void 0===a?{}:a).wssid;if(r){if(c&&r===c)throw new Error("API provided same invalid WSSID");if(void 0!==t&&t>0)return t-=1,this.wssid=r,this._fetch(n,t,i);throw new Error("Max retries with invalid WSSID reached")}throw new Error("valid WSSID missing from API Response")},e.prototype._parseRawMessage=function(e){var n,t,i,o,s,r,a=e.id,c=e.snippet,l=e.headers,d=e.flags;return(null==l?void 0:l.date)&&(null===(n=null==l?void 0:l.from)||void 0===n?void 0:n[0])?{from:(null===(i=null===(t=l.from)||void 0===t?void 0:t[0])||void 0===i?void 0:i.name)||"",email:(null===(s=null===(o=l.from)||void 0===o?void 0:o[0])||void 0===s?void 0:s.email)||"",subject:null==l?void 0:l.subject,read:null!==(r=null==d?void 0:d.read)&&void 0!==r&&r,mid:a,date:parseInt(l.date,10)||void 0,snippet:c||""}:null},e.prototype._getYmreqid=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(new RegExp("x","g"),(function(){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),n.toString(16)}))},e}(),showMailUnreadCount$1=function(e){var n=document.querySelectorAll(".".concat(Css$5.badge));null!==n&&0!==n.length&&(new Jws).fetchCount().then((function(t){if(n&&t>0)for(var i=function(i){n[i].classList.remove(Css$5.hide),n[i].textContent=t>99?"99+":t.toString(),e.onDestroy((function(){n[i].classList.add(Css$5.hide),n[i].textContent=""}))},o=0;o<n.length;++o)i(o)})).catch((function(){}))};initModule("ybar-mod-navigation",(function(e){showMailUnreadCount$1(e),e.addElementListener(document,"DOMContentLoaded",(function(){showMailUnreadCount$1(e)}))}));var homepage_show_saved_accounts="_yb_1avfo",mobile="_yb_1j9sd",show="_yb_15ab5",smartphone="_yb_p24pf",Css$4={homepage_show_saved_accounts:homepage_show_saved_accounts,mobile:mobile,"prof-notif-badge":"_yb_20f04",show:show,"sign-in-menu":"_yb_1z0wc","signed-in":"_yb_1z0fb","signed-out":"_yb_50w0x","signedout-text":"_yb_1ifzt",smartphone:smartphone,"notification-container":"_yb_fy391","pfs-container":"_yb_1kg26","pfs-iframe":"_yb_33gqs","ybar-account-img-signed-out":"_yb_1gx17","ybar-account-menu":"_yb_38oxq","ybar-account-menu-item-signed-out":"_yb_1vm41","ybar-account-user-email":"_yb_nllyj","ybar-account-user-email-other":"_yb_18ooz","ybar-account-user-name":"_yb_j3c5q","ybar-account-user-signedout":"_yb_1j3yf","ybar-account-yahoo-plus-imp":"_yb_orx2o","ybar-icon-arrow":"_yb_1n87x","ybar-icon-arrow-down":"_yb_1tgik","ybar-icon-arrow-up":"_yb_1hu3c","ybar-icon-image-wrapper":"_yb_tc9g4","ybar-item-hidden":"_yb_sixam","ybar-login-btn":"_yb_w7iux","ybar-mod-account":"_yb_necw4","ybar-mod-mail":"_yb_lqsqe","ybar-see-info":"_yb_1j29t","ybar-sign-out":"_yb_i5i9c","ybar-sign-out-text":"_yb_1cwfb","ybar-user-accounts-list":"_yb_1crlh","ybar-user-profile-img":"_yb_acah1"},PATTERN_GDPR_CONSENT=/\$({|%7B)GDPR_CONSENT_(\d+)(}|%7D)/g,PATTERN_GDPR=/\$({|%7B)GDPR(}|%7D)/g,PATTERN_TIMESTAMP=/\[timestamp\]/g,getTCData=function(e){return new Promise((function(n,t){if(!window.__tcfapi){var i="Missing TCF API",o=new Error(i);return logError(i,o),t(o)}window.__tcfapi("getTCData",2,(function(e,i){return i&&"error"!==e.cmpStatus?n(e):t(!1)}),e)}))},replaceTimestamp=function(e){return e.replace(PATTERN_TIMESTAMP,Date.now()+"")},replaceGDPR=function(e,n){var t=n.gdprApplies;return e.replace(PATTERN_GDPR,t?"1":"0")},replaceGDPRConsent=function(e,n){var t=n.gdprApplies,i=n.tcString;return e.replace(PATTERN_GDPR_CONSENT,t?i:"")},addConsentToUrl=function(e){return __awaiter(void 0,void 0,void 0,(function(){var n,t,i,o;return __generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,getTCData()];case 1:return n=s.sent(),t=replaceGDPR(e,n),i=replaceGDPRConsent(t,n),[2,replaceTimestamp(i)];case 2:return s.sent(),o="Error adding consent to ".concat(e),logError(o,new Error(o)),[2,e];case 3:return[2]}}))}))},animation="_yb_czv9p",noscroll="_yb_1uq9e",overlay="_yb_10p3y",Css$3={animation:animation,"left-open":"_yb_1bmkk",noscroll:noscroll,overlay:overlay,"right-open":"_yb_90o05"},addOverlay=function(e,n,t,i){var o,s,r=e||document.body,a=document.createElement("div");a.classList.add(Css$3.overlay),a.setAttribute("data-hidden","true"),null===(s=null===(o=r.parentNode)||void 0===o?void 0:o.parentNode)||void 0===s||s.appendChild(a),r.classList.add(Css$3.animation);var c=document.documentElement,l=!0,d=0,u=function(){l=!l,a.setAttribute("data-hidden","".concat(l)),null==c||c.classList.toggle("ybar-overlay"),document.body.classList.toggle(Css$3.noscroll,!l),r.classList.toggle(Css$3[n+"-open"],!l),l?a.scrollTop=0:null==i||i.focus(),0===d&&(d=1,setTimeout((function(){refreshModule()}),300))};t.onDestroy((function(){var e,n;null===(n=null===(e=r.parentNode)||void 0===e?void 0:e.parentNode)||void 0===n||n.removeChild(a),r.classList.remove(Css$3.animation),l||u()})),t.addElementListener(r,"toggle-overlay",(function(){u()})),t.addElementListener(a,"mousedown",(function(){u()}))},_trustedTypesIsSupported=function(e){return void 0!==e&&void 0!==e.createPolicy},_createTrustedTypePolicy=function(e){var n={createHTML:function(e){return e}};return _trustedTypesIsSupported(window.trustedTypes)?window.trustedTypes.createPolicy(e,n):n},trustedTypePolicy=_createTrustedTypePolicy("ybar"),trustHTML=function(e){return trustedTypePolicy.createHTML(e)},getTemplateContent=function(e){if("content"in e)return e.content.cloneNode(!0);for(var n=document.createDocumentFragment(),t=0;t<e.children.length;++t)n.appendChild(e.children[t].cloneNode(!0));return n},isNameCJK=function(e,n){for(var t=e+n,i=0;i<t.length;++i){var o=t.charCodeAt(i);if((o<19968||o>40959)&&(o<13312||o>19903))return!1}return!0},normalizeAndEscapeUserRecord=function(e){var n={fn:e.fn||"",ln:e.ln||"",em:e.em||"",alias:e.alias||"",imageUrl:e.imageUrl,state:e.state,fullName:null,identifier:""};return n.fullName=isNameCJK(n.fn,n.ln)?[n.ln,n.fn].join(""):[n.fn,n.ln].join(" "),n.identifier=n.em||n.alias,n},createAccountItemElement=function(e,n,t){var i=t.ybarAccMenuItemTemplate,o=t.crumb;if(i){var s=(n+1).toString(),r=i.getAttribute("data-signedOutState"),a=i.getAttribute("data-done")||"",c=getTemplateContent(i),l=c.children&&c.children[0];if(!l&&c.childNodes)for(var d=0;d<c.childNodes.length;++d)if(1===c.childNodes[d].nodeType){l=c.childNodes[d];break}if(l){var u=l.querySelector("a");if(u){var p=u.getAttribute("href");p&&u.setAttribute("href",p.replace("[[crumb]]",encodeURIComponent((null==o?void 0:o.value)||"")).replace("[[login]]",encodeURIComponent(e.identifier)).replace("[[page]]",encodeURIComponent(window.location.href)).replace("[[done]]",encodeURIComponent(a)));var f=u.getAttribute("data-ylk");f&&u.setAttribute("data-ylk",f.replace("[[ylk_pos]]",s).replace("[[ylk_slk]]",2===e.state?"saved-acct-signin":"acct-switch")),u.setAttribute("aria-label",e.fullName+" "+e.identifier)}var m=l.querySelector("img");m&&m.setAttribute("src",e.imageUrl);var h=null==u?void 0:u.querySelector("."+Css$4["ybar-user-profile-img"]);2===e.state&&(null==u||u.classList.add(Css$4["ybar-account-menu-item-signed-out"]),h&&h.classList.add(Css$4["ybar-account-img-signed-out"]));var g=l.querySelector("."+Css$4["ybar-account-user-name"]);g&&(g.classList.add(2===e.state?Css$4["signed-out"]:Css$4["signed-in"]),g.innerText=e.fullName||"");var y=l.querySelector("."+Css$4["ybar-account-user-email"]+", ."+Css$4["ybar-account-user-email-other"]);y&&(y.classList.add(2===e.state?Css$4["signed-out"]:Css$4["signed-in"]),y.innerText=e.identifier);var v=l.querySelector("."+Css$4["ybar-account-user-signedout"]+", ."+Css$4["signedout-text"]);return v&&(r=null!==document.querySelector(".".concat(Css$4.homepage_show_saved_accounts))?r:"("+r+")",v.classList.add(2===e.state?Css$4["signed-out"]:Css$4["signed-in"]),v.innerText=2===e.state&&r?r:""),l}}},normalizeAndEscapeUserResponse=function(e){for(var n=e.length-1;n>=0;--n){e[n]=normalizeAndEscapeUserRecord(e[n]);var t=e[n].state;0!==t&&"0"!==t||(window.YBAR&&window.YBAR.setUserEmail(e[n].em),e.splice(n,1)[0])}return e},addDoneUrlToEl=function(e,n,t){return 0===e.indexOf("javascript:")||~e.indexOf("https://membernotifications.aol.com/notice/maillogout")?e:(t&&(t=~e.indexOf("&activity=ybar-")?void 0:t.replace("[[pspid]]",getSpaceId())),~e.indexOf("done=")?(e=e.replace(/\[\[page\]\]/g,encodeURIComponent(window.location.href)),t&&(e+="&"+t),e):~e.indexOf("dest=[[done]]")?e.replace(/\[\[done\]\]/g,encodeURIComponent(n)):(e=appendQorA(e),e+=".done="+encodeURIComponent(n),t&&(e+="&"+t),e))},addDoneUrlToAllLink=function(e,n){var t,i=e.ybarAccMenuItemTemplate,o=e.ybarAccountContainer,s=document.querySelector(".".concat(Css$4["ybar-mod-account"]," .").concat(Css$4["ybar-login-btn"])),r=document.querySelector(".".concat(Css$4["ybar-mod-account"]," .").concat(Css$4["ybar-sign-out"])),a=o&&o.querySelectorAll("a"),c="",l=window.location.href;if(s){var d=s.href;n.onDestroy((function(){s.href=d})),s.href=addDoneUrlToEl(s.href,l,s.getAttribute("data-redirect-params")||void 0)}if(i?(l=i.getAttribute("data-done")||"",c=i.getAttribute("data-sign-out-url")||""):r&&(c=r.getAttribute("data-sign-out-url")||""),a){var u=function(){var e=t,i=a[e].href;n.onDestroy((function(){a[e].href=i}));var o=a[t].getAttribute("data-redirect-params");a[t].classList.contains(Css$4["ybar-sign-out"])?a[t].href=addDoneUrlToEl(a[t].href,c,o||void 0):a[t].href=addDoneUrlToEl(a[t].href,l,o||void 0)};for(t=0;t<a.length;++t)u()}refreshModule()},buildAccSwitcherList=function(e,n,t){var i=n.crumb,o=n.isSmartphone,s=n.ybarAccMenuItemTemplate,r=n.generalSignin,a=n.inSessionSignin,c=n.signInAccountMenu,l=!o&&document.querySelector(".ybar-property-homepage")&&!document.querySelector(".".concat(Css$4.homepage_show_saved_accounts));if(i&&i.value&&s&&!l){getreq({url:"https://jsapi.login.yahoo.com/w/device_users?.crumb="+i.value},(function(i,o){if(i)return e.logError("Account Switcher request failed",i,i._meta),console.error(i);if(o&&o.users&&o.users.length){a&&(a.style.display="block");var s="."+Css$4["ybar-account-menu"].split(" ").join("."),l=normalizeAndEscapeUserResponse(o.users),d=3;if(window.YBAR){var u=window.YBAR.getConfig();(u.bucketConfig.homepage_show_saved_accounts_enabled||u.bucketConfig.show_sign_in_account_menu_enabled)&&(d=2)}for(var p=document.querySelector(".".concat(Css$4["ybar-user-accounts-list"])),f=function(t){var i=createAccountItemElement(l[t],t,n);i&&(null==p||p.appendChild(i)),e.onDestroy((function(){i&&(null==p||p.removeChild(i))}))},m=0;m<l.length&&m<d;++m)f(m);if(l.length>0){var h=document.querySelector("".concat(s," .").concat(Css$4["ybar-sign-out"])),g=h&&h.getAttribute("data-soa"),y=document.querySelector("".concat(s," .").concat(Css$4["ybar-sign-out-text"]));if(y&&g&&(y.innerText=g),c&&c.classList.add(Css$4.show),t){var v=document.querySelector("".concat(s," ").concat(Css$4["ybar-icon-arrow"])),b=Css$4["ybar-icon-arrow-up"],_=Css$4["ybar-icon-arrow-down"],w=Css$4["ybar-item-hidden"],C=document.querySelectorAll(".".concat(Css$4["ybar-item-hidden"]));v&&(v.classList.toggle(_),e.addElementListener(v,"click",(function(){for(var e=0;e<C.length;++e)C[e].classList.toggle(w);null==v||v.classList.toggle(_),null==v||v.classList.toggle(b)})))}}if(l.length>d){var E=document.querySelector("".concat(s," .").concat(Css$4["ybar-see-info"]));E&&E.style&&(E.style.display="block")}addDoneUrlToAllLink(n,e)}else r&&(r.style.display="block")}))}},handleResetBadge=function(e){getNotifClient().resetBadge(),e.notifBadge&&(e.notifBadge.style.display="none"),e.profNotifBadge&&(e.profNotifBadge.style.display="none")},getPath=function(e){if("function"==typeof e.composedPath)return e.composedPath();if(e.path)return e.path;for(var n=e.target,t=[];null!==n.parentNode;)t.push(n),n=n.parentNode;return t.push(document,window),t},notify=function(e,n){var t=n.ybarAccountContainer,i=n.smartphoneNotifContainer,o=n.notificationMenu,s=n.notifBadge,r=n.dropdownContainer,a=n.ybarNotificationBody,c=n.profNotifBadge,l=n.backButton,d=function(e){(null==e?void 0:e.newCount)&&e.newCount>0&&s&&(s.style.display="block",c&&(c.style.display="block",c.innerText="".concat(e.newCount)))},u=getNotifClient(),p=function(){u.refreshPanel().then(d).catch((function(){}))};if(i){p();var f=setInterval((function(){p()}),3e5);e.onDestroy((function(){clearInterval(f)})),e.addElementListener(o,"click",(function(){p(),r&&(r.style.display="block"),t&&(t.style.width="100%",t.scrollTop=0,t.style.overflow="hidden"),handleResetBadge(n),beaconClick("ybar","notification","",{slk:"notification",elm:"btn",elmt:"block"===(null==s?void 0:s.style.display)?"new alert":"",sec:"ybar",subsec:"notification",pkgt:"profile-pane",itc:"1"})})),e.addElementListener(l,"click",(function(){r&&(r.style.display="none"),t&&(t.style.width="",t.style.overflow=""),beaconClick("ybar","back-notification","",{slk:"back-notification",elm:"arrow",pkgt:"profile-pane",sec:"ybar",subsec:"notification",itc:"1"})})),a&&e.addElementListener(a,"click",(function(e){getPath(e).find((function(e){var n=e;if(n.nodeName&&"a"===n.nodeName.toLowerCase()&&n.classList.contains("yns-link"))return r&&(r.style.display="none"),t&&(t.style.width="",t.dispatchEvent(new CustomEvent("toggle-overlay"))),!0}))}))}},pfs=function(e,n,t){var i,o,s,r=/https:\/\/(.+[.])?pfs.yahoo.com(:[0-9]+)?/,a=e.getConfig(),c=new URLSearchParams({activity_p:"ybar"}),l=null,d="https://pfs.yahoo.com/",u=function(){var e;null===l&&((l=document.createElement("iframe")).src="".concat(d,"?").concat(c.toString()),l.sandbox.add("allow-forms"),l.sandbox.add("allow-scripts"),l.sandbox.add("allow-same-origin"),l.classList.add(t),null===(e=n.ybarAccountMenuBody)||void 0===e||e.appendChild(l))};if(n.ybarAccountMenu){if(e.addElementListener(n.ybarAccountMenu.parentNode,"mouseenter",u,{once:!0}),e.addElementListener(n.ybarAccountMenu.parentNode,"focus",u,{once:!0}),n.ybarAccountContainer)n.ybarAccountContainer.style.width="377px","false"===n.ybarAccountContainer.getAttribute("data-prod")&&(d="https://stage.pfs.yahoo.com/"),c.set("intl","us"),c.set("src",a.property),c.set("lang",a.locale),c.set("theme",(i="light",o=document.documentElement,null!==(s=o.getAttribute("data-color-theme-enabled"))&&"false"!==s&&(i="dark"===o.getAttribute("data-color-scheme")?"dark":"auto"),i)),c.set("done",window.location.href),c.set("pspid",getSpaceId());window.addEventListener("message",(function(e){if(r.test(e.origin)){var n=function(e){var n={cmd:"noop",params:{height:"0px",url:""}};try{n=JSON.parse(e)}catch(e){return}return n}(e.data);if(null!==l&&(null==n?void 0:n.cmd)&&e.source&&!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker))switch(n.cmd){case"iframeready":e.source.postMessage(JSON.stringify({cmd:"initialize",params:{height:window.innerHeight-40,maxAccounts:3,enableAnimations:!0,animationDuration:"500ms",animationTimingFunction:"ease-in-out"}}),e.origin);break;case"hide":case"hide-for-animation":l.style.visibility="hidden";break;case"show":case"resize":l.style.visibility="visible",l.style.height=n.params.height;break;case"redirect":window.location=n.params.url}}}))}},DOCUMENT_NODE_TYPE=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}function closest(e,n){for(;e&&e.nodeType!==DOCUMENT_NODE_TYPE;){if("function"==typeof e.matches&&e.matches(n))return e;e=e.parentNode}}var closest_1=closest;function _delegate(e,n,t,i,o){var s=listener.apply(this,arguments);return e.addEventListener(t,s,o),{destroy:function(){e.removeEventListener(t,s,o)}}}function delegate(e,n,t,i,o){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof t?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return _delegate(e,n,t,i,o)})))}function listener(e,n,t,i){return function(t){t.delegateTarget=closest_1(t.target,n),t.delegateTarget&&i.call(e,t)}}var delegate_1=delegate,ListNode=function(e){this.data=e,this.next=null,this.prev=null},LinkedList=function(){function e(){this.head=null,this.tail=null}return e.prototype.push=function(e){var n=new ListNode(e);return this.head?this.tail?(n.prev=this.tail,this.tail.next=n,this.tail=n):(this.tail=n,this.tail.prev=this.head,this.head.next=this.tail):(this.head=n,n.next=this.tail),n},e.prototype.size=function(){for(var e=0,n=this.head;n;)e+=1,n=n.next;return e},e.prototype.getHead=function(){return this.head},e.prototype.getTail=function(){return this.tail},e.prototype.get=function(e){if(e>=this.size())return null;for(var n=0,t=this.head;(null==t?void 0:t.next)&&n<e;)n+=1,t=t.next;return t},e.prototype.unshift=function(e){var n=new ListNode(e);return this.head?this.tail?(n.next=this.head,this.head.prev=n,this.head=n):(n.next=this.head,this.head.prev=n,this.tail=this.head,this.head=n):(this.head=n,n.next=this.tail),n},e.prototype.shift=function(){if(!this.head)return null;var e=this.head;if(!this.tail)return this.head=null,e;var n=this.head.next;return n&&(this.head=n,this.head.prev=null),this.head===this.tail&&(this.head.next=null,this.tail=null),e},e}(),Direction;!function(e){e.next="next",e.prev="prev"}(Direction||(Direction={}));var A11yNavigation=function(){function e(e,n){this.leftRightMap=new Map,this.upDownMap=new Map,this.moreMenuLinkedList=new LinkedList,e&&n.containerElm&&(this.ybar=e,this.options=n,this._init())}return e.prototype._init=function(){var e=this,n=this.options.isUserAccountNavigation?this.options.containerElm.querySelectorAll("a"):this.options.containerElm.querySelectorAll(this.options.navlistItemSelector||"li"),t=this.options.isUserAccountNavigation?__spreadArray(__spreadArray([],this.options.loggedInUser,!0),n,!0):__spreadArray([],n,!0),i=new LinkedList;if(this.options.isUserAccountNavigation?t.forEach((function(n){"A"===n.nodeName&&n.setAttribute("tabindex","-1");var t=i.push(n),o={list:i,node:t};e.upDownMap.set(n,o)})):t.forEach((function(n){var t=n.getElementsByTagName("A");if(0!==t.length){var o=t[0],s=i.push(o),r={list:i,node:s};if(e.leftRightMap.set(o,r),e.options.dropdownClass&&n.classList.contains(e.options.dropdownClass))for(var a=new LinkedList,c=0;c<t.length;c++){var l=t[c],d=a.push(l);e.leftRightMap.set(l,r);var u={list:a,node:d};e.upDownMap.set(l,u)}}})),this.options.enableMoreMenu&&this.options.moreMenuNavElm){this.leftRightMap.set(this.options.moreMenuNavElm,{list:i,node:{data:this.options.moreMenuNavElm,get next(){return i.getHead()},get prev(){for(var e=i.getHead();null==e?void 0:e.next;){if("-1"===e.next.data.getAttribute("tabindex"))break;e=e.next}return e}}});var o=this.moreMenuLinkedList;this.upDownMap.set(this.options.moreMenuNavElm,{list:this.moreMenuLinkedList,node:{data:this.options.moreMenuNavElm,get next(){return o.getHead()},get prev(){return o.getTail()}}})}this._addEventListeners()},e.prototype.unshiftMoreMenuItem=function(e){if(e){var n=this.moreMenuLinkedList.unshift(e);this.upDownMap.set(e,{list:this.moreMenuLinkedList,node:n});var t=this.leftRightMap.get(this.options.moreMenuNavElm);t&&this.leftRightMap.set(e,t)}},e.prototype.shiftMoreMenuItem=function(){var e=this.moreMenuLinkedList.shift();e&&(this.upDownMap.delete(e.data),this.leftRightMap.delete(e.data))},e.prototype._addEventListeners=function(){var e=this,n=delegate_1(this.options.containerElm,"a","keydown",(function(n){e._keydownHandler(n)}),!0);this.options.isUserAccountNavigation&&this.ybar.addElementListener(this.options.loggedInUserElement,"keydown",(function(n){e._keydownHandler(n)})),this.options.enableMoreMenu&&this.ybar.addElementListener(this.options.moreMenuNavElm,"keydown",(function(n){e._keydownHandler(n)})),this.ybar.onDestroy((function(){n.destroy()}))},e.prototype._keydownHandler=function(e){var n=e.delegateTarget||e.currentTarget;switch(e.key){case"Down":case"ArrowDown":e.preventDefault(),this._go(n,this.upDownMap,Direction.next);break;case"Up":case"ArrowUp":e.preventDefault(),this._go(n,this.upDownMap,Direction.prev);break;case"Left":case"ArrowLeft":e.preventDefault(),this._go(n,this.leftRightMap,Direction.prev);break;case"Right":case"ArrowRight":e.preventDefault(),this._go(n,this.leftRightMap,Direction.next);break;case"Spacebar":case" ":n.click();break;default:return}},e.prototype._go=function(e,n,t){var i=this,o=n.get(e);if(o){for(var s=o.list,r=o.node[t];r&&"none"===window.getComputedStyle(r.data).display;)r=r[t];if(!r)for(r=t===Direction.next?s.getHead():s.getTail();r&&"none"===window.getComputedStyle(r.data).display;)r=r[t];setTimeout((function(){i.options.enableMoreMenu&&i.options.moreMenuNavElm&&"-1"===(null==r?void 0:r.data.getAttribute("tabindex"))?i.options.moreMenuNavElm.focus():null==r||r.data.focus()}),1)}},e}(),canBuildAccSwitcherList=!0,accSettingDropdownOpen=!1,visibilityTracking=0,params,imageElementsConfig={ybarAccountImage:{selector:"ybar-account-img",size:"64"},ybarCurrentUserProfileImage:{selector:"ybar-current-user-profile-img",size:"128"},ybarUserProfileImage:{selector:"ybar-user-profile-img",size:"128"}},pictureOnErrorForSize=function(e,n){var t="https://s.yimg.com/wm/modern/images/default_user_profile_pic_"+e+".png";n.onerror=null,n.srcset="",n.src=t},init$3=function(e,n){var t=n.ybarAccountContainer,i=n.ybarAccountMenu,o=n.ybarMobile,s=n.isSmartphone,r=n.ybarMenuManagePub,a=n.arrowWrapper,c=n.downArrow,l=n.upArrow,d=n.mailNode,u=n.notifyContainer,p=n.otherAccWrapper,f=n.signInAccountMenu,m=n.signInBtn,h=n.ybarModAccount,g=n.yahooPlusImpression;new A11yNavigation(e,{containerElm:n.ybarAccountContainer,isUserAccountNavigation:!0,loggedInUser:n.loggedInUser,loggedInUserElement:n.loggedInUserElement});var y=function(i){if(t)t.style.removeProperty("display"),"false"===t.getAttribute("data-enabled")&&(t.style.display="none"),addDoneUrlToAllLink(n,e);else{var o=new Error("ybarAccountContainer not Found");logError("ERROR:",o)}t&&canBuildAccSwitcherList&&(canBuildAccSwitcherList=!1,e.onDestroy((function(){canBuildAccSwitcherList=!0})),buildAccSwitcherList(e,n,i))},v=function(){var e,n;0===visibilityTracking&&(visibilityTracking=1,null===(e=null==i?void 0:i.parentNode)||void 0===e||e.removeEventListener("mouseenter",v),null===(n=null==i?void 0:i.parentNode)||void 0===n||n.removeEventListener("focusin",v),setTimeout((function(){refreshModule()}),500))},b=function(){null==t||t.classList.remove("ybarMenuOpen"),null==i||i.setAttribute("aria-expanded","false")},_=function(){if(g&&!g.getAttribute("src")&&g.getAttribute("data-src")){var n=g.getAttribute("data-src")||"";addConsentToUrl(n).then((function(e){g.setAttribute("src",e)})),e.onDestroy((function(){g.setAttribute("src","")}))}};if(m&&(addHoverEvent(e,m,"ybar","sign-in",params={elm:"signin",subsec:"settings",itc:"2"}),addDoneUrlToAllLink(n,e)),i||o||f){if(o)y(!0);else{if(t&&"true"===t.getAttribute("data-pfs"))return void pfs(e,n,Css$4["pfs-iframe"]);if(y(!1),e.addEventListener("close-all-menus",(function(){f&&f.classList.contains(Css$4.show)&&f.parentNode&&!isHovered(f.parentNode)&&b()})),e.onDestroy((function(){b()})),i){if(i.onchange=function(){e.triggerEvent("close-all-menus")},params={itc:"2",elm:"menu",elmt:"user-info",subsec:"accounts"},s){var w=document.querySelector("#ybarAccountMenuOpener");w&&w.setAttribute("data-ylk","slk:Settings;elm:btn;sec:ybar;subsec:settings;pkgt:profile-pane;itc:0;tar:login.yahoo.com"),function(){t&&addOverlay(t,"right",e);var n=document.querySelector(".".concat(Css$4["ybar-icon-image-wrapper"]));e.addElementListener(n,"click",(function(){null==t||t.dispatchEvent(new CustomEvent("toggle-overlay"))}))}(),e.addElementListener(a,"click",(function(){var e,n;accSettingDropdownOpen?(null==c||c.classList.remove("hide"),null==l||l.classList.add("hide"),p&&(p.style.height="0")):(null==c||c.classList.add("hide"),null==l||l.classList.remove("hide"),p&&(n=(e=p).scrollHeight,e.style.height=n+"px"));var t="manage-account-open",i={elm:"expand",subsec:"settings",pkgt:"profile-pane",itc:"1"};(accSettingDropdownOpen=!accSettingDropdownOpen)||(t="manage-account-close",i.elm="btn"),beaconClick("ybar",t,"",i)})),notify(e,n)}else{var C=document.querySelector("#ybarAccountMenu + label");C&&(addHoverEvent(e,C,"ybar","profile-expand",params),e.addElementListener(C,"mouseenter",_),e.addElementListener(h,"focus",_)),i&&i.parentNode&&(e.addElementListener(i.parentNode,"mouseenter",v),e.addElementListener(i.parentNode,"focusin",v))}hideOutlineOnMouseDown("#ybarAccountMenu","#ybarAccountMenu + label",e)}e.addElementListener(h,"focusin",(function(){null==t||t.classList.add("ybarMenuOpen"),null==i||i.setAttribute("aria-expanded","true")})),e.addElementListener(h,"focusout",b),e.addElementListener(r,"click",b),u&&(e.addElementListener(u,"focusin",b),e.addElementListener(u,"mouseenter",b)),d&&(e.addElementListener(d,"focusin",b),e.addElementListener(d,"mouseenter",b))}Object.keys(imageElementsConfig).forEach((function(e){var n=imageElementsConfig[e],t=document.querySelector(".".concat(Css$4[n.selector]));t&&(t.onerror=function(){pictureOnErrorForSize(n.size,t)})}))}};initModule("ybar-account-init",(function(e){var n=document.getElementById("ybarAccountContainer"),t={ybarAccountContainer:n,ybarAccountMenu:document.getElementById("ybarAccountMenu"),loggedInUser:document.querySelectorAll("#ybarAccountProfile"),loggedInUserElement:document.getElementById("ybarAccountProfile"),ybarMobile:document.querySelector(".".concat(Css$4.mobile," .").concat(Css$4["ybar-account-user-email"])),isSmartphone:document.querySelector(".".concat(Css$4.smartphone)),ybarMenuManagePub:document.getElementById("ybarMenuManagePub"),arrowWrapper:document.getElementById("smartphone-arrow"),downArrow:document.getElementById("down-arrow"),upArrow:document.getElementById("up-arrow"),otherAccWrapper:document.getElementById("otherAccWrapper"),signInAccountMenu:document.querySelector(".".concat(Css$4["ybar-mod-account"]," .").concat(Css$4["sign-in-menu"])),signInBtn:document.querySelector(".".concat(Css$4["ybar-mod-account"]," .").concat(Css$4["ybar-login-btn"])),ybarModAccount:document.querySelector(".".concat(Css$4["ybar-mod-account"])),yahooPlusImpression:n&&n.querySelector(".".concat(Css$4["ybar-account-yahoo-plus-imp"])),crumb:document.querySelector('input[name="crumb"]'),ybarAccMenuItemTemplate:document.getElementById("ybarAccMenuItemTemplate"),generalSignin:document.getElementById("generalSignin"),inSessionSignin:document.getElementById("inSessionSignin"),notifyContainer:document.getElementById("notification-container"),mailNode:document.getElementById("ybarMailLink"),smartphoneNotifContainer:document.getElementById("smartphoneNotifContainer"),notificationMenu:document.getElementById("smartphoneNotifMenu"),notifBadge:document.getElementById("notif-badge"),profNotifBadge:document.querySelector(".".concat(Css$4["prof-notif-badge"])),dropdownContainer:document.getElementById("notifDropdownContainer"),ybarNotificationBody:document.getElementById("ybarNotificationBody"),backButton:document.getElementById("backButton"),ybarAccountMenuBody:document.getElementById("ybarAccountMenuBody")};init$3(e,t)}));var Css$2={"popover-body":"_yb_w7zhl","ybar-mail-item-desc":"_yb_1mlm5","ybar-mail-item-image":"_yb_12cf0","ybar-mail-item-link":"_yb_7d7b7","ybar-mail-item-name":"_yb_11ucl","ybar-mail-item-snippet":"_yb_ppzkp","ybar-mail-item-time":"_yb_1yott","ybar-mail-item-unread":"_yb_te0b7","ybar-mail-link":"_yb_h8d1c","ybar-mail-list":"_yb_ri3n5","ybar-mail-preview":"_yb_1c2pn","ybar-mail-signin-link":"_yb_13b37","ybar-mod-mail":"_yb_17v8j","ybar-mod-mail-promo-imp":"_yb_j9th9"},loadAssets=function(e,n,t){for(var i,o,s=[],r=[],a=0;a<e.length;++a)i="https://s.yimg.com"+e[a].value,o=void 0,(o=document.createElement("link")).rel="stylesheet",o.type="text/css",o.href=i,r.push(o),document.getElementsByTagName("head")[0].appendChild(o);for(a=0;a<n.length;++a)s.push("s:"+n[a].value);var c="https://s.yimg.com/zz/combo?"+s.join("&");if(e.length){document.getElementById("atomic")||document.documentElement.getAttribute("id")||(document.documentElement.id="atomic");var l=setInterval((function(){for(var e=!0,n=0;n<r.length;++n)e=e&&Boolean(r[n].sheet);e&&(clearInterval(l),t(),void 0===window.wafer&&s.length>0&&function(e){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}(c))}),10)}},getNextGenMailPreview=function(e){postreq({url:"/fp_ngymtls_ms/_rcv/remote",body:{m_id:"react-wafer-mailpreview",m_mode:"json",ctrl:"MailPreview"}},(function(n,t){n||e(t)}))},loaded=!1,init$2=function(e,n){var t=n.mailModule,i=n.mailLink,o=n.mailSigninLink,s=n.ybarMailMessages;if(t){var r=new Jws;if(e.addElementListener(t,"mouseenter",(function(){e.triggerEvent("close-all-menus"),triggerRapidBeacon()})),e.addEventListener("close-all-menus",(function(){isHovered(t)||hideMailPopover(n)})),e.onDestroy((function(){hideMailPopover(n)})),loaded=!1,loadUnreadCount(e,n,r),s)e.addElementListener(i,"mouseover",(function(){loadMessages(e,n,r),fireYahooImpBeacon(e,n)})),e.addElementListener(i,"focus",(function(){loadMessages(e,n,r),triggerRapidBeacon(),fireYahooImpBeacon(e,n)}));else{var a=i.getAttribute("data-redirect-params");if(a&&""!==a){var c=i.href;e.onDestroy((function(){i.href=c})),a=-1!==i.href.indexOf("&activity=ybar-")?"":a.replace(/\[\[pspid\]\]/,getSpaceId()),i.href=appendQorA(i.href)+a,(null==o?void 0:o.href)&&(o.href=appendQorA(o.href)+a)}}}},mailBeaconTimeout=!1,triggerRapidBeacon=function(){mailBeaconTimeout||(mailBeaconTimeout=!0,sendRapid({slk:"Mail",elm:"expand",sec:"ybar",subsec:"mailprev",itc:"2"}),setTimeout((function(){mailBeaconTimeout=!1}),1e3))},sendRapid=function(e){beaconClick("ybar",(null==e?void 0:e.slk)||"Mail","",e,null)},relativeDate=function(e){if(!e)return"";var n=Math.round((new Date).getTime()/1e3)-e;return n<60?n+"s":n<3600?Math.floor(n/60)+"m":n<=86400?Math.floor(n/3600)+"h":n>86400?Math.floor(n/86400)+"d":""},createMailItemElement=function(e,n,t,i){var o,s=getTemplateContent(n.ybarMailItemTemplate),r=null===(o=s.children)||void 0===o?void 0:o[0];if(!r&&s.childNodes)for(var a=0;a<s.childNodes.length;++a)if(1===s.childNodes[a].nodeType){r=s.childNodes[a];break}if(r){var c=r.querySelector("a."+Css$2["ybar-mail-item-link"]);if(c)if(c.setAttribute("href","https://mrd.mail.yahoo.com/msg?fid=Inbox&src=hp&mid="+encodeURIComponent(t.mid)),c.setAttribute("aria-label",(c.getAttribute("aria-label")||"").replace("[[mail_from]]",t.from).replace("[[mail_subject]]",t.subject)),e.addElementListener(c,"click",(function(){n.mailPreview&&(n.mailPreview.style.pointerEvents="none"),sendRapid({slk:"message-"+(t.read?"old":"new"),elm:"btn",subsec:"mailprev",pos:i,itc:"0",tar:"mail.yahoo.com",tar_uri:"/msg?fid=Inbox&src=hp&mid="+t.mid})})),t.read);else{var l=c.querySelector("span");null==l||l.classList.add(Css$2["ybar-mail-item-unread"])}var d=r.querySelector("."+Css$2["ybar-mail-item-name"]);d&&(d.innerText=t.from);var u=r.querySelector("."+Css$2["ybar-mail-item-desc"]);u&&(u.innerText=t.subject);var p=r.querySelector("."+Css$2["ybar-mail-item-snippet"]);p&&(p.innerText=t.snippet);var f=r.querySelector("."+Css$2["ybar-mail-item-time"]);f&&(f.innerText=relativeDate(t.date));var m=r.querySelector("."+Css$2["ybar-mail-item-image"]);return m&&m.setAttribute("src","https://data.mail.yahoo.com/xobni/v4/endpoints/smtp:"+encodeURIComponent(t.email)+"/photo?psize=24X24&fallback_url=https%3A%2F%2Fs.yimg.com%2Fdh%2Fap%2Fsocial%2Fprofile%2Fprofile_a24.png&alphatar_photo=true&format=image"),r}},fireYahooImpBeacon=function(e,n){var t=n.impressionElem;if(t&&!t.getAttribute("src")&&t.getAttribute("data-src")){var i=t.getAttribute("data-src")||"";addConsentToUrl(i).then((function(e){t.setAttribute("src",e)})),e.onDestroy((function(){t.setAttribute("src","")}))}},showMailPopover=function(e){var n,t;null===(n=e.mailPreview)||void 0===n||n.classList.add("ybarMenuOpen"),null===(t=e.mailLink)||void 0===t||t.setAttribute("aria-expanded","true")},hideMailPopover=function(e){var n,t;null===(n=e.mailPreview)||void 0===n||n.classList.remove("ybarMenuOpen"),null===(t=e.mailLink)||void 0===t||t.setAttribute("aria-expanded","false")},loadUnreadCount=function(e,n,t){var i=n.mailUnread,o=n.mailUnreadSpan,s=n.isFuji2;t.fetchCount().then((function(n){if(i&&n>0){if(i.style.visibility="visible",o){var t=n>999,r=s?"99+":"999+";o.textContent=t?r:n+""}e.onDestroy((function(){i.style.visibility="hidden",o&&(o.textContent="")}))}})).catch((function(){}))},loadMessages=function(e,n,t){loaded||(loaded=!0,n.isNextGenYahoo?loadNGYMailPreview(e,n):loadMailPreview(e,n,t))},loadMailPreview=function(e,n,t){t.fetchPreview().then((function(t){var i;if(t&&0!==t.length){var o=document.createElement("ul");o.className=Css$2["ybar-mail-list"];for(var s=0;s<t.length;++s){var r=createMailItemElement(e,n,t[s],s);r&&o.appendChild(r)}e.addElementListener(n.mailPreview,"focusin",(function(){showMailPopover(n)})),e.addElementListener(n.mailPreview,"focusout",(function(){hideMailPopover(n)}));var a=n.ybarMailMessages;a&&(null===(i=n.popoverBody)||void 0===i||i.replaceChild(o,a)),e.onDestroy((function(){var e;a&&(null===(e=n.popoverBody)||void 0===e||e.replaceChild(a,o))}))}else n.ybarMailMessages&&(n.ybarMailMessages.children[0].style.display="none",n.ybarMailMessages.children[1].style.display="block")})).catch((function(){}))},loadNGYMailPreview=function(e,n){getNextGenMailPreview((function(t){var i=getObjectValue(t,"assets.css",[]),o=getObjectValue(t,"assets.js",[]);loadAssets(i,o,(function(){if(n.mailPreviewPopover&&(null==t?void 0:t.html))window.wafer&&window.wafer.base.destroy(n.mailPreviewPopover),n.mailPreviewPopover.innerHTML=trustHTML(t.html),window.wafer&&window.wafer.base.sync(n.mailPreviewPopover);else{var e=new Error("Mail preview content not available");logError("Mail Preview Error",e)}})),e.addElementListener(n.mailPreview,"focusin",(function(){showMailPopover(n)})),e.addElementListener(n.mailPreview,"focusout",(function(){hideMailPopover(n)}))}))};initModule("ybar-mail-init",(function(e){var n=document.getElementById("ybarUnread"),t={mailModule:document.querySelector(".".concat(Css$2["ybar-mod-mail"])),isFuji2:null!==document.querySelector(".ybar-ytheme-fuji2"),mailLink:document.querySelector(".".concat(Css$2["ybar-mail-link"])),mailSigninLink:document.querySelector(".".concat(Css$2["ybar-mail-signin-link"])),mailUnread:n,mailUnreadSpan:null==n?void 0:n.querySelector("span"),ybarMailMessages:document.getElementById("ybarMailMessages"),mailPreview:document.getElementById("ybarMailPreview"),popoverBody:document.querySelector(".".concat(Css$2["popover-body"].split(" ").join("."))),ybarMailItemTemplate:document.getElementById("ybarMailItemTemplate"),isNextGenYahoo:null!==document.querySelector(".ybar-property-ngy"),mailPreviewPopover:document.querySelector(".".concat(Css$2["ybar-mail-preview"].split(" ").join(".")," .").concat(Css$2["popover-body"].split(" ").join("."))),impressionElem:document.querySelector(".".concat(Css$2["ybar-mod-mail-promo-imp"]))};init$2(e,t)}));var focused="_yb_969uo",Css$1={"dropdown-open":"_yb_7z9tf","dropdown-wrapper":"_yb_191pj",focused:focused,"long-list":"_yb_12m2e","navigation-dropdown-item":"_yb_1gy47","navigation-dropdown-list":"_yb_1m6cf","ybar-nav-list-desktop":"_yb_1cp3y","ybar-navigation-item":"_yb_1mh4q","ybar-parent-navigation":"_yb_1u42l","ybar-sub-navigation":"_yb_17pzk"},showMailUnreadCount=function(e){var n=document.querySelector("#ybar-navigation-item-mail"),t=document.querySelector("#ybar-navigation-item-mail > a"),i=document.querySelector("#ybar-navigation-item-mail > a > span");null!==n&&null!==t&&(new Jws).fetchCount().then((function(n){i&&n>0&&(i.textContent="("+(n>999?"999+":n)+")",e.onDestroy((function(){i.textContent=""})))})).catch((function(){}))},nodeContains=function(e,n){var t=!1;if(!e||!n)return t;if("function"==typeof e.contains)t=e.contains(n);else for(var i=n;i;){if(i===e){t=!0;break}i=i.parentElement}return t},MORE_MENU_WIDTH=61,MORE_MENU_LONG_LIST_COUNT=10,moreMenuIndex=-1,marginLeftOffset,initDropdowns=function(e,n){var t;__spreadArray([],null===(t=n.ybarNav)||void 0===t?void 0:t.querySelectorAll(".".concat(n.dropdownOpenClass)),!0).forEach((function(e){return e.classList.remove(n.dropdownOpenClass)}));var i=n.isTablet?"touchstart":"mouseover",o=delegate_1(".".concat(n.dropdownWrapperClass,", .").concat(n.navigationDropdownListClass),i,(function(t){if(window||document){var i=window.innerWidth||document.documentElement.clientWidth,o=t.delegateTarget;if(o&&-1!=o.className.indexOf(n.dropdownWrapperClass)&&(o=o.querySelector(".".concat(n.navigationDropdownListClass))),o){o.style.removeProperty("left"),n.shiftMoreMenuEnabled&&o.style.removeProperty("margin-left"),n.shiftMoreMenuEnabled&&marginLeftOffset&&(o.style.marginLeft=marginLeftOffset+"px");var s=o.getBoundingClientRect().right;s>i&&(n.shiftMoreMenuEnabled?(marginLeftOffset||(marginLeftOffset=parseInt(window.getComputedStyle(o).marginLeft,10)),o.style.marginLeft=marginLeftOffset+i-s+"px"):o.style.left=i-s+"px")}}else{var r=new Error("Dropdown could not be initialized");e.logError("Error:",r)}}));e.onDestroy((function(){o.destroy()}))},updateMoreMenu=function(e,n,t){var i,o,s,r=-1,a=0;if(e.ybarNav){var c=window.getComputedStyle(e.ybarNav),l=parseInt(c.width,10)-parseInt(c.paddingLeft,10)-parseInt(c.paddingRight,10),d=MORE_MENU_WIDTH,u=e.navigationPlacement();if(u)d+=u.getBoundingClientRect().width;for(var p=0;p<e.navItems.length;++p){var f=e.navItems[p].getBoundingClientRect().width,m=l-d;if(a+f>m&&(p!==e.navItems.length-1||a+f>m||e.moreMenuDropdown&&e.moreMenuDropdown.hasChildNodes()&&moreMenuIndex<0)){r=p;break}a+=f}if(-1===r&&-1!==moreMenuIndex&&a<=l){for(var h=moreMenuIndex;h<e.navItems.length&&e.moreMenuDropdown&&e.moreMenuDropdown.hasChildNodes()&&e.moreMenuDropdown.firstChild;)e.moreMenuDropdown.removeChild(e.moreMenuDropdown.firstChild),t.shiftMoreMenuItem(),null===(i=e.navItems[h].querySelector("a"))||void 0===i||i.setAttribute("tabindex","0"),h++;moreMenuIndex=-1,e.navList&&(e.navList.style.maxWidth="none")}if(-1!==r&&r!==moreMenuIndex){if(r>moreMenuIndex&&-1!==moreMenuIndex)for(var g=moreMenuIndex;g<r&&e.moreMenuDropdown&&e.moreMenuDropdown.hasChildNodes()&&e.moreMenuDropdown.firstChild;)e.moreMenuDropdown.removeChild(e.moreMenuDropdown.firstChild),t.shiftMoreMenuItem(),null===(o=e.navItems[g].querySelector("a"))||void 0===o||o.setAttribute("tabindex","0"),g++;else for(var y=-1===moreMenuIndex?e.navItems.length-1:moreMenuIndex-1;y>=r;){var v=e.navItems[y].cloneNode(!0),b=v.querySelector("a");b&&(b.setAttribute("id",""),b.classList.remove(Css$1.focused));var _=v.querySelector(".".concat(e.navigationDropdownListClass));if(_&&(_.style.display="none"),v.classList.remove(e.dropdownWrapperClass),v.classList.remove(e.ybarNavigationItemClass),v.classList.add(e.navigationDropdownItemClass),e.moreMenuDropdown){e.moreMenuDropdown.insertBefore(v,e.moreMenuDropdown.firstChild);var w=v.getElementsByTagName("a")[0];t.unshiftMoreMenuItem(w)}null===(s=e.navItems[y].querySelector("a"))||void 0===s||s.setAttribute("tabindex","-1"),y--}moreMenuIndex=r}if(-1!==r&&e.navList){var C=parseInt(a.toString(),10)+"px";e.navList.style.maxWidth=C,n.textContent=".".concat(Css$1["ybar-nav-list-desktop"],"{ max-width: ").concat(C,"}")}e.moreMenuNavItem&&e.moreMenuDropdown&&e.moreMenuDropdown.hasChildNodes()?(e.moreMenuNavItem.classList.add(e.dropdownWrapperClass),e.moreMenuNavItem.style.visibility="visible"):null!==e.moreMenuNavItem&&(e.moreMenuNavItem.classList.remove(e.dropdownWrapperClass),e.moreMenuNavItem.style.visibility="hidden"),e.moreMenuDropdown&&e.moreMenuDropdown.childElementCount>MORE_MENU_LONG_LIST_COUNT?e.moreMenuDropdown.classList.add(e.longListClass):null!==e.moreMenuDropdown&&e.moreMenuDropdown.classList.remove(e.longListClass)}},handleDropdownFocus=function(e,n){var t=delegate_1(".".concat(n.dropdownWrapperClass),"focusin",(function(e){var t=e.delegateTarget;t&&t.classList.contains(n.dropdownWrapperClass)&&t.classList.add(n.dropdownOpenClass)})),i=delegate_1(".".concat(n.dropdownWrapperClass,", .").concat(n.navigationDropdownListClass),"focusout",(function(e){var t=e.delegateTarget;if(null==t?void 0:t.classList.contains(n.navigationDropdownListClass)){var i=t.parentElement;i&&!i.contains(e.relatedTarget)&&i.classList.contains(n.dropdownWrapperClass)&&i.classList.remove(n.dropdownOpenClass)}else(null==t?void 0:t.classList.contains(n.dropdownOpenClass))&&t.classList.remove(n.dropdownOpenClass)}));e.onDestroy((function(){var e;t.destroy(),i.destroy(),__spreadArray([],null===(e=n.ybarNav)||void 0===e?void 0:e.querySelectorAll(".".concat(n.dropdownOpenClass)),!0).forEach((function(e){e.classList.remove(n.dropdownOpenClass);var t=document.activeElement;nodeContains(n.ybarNav,t)&&setTimeout((function(){null==t||t.blur()}),1)}))}))},setNavigationFocus=function(e,n,t,i){for(var o=n||window.location.pathname,s=t||window.location.hostname,r=(i||{}).setParentFocus,a=void 0!==r&&r,c=__spreadArray([],e.topLevelNavLinks,!0),l=null,d=null,u=0;u<c.length&&(!l||!d);u++){var p=c[u];p.classList.contains(Css$1.focused)&&(l=p);var f=p.hostname,m=p.pathname;if(f===s&&m===o)d=p;else if(a&&!d){var h=p.parentElement;if(null==h?void 0:h.classList.contains(Css$1["dropdown-wrapper"]))for(var g=__spreadArray([],h.querySelectorAll(".".concat(Css$1["navigation-dropdown-list"]," a")),!0),y=0;y<g.length;y++){var v=g[y],b=v.hostname,_=v.pathname;if(b===s&&_===o){d=p;break}}}}d&&d!==l&&(null==l||l.classList.remove(Css$1.focused),d.classList.add(Css$1.focused))},init$1=function(e,n){e.onDestroy((function(){moreMenuIndex=-1,marginLeftOffset=0,n.moreMenuDropdown&&(n.moreMenuDropdown.innerHTML="")}));for(var t=function(n){e.triggerEvent("navigation",{event:n})},i=0;i<n.navLinks.length;++i)e.addElementListener(n.navLinks[i],"click",t);var o=!!(n.shiftMoreMenuEnabled&&n.isFuji2&&n.navList&&n.navItems&&n.navItems.length>0),s=new A11yNavigation(e,{containerElm:n.ybarNav,navlistItemSelector:".".concat(Css$1["ybar-parent-navigation"]," > li"),dropdownClass:n.dropdownWrapperClass,enableMoreMenu:o,moreMenuNavElm:n.moreMenuMainFocusItem,isUserAccountNavigation:!1});initDropdowns(e,n),showMailUnreadCount(e),e.addElementListener(document,"DOMContentLoaded",(function(){showMailUnreadCount(e)})),handleDropdownFocus(e,n);var r=e.getConfig().bucketConfig,a=(void 0===r?{}:r).enableDynamicNavfocus;if(void 0!==a&&a&&setNavigationFocus(n),e.addEventListener("nav:setFocus",(function(e){var t=e.detail,i=void 0===t?{}:t,o=i.hostname,s=void 0===o?window.location.hostname:o,r=i.pathname,a=void 0===r?window.location.pathname:r,c=i.options;setNavigationFocus(n,a,s,void 0===c?{}:c)})),o){var c=document.createElement("style");c.title="ybar_nav_interim",document.head.appendChild(c);var l=delegate_1("#ybar-nav-more-menu ul a","click",(function(n){e.triggerEvent("navigation",{event:n})}));e.addEventListener("nav:resize",(function(){updateMoreMenu(n,c,s)})),updateMoreMenu(n,c,s),e.addElementListener(window,"load",(function(){updateMoreMenu(n,c,s)})),e.addElementListener(window,"resize",(function(){updateMoreMenu(n,c,s)})),e.onDestroy((function(){var e=c.parentNode;null==e||e.removeChild(c),l.destroy()}))}},SELECTOR_MORE_MENU="#ybar-nav-more-menu";initModule("ybar-mod-navigation",(function(e){var n,t={dropdownWrapperClass:Css$1["dropdown-wrapper"],isFuji2:null!==document.querySelector(".ybar-ytheme-fuji2"),isTablet:null!==document.querySelector(".tablet"),longListClass:Css$1["long-list"],moreMenuDropdown:document.querySelector("".concat(SELECTOR_MORE_MENU," ul")),moreMenuNavItem:document.querySelector(SELECTOR_MORE_MENU),moreMenuNavLinksSelector:"".concat(SELECTOR_MORE_MENU," ul a"),moreMenuMainFocusItem:document.querySelector("".concat(SELECTOR_MORE_MENU,' > span[tabindex="0"]')),navigationDropdownItemClass:Css$1["navigation-dropdown-item"],navigationDropdownListClass:Css$1["navigation-dropdown-list"],navItems:document.querySelectorAll("li.".concat(Css$1["ybar-navigation-item"])),topLevelNavLinks:document.querySelectorAll("li.".concat(Css$1["ybar-navigation-item"]," > a")),navLinks:document.querySelectorAll(".ybar-mod-navigation a"),navList:document.querySelector(".ybar-mod-navigation ul"),shiftMoreMenuEnabled:document.querySelector(".ybar-shift-more-menu"),ybarNav:document.getElementById("ybar-navigation"),ybarNavigationItemClass:Css$1["ybar-navigation-item"],dropdownOpenClass:Css$1["dropdown-open"],navigationPlacement:function(){return n||(n=document.getElementById("ybar-nav-placement")),n}};init$1(e,t)}));var Css={"notification-container--no-history":"_yb_l2wib","tooltip-container":"_yb_1wcoy","tooltip-container--active":"_yb_1k6be","tooltip-container--open":"_yb_1a2kp","tooltip-container__btn--close":"_yb_1dav1","tooltip-container__inner":"_yb_127fg"},LOCALSTORAGE_KEY="ytlv",HOURS_24=864e5,DAYS_7=7*HOURS_24,CLASS_OPEN=Css["tooltip-container--open"],CLASS_ACTIVE=Css["tooltip-container--active"],CLASS_BTN_CLOSE=Css["tooltip-container__btn--close"],CLASS_MENU=Css["tooltip-container__inner"],MAX_INIT_ATTEMPTS=5,INIT_INTERVAL_MS=100,PromoTooltip=function(){function e(e,n){var t=this;this.initialized=!1,this.ybar=e,this.container=n,this.a11yMenu=this.container.querySelector(".".concat(CLASS_MENU)),this.historyEnabled=!!Number(this.container.dataset.history);var i=this.getLocalStorage();this.state={lastSeen:(null==i?void 0:i.lastSeen)||null,manuallyClosed:(null==i?void 0:i.manuallyClosed)||!1},this.init();var o=0,s=setInterval((function(){o>=MAX_INIT_ATTEMPTS||t.initialized?clearInterval(s):(void 0!==t.isNotificationsSupported()&&t.init(),o++)}),INIT_INTERVAL_MS)}return e.prototype.show=function(e){var n;this.initialized&&(this.historyEnabled&&!e||(document.body.classList.add(CLASS_OPEN),null===(n=this.a11yMenu)||void 0===n||n.setAttribute("aria-expanded","true"),this.lastSeen=(new Date).getTime()))},e.prototype.hide=function(){var e;this.initialized&&(this.historyEnabled&&document.body.classList.remove(CLASS_ACTIVE),document.body.classList.remove(CLASS_OPEN),null===(e=this.a11yMenu)||void 0===e||e.setAttribute("aria-expanded","false"))},Object.defineProperty(e.prototype,"lastSeen",{get:function(){return this.state.lastSeen},set:function(e){this.state.lastSeen=e,this.setLocalStorage()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"manuallyClosed",{get:function(){return this.state.manuallyClosed},set:function(e){this.state.manuallyClosed=!!e,this.setLocalStorage()},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.isNotificationsSupported()&&this.isNotificationPermissionDefault()&&(this.historyEnabled||document.body.classList.add(CLASS_ACTIVE),this.addEventListeners(),this.initialized=!0,this.hasSeenTooltipIn(this.manuallyClosed?DAYS_7:HOURS_24)||(document.body.classList.add(CLASS_ACTIVE),this.show(!0)))},e.prototype.addEventListeners=function(){var e=this;this.ybar.addElementListener(this.container.getElementsByClassName(CLASS_BTN_CLOSE)[0],"click",(function(){e.hide(),e.manuallyClosed=!0}))},e.prototype.isNotificationsSupported=function(){var e;return null===(e=null===window||void 0===window?void 0:window.subscriptionHelperInstance)||void 0===e?void 0:e.checkIsSupportedBrowser()},e.prototype.isNotificationPermissionDefault=function(){var e;return"default"===(null===(e=window.Notification)||void 0===e?void 0:e.permission)},e.prototype.hasSeenTooltipIn=function(e){if(!this.lastSeen)return!1;var n=new Date(this.lastSeen),t=new Date;return n.getTime()+e>t.getTime()},e.prototype.setLocalStorage=function(){var e;null===(e=window.localStorage)||void 0===e||e.setItem(LOCALSTORAGE_KEY,JSON.stringify(this.state))},e.prototype.getLocalStorage=function(){var e,n,t=null===(e=window.localStorage)||void 0===e?void 0:e.getItem(LOCALSTORAGE_KEY);if(null===t)return null;try{return JSON.parse(t)}catch(e){return null===(n=window.localStorage)||void 0===n||n.removeItem(LOCALSTORAGE_KEY),null}},e}(),REFRESH_RATE=3e5,init=function(e,n){var t,i=n.notifMenu,o=n.notifMenuOpener,s=n.notifDropdown,r=n.notifBadge,a=n.notifContainer,c=n.animatedIcon;n.tooltipContainer&&(t=new PromoTooltip(e,n.tooltipContainer));var l=getNotifClient(),d=function(){i&&(i.checked=!1),null==s||s.classList.remove("ybarMenuOpen"),null==i||i.setAttribute("aria-expanded","false")},u=function(e){(null==e?void 0:e.newCount)&&e.newCount>0&&r&&(r.style.display="block",c&&c.play())},p=function(){l.refreshPanel().then(u).catch((function(){}))};e.addEventListener("close-all-menus",(function(){isHovered(a)||d()})),a&&(p(),setInterval((function(){p()}),REFRESH_RATE),a.addEventListener("mouseenter",(function(){e.triggerEvent("close-all-menus"),document.querySelector(".display-push-promos .".concat(Css["notification-container--no-history"]))||(l.resetBadge(),r&&(r.style.display="none")),null==t||t.show()})),a.addEventListener("mouseleave",(function(){d(),null==t||t.hide()}))),e.addElementListener(i,"click",(function(){beaconClick("ybar","notification","",{elm:"btn",elmt:"block"===(null==r?void 0:r.style.display)?"newalert":"",subsec:"notification",itc:"1"})})),o&&addHoverEvent(e,o,"ybar","notification",{elm:"expand",subsec:"notifications",itc:"2"}),e.addElementListener(s,"focusin",(function(){i&&(i.checked=!0),null==s||s.classList.add("ybarMenuOpen"),null==i||i.setAttribute("aria-expanded","true")})),e.addElementListener(s,"focusout",d),e.addElementListener(n.tooltipContainer,"focusin",(function(){null==t||t.show()})),e.addElementListener(n.tooltipContainer,"focusout",(function(){null==t||t.hide()}))};initModule("ybar-mod-notification",(function(e){var n={notifContainer:document.getElementById("notification-container"),notifBadge:document.getElementById("notif-badge"),notifMenu:document.getElementById("ybarNotificationMenu"),notifMenuOpener:document.querySelector("#ybarNotificationMenu + label"),notifDropdown:document.getElementById("notifDropdownContainer"),animatedIcon:document.getElementById("notifBell"),tooltipContainer:document.querySelector(".".concat(Css["tooltip-container"]))};init(e,n)}))})()}};