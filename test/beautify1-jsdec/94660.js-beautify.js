import PizzaShop from'./PizzaShop'import router from'./PizzaShop/router'import{mountCallback}from'@cypress/vue'describe('Vue Router - Pizza Shop',()=>{const extensions={plugins:[router],components:{PizzaShop,},}const template='<router-view />'beforeEach(mountCallback({template,router},{extensions}))it('go to order page',()=>{cy.get('button.order').click()cy.contains('Toppings')})it('order veggie option',()=>{cy.get('a.home').click()cy.get('a.order-veggie').click().then(()=>{const{path,params}=Cypress.vue.$route expect(path).to.eql('/order/veggie')expect(params).to.eql({preset:'veggie'})})for(const topping of['chicken','steak','bacon','ham']){cy.get('.order-overview > ul > li').should('not.contain',topping)}})it('order meatlover option',()=>{cy.get('a.home').click().then(()=>{const{path,query,params}=Cypress.vue.$route expect(path).to.eql('/')expect(query).to.be.empty expect(params).to.be.empty})cy.get('a.order-meatlover').click().then(()=>{const{path,params}=Cypress.vue.$route expect(path).to.eql('/order/meatlover')expect(params).to.eql({preset:'meatlover'})})})it('order cheese option',()=>{cy.wrap(Cypress.vue.$router).then(($router)=>{return $router.push({name:'home'})})cy.get('a.order-cheese').click().then(()=>{const{path,query}=Cypress.vue.$route expect(path).to.eql('/order')expect(query).to.eql({cheese:'true'})})cy.get('.order-overview > ul > li').contains('cheese')})it('order hawaian + peppers pizza without using UI',()=>{cy.wrap(Cypress.vue.$router).then(($router)=>$router.push({name:'home'})).then(($router)=>{return $router.push({name:'order',params:{preset:'hawaian'},query:{peppers:true},})})})})