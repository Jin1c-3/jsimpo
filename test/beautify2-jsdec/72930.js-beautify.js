(function($,anim){'use strict';let _defaults={duration:300,onShow:null,swipeable:false,responsiveThreshold:Infinity};class Tabs extends Component{constructor(el,options){super(Tabs,el,options);this.el.M_Tabs=this;this.options=$.extend({},Tabs.defaults,options);this.$tabLinks=this.$el.children('li.tab').children('a');this.index=0;this._setupActiveTabLink();if(this.options.swipeable){this._setupSwipeableTabs()}else{this._setupNormalTabs()}this._setTabsAndTabWidth();this._createIndicator();this._setupEventHandlers()}static get defaults(){return _defaults}static init(els,options){return super.init(this,els,options)}static getInstance(el){let domElem=!!el.jquery?el[0]:el;return domElem.M_Tabs}destroy(){this._removeEventHandlers();this._indicator.parentNode.removeChild(this._indicator);if(this.options.swipeable){this._teardownSwipeableTabs()}else{this._teardownNormalTabs()}this.$el[0].M_Tabs=undefined}_setupEventHandlers(){this._handleWindowResizeBound=this._handleWindowResize.bind(this);window.addEventListener('resize',this._handleWindowResizeBound);this._handleTabClickBound=this._handleTabClick.bind(this);this.el.addEventListener('click',this._handleTabClickBound)}_removeEventHandlers(){window.removeEventListener('resize',this._handleWindowResizeBound);this.el.removeEventListener('click',this._handleTabClickBound)}_handleWindowResize(){this._setTabsAndTabWidth();if(this.tabWidth!==0&&this.tabsWidth!==0){this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+'px';this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+'px'}}_handleTabClick(e){let tab=$(e.target).closest('li.tab');let tabLink=$(e.target).closest('a');if(!tabLink.length||!tabLink.parent().hasClass('tab')){return}if(tab.hasClass('disabled')){e.preventDefault();return}if(!!tabLink.attr('target')){return}this.$activeTabLink.removeClass('active');let $oldContent=this.$content;this.$activeTabLink=tabLink;this.$content=$(M.escapeHash(tabLink[0].hash));this.$tabLinks=this.$el.children('li.tab').children('a');this.$activeTabLink.addClass('active');let prevIndex=this.index;this.index=Math.max(this.$tabLinks.index(tabLink),0);if(this.options.swipeable){if(this._tabsCarousel){this._tabsCarousel.set(this.index,()=>{if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}})}}else{if(this.$content.length){this.$content[0].style.display='block';this.$content.addClass('active');if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}if($oldContent.length&&!$oldContent.is(this.$content)){$oldContent[0].style.display='none';$oldContent.removeClass('active')}}}this._setTabsAndTabWidth();this._animateIndicator(prevIndex);e.preventDefault()}_createIndicator(){let indicator=document.createElement('li');indicator.classList.add('indicator');this.el.appendChild(indicator);this._indicator=indicator;setTimeout(()=>{this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+'px';this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+'px'},0)}_setupActiveTabLink(){this.$activeTabLink=$(this.$tabLinks.filter('[href="'+location.hash+'"]'));if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children('li.tab').children('a.active').first()}if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children('li.tab').children('a').first()}this.$tabLinks.removeClass('active');this.$activeTabLink[0].classList.add('active');this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0);if(this.$activeTabLink.length){this.$content=$(M.escapeHash(this.$activeTabLink[0].hash));this.$content.addClass('active')}}_setupSwipeableTabs(){if(window.innerWidth>this.options.responsiveThreshold){this.options.swipeable=false}let $tabsContent=$();this.$tabLinks.each((link)=>{let $currContent=$(M.escapeHash(link.hash));$currContent.addClass('carousel-item');$tabsContent=$tabsContent.add($currContent)});let $tabsWrapper=$('<div class="tabs-content carousel carousel-slider"></div>');$tabsContent.first().before($tabsWrapper);$tabsWrapper.append($tabsContent);$tabsContent[0].style.display='';let activeTabIndex=this.$activeTabLink.closest('.tab').index();this._tabsCarousel=M.Carousel.init($tabsWrapper[0],{fullWidth:true,noWrap:true,onCycleTo:(item)=>{let prevIndex=this.index;this.index=$(item).index();this.$activeTabLink.removeClass('active');this.$activeTabLink=this.$tabLinks.eq(this.index);this.$activeTabLink.addClass('active');this._animateIndicator(prevIndex);if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}}});this._tabsCarousel.set(activeTabIndex)}_teardownSwipeableTabs(){let $tabsWrapper=this._tabsCarousel.$el;this._tabsCarousel.destroy();$tabsWrapper.after($tabsWrapper.children());$tabsWrapper.remove()}_setupNormalTabs(){this.$tabLinks.not(this.$activeTabLink).each((link)=>{if(!!link.hash){let $currContent=$(M.escapeHash(link.hash));if($currContent.length){$currContent[0].style.display='none'}}})}_teardownNormalTabs(){this.$tabLinks.each((link)=>{if(!!link.hash){let $currContent=$(M.escapeHash(link.hash));if($currContent.length){$currContent[0].style.display=''}}})}_setTabsAndTabWidth(){this.tabsWidth=this.$el.width();this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}_calcRightPos(el){return Math.ceil(this.tabsWidth-el.position().left-el[0].getBoundingClientRect().width)}_calcLeftPos(el){return Math.floor(el.position().left)}updateTabIndicator(){this._setTabsAndTabWidth();this._animateIndicator(this.index)}_animateIndicator(prevIndex){let leftDelay=0,rightDelay=0;if(this.index-prevIndex>=0){leftDelay=90}else{rightDelay=90}let animOptions={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:leftDelay},right:{value:this._calcRightPos(this.$activeTabLink),delay:rightDelay},duration:this.options.duration,easing:'easeOutQuad'};anim.remove(this._indicator);anim(animOptions)}select(tabId){let tab=this.$tabLinks.filter('[href="#'+tabId+'"]');if(tab.length){tab.trigger('click')}}}M.Tabs=Tabs;if(M.jQueryLoaded){M.initializeJqueryWrapper(Tabs,'tabs','M_Tabs')}})(cash,M.anime);(function($,anim){'use strict';let _defaults={duration:300,onShow:null,swipeable:false,responsiveThreshold:Infinity};class Tabs extends Component{constructor(el,options){super(Tabs,el,options);this.el.M_Tabs=this;this.options=$.extend({},Tabs.defaults,options);this.$tabLinks=this.$el.children('li.tab').children('a');this.index=0;this._setupActiveTabLink();if(this.options.swipeable){this._setupSwipeableTabs()}else{this._setupNormalTabs()}this._setTabsAndTabWidth();this._createIndicator();this._setupEventHandlers()}static get defaults(){return _defaults}static init(els,options){return super.init(this,els,options)}static getInstance(el){let domElem=!!el.jquery?el[0]:el;return domElem.M_Tabs}destroy(){this._removeEventHandlers();this._indicator.parentNode.removeChild(this._indicator);if(this.options.swipeable){this._teardownSwipeableTabs()}else{this._teardownNormalTabs()}this.$el[0].M_Tabs=undefined}_setupEventHandlers(){this._handleWindowResizeBound=this._handleWindowResize.bind(this);window.addEventListener('resize',this._handleWindowResizeBound);this._handleTabClickBound=this._handleTabClick.bind(this);this.el.addEventListener('click',this._handleTabClickBound)}_removeEventHandlers(){window.removeEventListener('resize',this._handleWindowResizeBound);this.el.removeEventListener('click',this._handleTabClickBound)}_handleWindowResize(){this._setTabsAndTabWidth();if(this.tabWidth!==0&&this.tabsWidth!==0){this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+'px';this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+'px'}}_handleTabClick(e){let tab=$(e.target).closest('li.tab');let tabLink=$(e.target).closest('a');if(!tabLink.length||!tabLink.parent().hasClass('tab')){return}if(tab.hasClass('disabled')){e.preventDefault();return}if(!!tabLink.attr('target')){return}this.$activeTabLink.removeClass('active');let $oldContent=this.$content;this.$activeTabLink=tabLink;this.$content=$(M.escapeHash(tabLink[0].hash));this.$tabLinks=this.$el.children('li.tab').children('a');this.$activeTabLink.addClass('active');let prevIndex=this.index;this.index=Math.max(this.$tabLinks.index(tabLink),0);if(this.options.swipeable){if(this._tabsCarousel){this._tabsCarousel.set(this.index,()=>{if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}})}}else{if(this.$content.length){this.$content[0].style.display='block';this.$content.addClass('active');if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}if($oldContent.length&&!$oldContent.is(this.$content)){$oldContent[0].style.display='none';$oldContent.removeClass('active')}}}this._setTabsAndTabWidth();this._animateIndicator(prevIndex);e.preventDefault()}_createIndicator(){let indicator=document.createElement('li');indicator.classList.add('indicator');this.el.appendChild(indicator);this._indicator=indicator;setTimeout(()=>{this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+'px';this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+'px'},0)}_setupActiveTabLink(){this.$activeTabLink=$(this.$tabLinks.filter('[href="'+location.hash+'"]'));if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children('li.tab').children('a.active').first()}if(this.$activeTabLink.length===0){this.$activeTabLink=this.$el.children('li.tab').children('a').first()}this.$tabLinks.removeClass('active');this.$activeTabLink[0].classList.add('active');this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0);if(this.$activeTabLink.length){this.$content=$(M.escapeHash(this.$activeTabLink[0].hash));this.$content.addClass('active')}}_setupSwipeableTabs(){if(window.innerWidth>this.options.responsiveThreshold){this.options.swipeable=false}let $tabsContent=$();this.$tabLinks.each((link)=>{let $currContent=$(M.escapeHash(link.hash));$currContent.addClass('carousel-item');$tabsContent=$tabsContent.add($currContent)});let $tabsWrapper=$('<div class="tabs-content carousel carousel-slider"></div>');$tabsContent.first().before($tabsWrapper);$tabsWrapper.append($tabsContent);$tabsContent[0].style.display='';let activeTabIndex=this.$activeTabLink.closest('.tab').index();this._tabsCarousel=M.Carousel.init($tabsWrapper[0],{fullWidth:true,noWrap:true,onCycleTo:(item)=>{let prevIndex=this.index;this.index=$(item).index();this.$activeTabLink.removeClass('active');this.$activeTabLink=this.$tabLinks.eq(this.index);this.$activeTabLink.addClass('active');this._animateIndicator(prevIndex);if(typeof this.options.onShow==='function'){this.options.onShow.call(this,this.$content[0])}}});this._tabsCarousel.set(activeTabIndex)}_teardownSwipeableTabs(){let $tabsWrapper=this._tabsCarousel.$el;this._tabsCarousel.destroy();$tabsWrapper.after($tabsWrapper.children());$tabsWrapper.remove()}_setupNormalTabs(){this.$tabLinks.not(this.$activeTabLink).each((link)=>{if(!!link.hash){let $currContent=$(M.escapeHash(link.hash));if($currContent.length){$currContent[0].style.display='none'}}})}_teardownNormalTabs(){this.$tabLinks.each((link)=>{if(!!link.hash){let $currContent=$(M.escapeHash(link.hash));if($currContent.length){$currContent[0].style.display=''}}})}_setTabsAndTabWidth(){this.tabsWidth=this.$el.width();this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}_calcRightPos(el){return Math.ceil(this.tabsWidth-el.position().left-el[0].getBoundingClientRect().width)}_calcLeftPos(el){return Math.floor(el.position().left)}updateTabIndicator(){this._setTabsAndTabWidth();this._animateIndicator(this.index)}_animateIndicator(prevIndex){let leftDelay=0,rightDelay=0;if(this.index-prevIndex>=0){leftDelay=90}else{rightDelay=90}let animOptions={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:leftDelay},right:{value:this._calcRightPos(this.$activeTabLink),delay:rightDelay},duration:this.options.duration,easing:'easeOutQuad'};anim.remove(this._indicator);anim(animOptions)}select(tabId){let tab=this.$tabLinks.filter('[href="#'+tabId+'"]');if(tab.length){tab.trigger('click')}}}M.Tabs=Tabs;if(M.jQueryLoaded){M.initializeJqueryWrapper(Tabs,'tabs','M_Tabs')}})(cash,M.anime);