var x=27;function test(){function g(){assertEquals(27,eval('x'));function h(){var x=22;assertEquals(22,eval('x'));function i(x){assertEquals(44,eval('x'));function j(){assertEquals(x,eval('x'));function x(){assertEquals(x,eval('x'))}x()}j()}i(44)}h()}g()}test();var result=0;function testDeep(source,load,test){eval(source);function f(){var y=23;function g(){var z=25;function h(){eval(load);eval(test)}h()}g()}f()}testDeep('1','result = x','assertEquals(27, result)');testDeep('var x = 1','result = x','assertEquals(1, result)');