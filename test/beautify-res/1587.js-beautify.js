const crypto=require('crypto');const{clipboard}=require('electron');module.exports=class Clipboard{constructor(){this.reset()}reset(){this.metadata=null;this.signatureForMetadata=null}md5(text){return crypto.createHash('md5').update(text,'utf8').digest('hex')}write(text,metadata){this.signatureForMetadata=this.md5(text);this.metadata=metadata;clipboard.writeText(text)}read(){return clipboard.readText()}writeFindText(text){clipboard.writeFindText(text)}readFindText(){return clipboard.readFindText()}readWithMetadata(){const text=this.read();if(this.signatureForMetadata===this.md5(text)){return{text,metadata:this.metadata}}else{return{text}}}};
