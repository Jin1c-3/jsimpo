"use strict";module.exports=function r(e,a,t){var s=" ";var o=e.level;var i=e.dataLevel;var h=e.schema[a];var l=e.schemaPath+e.util.getProperty(a);var p=e.errSchemaPath+"/"+a;var f=!e.opts.allErrors;var d="data"+(i||"");var v="valid"+o;var u=e.opts.$data&&h&&h.$data,P;if(u){s+=" var schema"+o+" = "+e.util.getData(h.$data,i,e.dataPathArr)+"; ";P="schema"+o}else{P=h}var n="schema"+o;if(!u){if(h.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var c=[];var m=h;if(m){var y,g=-1,E=m.length-1;while(g<E){y=m[g+=1];var w=e.schema.properties[y];if(!(w&&(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===false:e.util.schemaHasRules(w,e.RULES.all)))){c[c.length]=y}}}}else{var c=h}}if(u||c.length){var q=e.errorPath,b=u||c.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(f){s+=" var missing"+o+"; ";if(b){if(!u){s+=" var "+n+" = validate.schema"+l+"; "}var j="i"+o,D="schema"+o+"["+j+"]",O="' + "+D+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPathExpr(q,D,e.opts.jsonPointers)}s+=" var "+v+" = true; ";if(u){s+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"}s+=" for (var "+j+" = 0; "+j+" < "+n+".length; "+j+"++) { "+v+" = "+d+"["+n+"["+j+"]] !== undefined ";if(S){s+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+n+"["+j+"]) "}s+="; if (!"+v+") break; } ";if(u){s+="  }  "}s+="  if (!"+v+") {   ";var Q=Q||[];Q.push(s);s="";if(e.createErrors!==false){s+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { missingProperty: '"+O+"' } ";if(e.opts.messages!==false){s+=" , message: '";if(e.opts._errorDataPathProperty){s+="is a required property"}else{s+="should have required property \\'"+O+"\\'"}s+="' "}if(e.opts.verbose){s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}s+=" } "}else{s+=" {} "}var _=s;s=Q.pop();if(!e.compositeRule&&f){if(e.async){s+=" throw new ValidationError(["+_+"]); "}else{s+=" validate.errors = ["+_+"]; return false; "}}else{s+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } else { "}else{s+=" if ( ";var k=c;if(k){var R,j=-1,A=k.length-1;while(j<A){R=k[j+=1];if(j){s+=" || "}var x=e.util.getProperty(R),$=d+x;s+=" ( ( "+$+" === undefined ";if(S){s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "}s+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:x)+") ) "}}s+=") {  ";var D="missing"+o,O="' + "+D+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(q,D,true):q+" + "+D}var Q=Q||[];Q.push(s);s="";if(e.createErrors!==false){s+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { missingProperty: '"+O+"' } ";if(e.opts.messages!==false){s+=" , message: '";if(e.opts._errorDataPathProperty){s+="is a required property"}else{s+="should have required property \\'"+O+"\\'"}s+="' "}if(e.opts.verbose){s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}s+=" } "}else{s+=" {} "}var _=s;s=Q.pop();if(!e.compositeRule&&f){if(e.async){s+=" throw new ValidationError(["+_+"]); "}else{s+=" validate.errors = ["+_+"]; return false; "}}else{s+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } else { "}}else{if(b){if(!u){s+=" var "+n+" = validate.schema"+l+"; "}var j="i"+o,D="schema"+o+"["+j+"]",O="' + "+D+" + '";if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPathExpr(q,D,e.opts.jsonPointers)}if(u){s+=" if ("+n+" && !Array.isArray("+n+")) {  var err =   ";if(e.createErrors!==false){s+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { missingProperty: '"+O+"' } ";if(e.opts.messages!==false){s+=" , message: '";if(e.opts._errorDataPathProperty){s+="is a required property"}else{s+="should have required property \\'"+O+"\\'"}s+="' "}if(e.opts.verbose){s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}s+=" } "}else{s+=" {} "}s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+n+" !== undefined) { "}s+=" for (var "+j+" = 0; "+j+" < "+n+".length; "+j+"++) { if ("+d+"["+n+"["+j+"]] === undefined ";if(S){s+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+n+"["+j+"]) "}s+=") {  var err =   ";if(e.createErrors!==false){s+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { missingProperty: '"+O+"' } ";if(e.opts.messages!==false){s+=" , message: '";if(e.opts._errorDataPathProperty){s+="is a required property"}else{s+="should have required property \\'"+O+"\\'"}s+="' "}if(e.opts.verbose){s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}s+=" } "}else{s+=" {} "}s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";if(u){s+="  }  "}}else{var L=c;if(L){var R,V=-1,H=L.length-1;while(V<H){R=L[V+=1];var x=e.util.getProperty(R),O=e.util.escapeQuotes(R),$=d+x;if(e.opts._errorDataPathProperty){e.errorPath=e.util.getPath(q,R,e.opts.jsonPointers)}s+=" if ( "+$+" === undefined ";if(S){s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "}s+=") {  var err =   ";if(e.createErrors!==false){s+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { missingProperty: '"+O+"' } ";if(e.opts.messages!==false){s+=" , message: '";if(e.opts._errorDataPathProperty){s+="is a required property"}else{s+="should have required property \\'"+O+"\\'"}s+="' "}if(e.opts.verbose){s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "}s+=" } "}else{s+=" {} "}s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}}e.errorPath=q}else if(f){s+=" if (true) {"}return s};