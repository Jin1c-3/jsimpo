"use strict";const{ObjectDefineProperty,ObjectDefineProperties,ObjectSetPrototypeOf}=primordials;const{codes:{ERR_ILLEGAL_CONSTRUCTOR}}=require("internal/errors");const{EventTarget}=require("internal/event_target");const{now}=require("internal/perf/utils");const{mark,measure,clearMarkTimings}=require("internal/perf/usertiming");const{clearEntriesFromBuffer,filterBufferMapByNameAndType}=require("internal/perf/observe");const eventLoopUtilization=require("internal/perf/event_loop_utilization");const nodeTiming=require("internal/perf/nodetiming");const timerify=require("internal/perf/timerify");const{customInspectSymbol:kInspect}=require("internal/util");const{inspect}=require("util");const{getTimeOriginTimestamp}=internalBinding("performance");class Performance extends EventTarget{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}[kInspect](e,r){if(e<0)return this;const n={...r,depth:r.depth==null?null:r.depth-1};return`Performance ${inspect({nodeTiming:this.nodeTiming,timeOrigin:this.timeOrigin},n)}`}}function toJSON(){return{nodeTiming:this.nodeTiming,timeOrigin:this.timeOrigin,eventLoopUtilization:this.eventLoopUtilization()}}function clearMarks(e){if(e!==undefined){e=`${e}`}clearMarkTimings(e);clearEntriesFromBuffer("mark",e)}function clearMeasures(e){if(e!==undefined){e=`${e}`}clearEntriesFromBuffer("measure",e)}function getEntries(){return filterBufferMapByNameAndType()}function getEntriesByName(e){if(e!==undefined){e=`${e}`}return filterBufferMapByNameAndType(e,undefined)}function getEntriesByType(e){if(e!==undefined){e=`${e}`}return filterBufferMapByNameAndType(undefined,e)}class InternalPerformance extends EventTarget{}InternalPerformance.prototype.constructor=Performance.prototype.constructor;ObjectSetPrototypeOf(InternalPerformance.prototype,Performance.prototype);ObjectDefineProperties(Performance.prototype,{clearMarks:{configurable:true,enumerable:false,value:clearMarks},clearMeasures:{configurable:true,enumerable:false,value:clearMeasures},eventLoopUtilization:{configurable:true,enumerable:false,value:eventLoopUtilization},getEntries:{configurable:true,enumerable:false,value:getEntries},getEntriesByName:{configurable:true,enumerable:false,value:getEntriesByName},getEntriesByType:{configurable:true,enumerable:false,value:getEntriesByType},mark:{configurable:true,enumerable:false,value:mark},measure:{configurable:true,enumerable:false,value:measure},nodeTiming:{configurable:true,enumerable:false,value:nodeTiming},now:{configurable:true,enumerable:false,value:now},timerify:{configurable:true,enumerable:false,value:timerify},timeOrigin:{configurable:true,enumerable:true,value:getTimeOriginTimestamp()},toJSON:{configurable:true,enumerable:true,value:toJSON}});function refreshTimeOrigin(){ObjectDefineProperty(Performance.prototype,"timeOrigin",{configurable:true,enumerable:true,value:getTimeOriginTimestamp()})}module.exports={InternalPerformance:InternalPerformance,refreshTimeOrigin:refreshTimeOrigin};