import{findVmByVueId}from"../../../mp-weixin/runtime/wrapper/util";export const mocks=["__route__","__webviewId__","__nodeid__","__nodeId__"];export function isPage(){return this.__nodeid__===0||this.__nodeId__===0}export function initRefs(n){const o=n.$scope;const e=parseInt(tt.getSystemInfoSync().SDKVersion.split(".")[1]);if(e>16){Object.defineProperty(n,"$refs",{get(){const n={};const e=o.selectAllComponents(".vue-ref");e.forEach(e=>{const t=e.dataset.ref;n[t]=e.$vm||e});const t=o.selectAllComponents(".vue-ref-in-for");t.forEach(e=>{const t=e.dataset.ref;if(!n[t]){n[t]=[]}n[t].push(e.$vm||e)});return n}})}else{o.selectAllComponents(".vue-ref",e=>{e.forEach(e=>{const t=e.dataset.ref;n.$refs[t]=e.$vm||e})});o.selectAllComponents(".vue-ref-in-for",e=>{e.forEach(e=>{const t=e.dataset.ref;if(!n.$refs[t]){n.$refs[t]=[]}n.$refs[t].push(e.$vm||e)})})}}export const instances=Object.create(null);export function initRelation({vuePid:e,mpInstance:t}){const n=(t.__nodeId__||t.__nodeid__)+"";const o=t.__webviewId__+"";instances[o+"_"+n]=t.$vm;this.triggerEvent("__l",{vuePid:e,nodeId:n,webviewId:o})}export function handleLink({detail:{vuePid:e,nodeId:t,webviewId:n}}){const o=instances[n+"_"+t];if(!o){return}let s;if(e){s=findVmByVueId(this.$vm,e)}if(!s){s=this.$vm}o.$parent=s;o.$root=s.$root;s.$children.push(o);o.__call_hook("created");o.__call_hook("beforeMount");o._isMounted=true;o.__call_hook("mounted");o.__call_hook("onReady")}