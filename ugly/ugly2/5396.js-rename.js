"use strict";var k=require("react-dom"),l=require("object-assign");function aa(e,t,n,r,o,a,i,s){if(!e){e=void 0;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,a,i,s],c=0;e=Error(t.replace(/%s/g,function(){return u[c++]}));e.name="Invariant Violation"}e.framesToPop=1;throw e}}function m(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);aa(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var n=null,p=null,q=null;function r(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?m("103"):void 0;e.currentTarget=t?q(n):null;t=t?t(e):null;e.currentTarget=null;e._dispatchListeners=null;e._dispatchInstances=null;return t}function t(e){do{e=e.return}while(e&&5!==e.tag);return e?e:null}function v(e,n,r){for(var o=[];e;)o.push(e),e=t(e);for(e=o.length;0<e--;)n(o[e],"captured",r);for(e=0;e<o.length;e++)n(o[e],"bubbled",r)}function w(e,t){null==t?m("30"):void 0;if(null==e)return t;if(Array.isArray(e)){if(Array.isArray(t))return e.push.apply(e,t),e;e.push(t);return e}return Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function y(e,t){var r=e.stateNode;if(!r)return null;var o=n(r);if(!o)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(e=e.type,o=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!o;break e;default:e=!1}if(e)return null;r&&"function"!==typeof r?m("231",t,typeof r):void 0;return r}function z(e,t,n){if(t=y(e,n.dispatchConfig.phasedRegistrationNames[t]))n._dispatchListeners=w(n._dispatchListeners,t),n._dispatchInstances=w(n._dispatchInstances,e)}function ca(e){e&&e.dispatchConfig.phasedRegistrationNames&&v(e._targetInst,z,e)}function da(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;n=n?t(n):null;v(n,z,e)}}function A(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var n=y(t,e.dispatchConfig.registrationName);n&&(e._dispatchListeners=w(e._dispatchListeners,n),e._dispatchInstances=w(e._dispatchInstances,t))}}}function B(){return!0}function C(){return!1}function D(e,t,n,r){this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=n;e=this.constructor.Interface;for(var o in e)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?B:C;this.isPropagationStopped=C;return this}l(D.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=B)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=B)},persist:function(){this.isPersistent=B},isPersistent:C,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=C;this._dispatchInstances=this._dispatchListeners=null}});D.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};D.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;l(o,n.prototype);n.prototype=o;n.prototype.constructor=n;n.Interface=l({},r.Interface,e);n.extend=r.extend;E(n);return n};E(D);function ea(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();this.call(o,e,t,n,r);return o}return new this(e,t,n,r)}function fa(e){e instanceof this?void 0:m("279");e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function E(e){e.eventPool=[];e.getPooled=ea;e.release=fa}var F=D.extend({touchHistory:function(){return null}});function G(e){return"touchstart"===e||"mousedown"===e}function H(e){return"touchmove"===e||"mousemove"===e}function I(e){return"touchend"===e||"touchcancel"===e||"mouseup"===e}var J=["touchstart","mousedown"],K=["touchmove","mousemove"],L=["touchcancel","touchend","mouseup"],M=[],N={touchBank:M,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function O(e){return e.timeStamp||e.timestamp}function P(e){e=e.identifier;null==e?m("138"):void 0;return e}function ha(e){var t=P(e),n=M[t];n?(n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=O(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=O(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=O(e)):(n={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:O(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:O(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:O(e)},M[t]=n);N.mostRecentTimeStamp=O(e)}function ia(e){var t=M[P(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=O(e),N.mostRecentTimeStamp=O(e)):console.error("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",Q(e),R())}function ja(e){var t=M[P(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=O(e),N.mostRecentTimeStamp=O(e)):console.error("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",Q(e),R())}function Q(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:O(e)})}function R(){var e=JSON.stringify(M.slice(0,20));20<M.length&&(e+=" (original size: "+M.length+")");return e}var S={recordTouchTrack:function(e,t){if(H(e))t.changedTouches.forEach(ia);else if(G(e))t.changedTouches.forEach(ha),N.numberActiveTouches=t.touches.length,1===N.numberActiveTouches&&(N.indexOfSingleActiveTouch=t.touches[0].identifier);else if(I(e)&&(t.changedTouches.forEach(ja),N.numberActiveTouches=t.touches.length,1===N.numberActiveTouches))for(e=0;e<M.length;e++)if(t=M[e],null!=t&&t.touchActive){N.indexOfSingleActiveTouch=e;break}},touchHistory:N};function T(e,t){null==t?m("29"):void 0;return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var U=null,V=0;function W(e,t){var n=U;U=e;if(null!==X.GlobalResponderHandler)X.GlobalResponderHandler.onChange(n,e,t)}var Y={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:J},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["scroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["selectionchange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:K},responderStart:{registrationName:"onResponderStart",dependencies:J},responderMove:{registrationName:"onResponderMove",dependencies:K},responderEnd:{registrationName:"onResponderEnd",dependencies:L},responderRelease:{registrationName:"onResponderRelease",dependencies:L},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},X={_getResponder:function(){return U},eventTypes:Y,extractEvents:function(e,n,o,a){if(G(e))V+=1;else if(I(e))if(0<=V)--V;else return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;S.recordTouchTrack(e,o);if(n&&("scroll"===e&&!o.responderIgnoreScroll||0<V&&"selectionchange"===e||G(e)||H(e))){var i=G(e)?Y.startShouldSetResponder:H(e)?Y.moveShouldSetResponder:"selectionchange"===e?Y.selectionChangeShouldSetResponder:Y.scrollShouldSetResponder;if(U)e:{var s=U;for(var u=0,c=s;c;c=t(c))u++;c=0;for(var l=n;l;l=t(l))c++;for(;0<u-c;)s=t(s),u--;for(;0<c-u;)n=t(n),c--;for(;u--;){if(s===n||s===n.alternate)break e;s=t(s);n=t(n)}s=null}else s=n;n=s===U;s=F.getPooled(i,s,o,a);s.touchHistory=S.touchHistory;n?x(s,da):x(s,ca);e:{i=s._dispatchListeners;n=s._dispatchInstances;if(Array.isArray(i))for(u=0;u<i.length&&!s.isPropagationStopped();u++){if(i[u](s,n[u])){i=n[u];break e}}else if(i&&i(s,n)){i=n;break e}i=null}s._dispatchInstances=null;s._dispatchListeners=null;s.isPersistent()||s.constructor.release(s);i&&i!==U?(s=void 0,n=F.getPooled(Y.responderGrant,i,o,a),n.touchHistory=S.touchHistory,x(n,A),u=!0===r(n),U?(c=F.getPooled(Y.responderTerminationRequest,U,o,a),c.touchHistory=S.touchHistory,x(c,A),l=!c._dispatchListeners||r(c),c.isPersistent()||c.constructor.release(c),l?(c=F.getPooled(Y.responderTerminate,U,o,a),c.touchHistory=S.touchHistory,x(c,A),s=T(s,[n,c]),W(i,u)):(i=F.getPooled(Y.responderReject,i,o,a),i.touchHistory=S.touchHistory,x(i,A),s=T(s,i))):(s=T(s,n),W(i,u)),i=s):i=null}else i=null;s=U&&G(e);n=U&&H(e);u=U&&I(e);if(s=s?Y.responderStart:n?Y.responderMove:u?Y.responderEnd:null)s=F.getPooled(s,U,o,a),s.touchHistory=S.touchHistory,x(s,A),i=T(i,s);s=U&&"touchcancel"===e;if(e=U&&!s&&I(e))e:{if((e=o.touches)&&0!==e.length)for(n=0;n<e.length;n++)if(u=e[n].target,null!==u&&void 0!==u&&0!==u){c=p(u);t:{for(u=U;c;){if(u===c||u===c.alternate){u=!0;break t}c=t(c)}u=!1}if(u){e=!1;break e}}e=!0}if(e=s?Y.responderTerminate:e?Y.responderRelease:null)o=F.getPooled(e,U,o,a),o.touchHistory=S.touchHistory,x(o,A),i=T(i,o),W(null);return i},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){X.GlobalResponderHandler=e}}},Z=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,ka=Z[3],la=Z[0],ma=Z[1];n=Z[2];p=la;q=ma;module.exports={ResponderEventPlugin:X,ResponderTouchHistoryStore:S,injectEventPluginsByName:ka};