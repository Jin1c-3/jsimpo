var x=1;function global_function(){return"global"}function testNoShadowing(){var y=2;function local_function(){return"local"}function f(){eval("1");assertEquals(1,x);try{typeof asdf}catch(e){assertUnreachable()}assertEquals(2,y);assertEquals("global",global_function());assertEquals("local",local_function());function g(){assertEquals(1,x);try{typeof asdf}catch(a){assertUnreachable()}assertEquals(2,y);assertEquals("global",global_function());assertEquals("local",local_function())}g()}f()}testNoShadowing();function testNoShadowing2(){var y=2;function local_function(){return"local"}eval("1");function f(){eval("1");assertEquals(1,x);assertEquals(2,y);assertEquals("global",global_function());assertEquals("local",local_function());function g(){assertEquals(1,x);assertEquals(2,y);assertEquals("global",global_function());assertEquals("local",local_function())}g()}f()}testNoShadowing2();function testShadowing(){var y=2;function local_function(){return"local"}function f(){eval("var x = 3; var y = 4;");assertEquals(3,x);assertEquals(4,y);eval('function local_function() { return "new_local"; }');eval('function global_function() { return "new_nonglobal"; }');assertEquals("new_nonglobal",global_function());assertEquals("new_local",local_function());function g(){assertEquals(3,x);assertEquals(4,y);assertEquals("new_nonglobal",global_function());assertEquals("new_local",local_function())}g()}f()}testShadowing();