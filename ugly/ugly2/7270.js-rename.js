import speedsData from"../assets/speeds.json";const DOWNLOAD_TIME_THRESHOLD_SECONDS=5;export function getSpeedData(e,s){const t=s/1024/1024;const n=e.mbps;const o=n/8;const r=e.rtt/1e3;const a=t/o+r;const d=a>DOWNLOAD_TIME_THRESHOLD_SECONDS;const c=(d?"+":"-")+Math.abs(a-DOWNLOAD_TIME_THRESHOLD_SECONDS).toFixed(2)+"s";return{totalDownloadTime:a,isDownloadTimeOverThreshold:d,timeDifferenceToThreshold:c}}export function getSpeeds(t){return Object.keys(speedsData).reduce((e,s)=>{e[s]={...getSpeedData(speedsData[s],t),...speedsData[s]};return e},{})}export function buildSortedAssets(e,t){let s=e.slice();if(s.length){const n=s[0].size;s=s.map(e=>{const s=e.size[t];return{name:e.name,size:s,big:s>25e4,ratio:s/n,secondary:/\.map$/.test(e.name),speeds:getSpeeds(s)}});s.sort((e,s)=>{if(e.secondary===s.secondary){return s.size-e.size}else if(e.secondary&&!s.secondary){return 1}else{return-1}})}return s}