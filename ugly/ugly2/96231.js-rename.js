import jQuery from"../core.js";import isAutoPx from"../css/isAutoPx.js";import finalPropName from"../css/finalPropName.js";import"../css.js";function Tween(e,t,o,s,i){return new Tween.prototype.init(e,t,o,s,i)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(e,t,o,s,i,n){this.elem=e;this.prop=o;this.easing=i||jQuery.easing._default;this.options=t;this.start=this.now=this.cur();this.end=s;this.unit=n||(isAutoPx(o)?"px":"")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,o=Tween.propHooks[this.prop];if(this.options.duration){this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(o&&o.set){o.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=jQuery.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(jQuery.fx.step[e.prop]){jQuery.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(jQuery.cssHooks[e.prop]||e.elem.style[finalPropName(e.prop)]!=null)){jQuery.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};