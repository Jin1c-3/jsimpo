"use strict";const{SafeMap}=primordials;const{internalModuleReadJSON}=internalBinding("fs");const{pathToFileURL}=require("url");const{toNamespacedPath}=require("path");const cache=new SafeMap;let manifest;function read(e){if(cache.has(e)){return cache.get(e)}const{0:n,1:t}=internalModuleReadJSON(toNamespacedPath(e));const a={string:n,containsKeys:t};const{getOptionValue:i}=require("internal/options");if(n!==undefined){if(manifest===undefined){manifest=i("--experimental-policy")?require("internal/process/policy").manifest:null}if(manifest!==null){const s=pathToFileURL(e);manifest.assertIntegrity(s,n)}}cache.set(e,a);return a}module.exports={read:read};