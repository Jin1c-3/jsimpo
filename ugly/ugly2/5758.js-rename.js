var mkdirp=require("../");var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;var _0777=parseInt("0777",8);var _0755=parseInt("0755",8);test("rel",function(a){a.plan(5);var r=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var t=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var o=Math.floor(Math.random()*Math.pow(16,4)).toString(16);var e=process.cwd();process.chdir("/tmp");var i=[r,t,o].join("/");mkdirp(i,_0755,function(r){a.ifError(r);exists(i,function(r){a.ok(r,"file created");fs.stat(i,function(r,t){a.ifError(r);process.chdir(e);a.equal(t.mode&_0777,_0755);a.ok(t.isDirectory(),"target not a directory")})})})});