const _=require("lodash");const utils=require("../../index");const mapper=require("./utils/mapper");const _private={};_private.settingsFilter=(e,t)=>{let s=t?t.split(","):false;return _.filter(e,e=>{if(s){return _.includes(s,e.group)}return true})};module.exports={browse(e,t,s){let o;if(utils.isContentAPI(s)){o=e}else{o=_.values(_private.settingsFilter(e,s.options.group))}s.response={settings:mapper.mapSettings(o,s),meta:{}};if(s.options.type||s.options.group){s.response.meta.filters={};if(s.options.type){s.response.meta.filters.type=s.options.type}if(s.options.group){s.response.meta.filters.group=s.options.group}}},read(){this.browse(...arguments)},edit(e,t,s){const o=_.keyBy(_.invokeMap(e,"toJSON"),"key");this.browse(o,t,s)},download(e,t,s){s.response=e}};