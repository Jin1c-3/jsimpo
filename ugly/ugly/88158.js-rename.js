import{ApolloServer}from"apollo-server-express";import{WebApp}from"meteor/webapp";import{getUser}from"meteor/apollo";import{LinksCollection}from"/imports/api/links";import typeDefs from"/imports/apollo/schema.graphql";const resolvers={Query:{getLink:(e,{id:r})=>LinksCollection.findOne(r),getLinks:()=>LinksCollection.find().fetch()}};const server=new ApolloServer({typeDefs:typeDefs,resolvers:resolvers,context:async({req:e})=>({user:await getUser(e.headers.authorization)})});server.applyMiddleware({app:WebApp.connectHandlers,cors:true});