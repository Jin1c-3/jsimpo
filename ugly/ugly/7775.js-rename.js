var ENV=ENV||function(){var s=true;var l=0;var n;var e;(e=String.prototype).lpad||(e.lpad=function(e,a){return e.repeat((a-this.length)/e.length).concat(this)});function t(e){var a=parseFloat(e).toFixed(2);if(e>60){minutes=Math.floor(e/60);comps=(e%60).toFixed(2).split(".");seconds=comps[0].lpad("0",2);ms=comps[1];a=minutes+":"+seconds+"."+ms}return a}function r(e){var a="Query elapsed";if(e>=10){a+=" warn_long"}else if(e>=1){a+=" warn"}else{a+=" short"}return a}function o(e){var a="label";if(e>=20){a+=" label-important"}else if(e>=10){a+=" label-warning"}else{a+=" label-success"}return a}function m(e){if(!e){e={}}var a=Math.random()*15;e.elapsed=a;e.formatElapsed=t(a);e.elapsedClassName=r(a);e.query="SELECT blah FROM something";e.waiting=Math.random()<.5;if(Math.random()<.2){e.query="<IDLE> in transaction"}if(Math.random()<.1){e.query="vacuum"}return e}function p(e){if(e){e.formatElapsed="";e.elapsedClassName="";e.query="";e.elapsed=null;e.waiting=null}else{return{query:"***",formatElapsed:"",elapsedClassName:""}}}function i(e,a,t){var r=Math.floor(Math.random()*10+1);if(!e){e={}}e.lastMutationId=t;e.nbQueries=r;if(!e.lastSample){e.lastSample={}}if(!e.lastSample.topFiveQueries){e.lastSample.topFiveQueries=[]}if(a){if(!e.lastSample.queries){e.lastSample.queries=[];for(var s=0;s<12;s++){e.lastSample.queries[s]=p()}}for(var l in e.lastSample.queries){var n=e.lastSample.queries[l];if(l<=r){m(n)}else{p(n)}}}else{e.lastSample.queries=[];for(var l=0;l<12;l++){if(l<r){var n=m(p());e.lastSample.queries.push(n)}else{e.lastSample.queries.push(p())}}}for(var i=0;i<5;i++){var u=e.lastSample.queries[i];e.lastSample.topFiveQueries[i]=u}e.lastSample.nbQueries=r;e.lastSample.countClassName=o(r);return e}function a(e){var a=n;if(!e){n=[];for(var t=1;t<=ENV.rows;t++){n.push({dbname:"cluster"+t,query:"",formatElapsed:"",elapsedClassName:""});n.push({dbname:"cluster"+t+" slave",query:"",formatElapsed:"",elapsedClassName:""})}}if(!n){n=[];for(var t=1;t<=ENV.rows;t++){n.push({dbname:"cluster"+t});n.push({dbname:"cluster"+t+" slave"})}a=n}for(var t in n){var r=n[t];if(!e&&a&&a[t]){r.lastSample=a[t].lastSample}if(!r.lastSample||Math.random()<ENV.mutations()){l=l+1;if(!e){r.lastSample=null}i(r,e,l)}else{n[t]=a[t]}}s=false;return{toArray:function(){return n}}}var u=.5;function f(e){if(e){u=e;return u}else{return u}}var d=document.querySelector("body");var c=d.firstChild;var v=document.createElement("div");v.style.cssText="display: flex";var h=document.createElement("input");var S=document.createElement("label");S.innerHTML="mutations : "+(u*100).toFixed(0)+"%";S.id="ratioval";h.setAttribute("type","range");h.style.cssText="margin-bottom: 10px; margin-top: 5px";h.addEventListener("change",function(e){ENV.mutations(e.target.value/100);document.querySelector("#ratioval").innerHTML="mutations : "+(ENV.mutations()*100).toFixed(0)+"%"});v.appendChild(S);v.appendChild(h);d.insertBefore(v,c);return{generateData:a,rows:50,timeout:0,mutations:f}}();