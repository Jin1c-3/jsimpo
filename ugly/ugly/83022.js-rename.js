"use strict";var $timeoutMinErr=minErr("$timeout");function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($,c,l,d,m){var f={};function e(e,t,r){if(!isFunction(e)){r=t;t=e;e=noop}var i=sliceArgs(arguments,3),n=isDefined(r)&&!r,o=(n?d:l).defer(),a=o.promise,u;u=c.defer(function(){try{o.resolve(e.apply(null,i))}catch(e){o.reject(e);m(e)}finally{delete f[a.$$timeoutId]}if(!n)$.$apply()},t,"$timeout");a.$$timeoutId=u;f[u]=o;return a}e.cancel=function(e){if(!e)return false;if(!e.hasOwnProperty("$$timeoutId")){throw $timeoutMinErr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!f.hasOwnProperty(e.$$timeoutId))return false;var t=e.$$timeoutId;var r=f[t];markQExceptionHandled(r.promise);r.reject("canceled");delete f[t];return c.defer.cancel(t)};return e}]}