(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?module.exports=e(require("./dom/data.js"),require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./dom/selector-engine.js"),require("./base-component.js")):typeof define==="function"&&define.amd?define(["./dom/data","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],e):(t=typeof globalThis!=="undefined"?globalThis:t||self,t.Collapse=e(t.Data,t.EventHandler,t.Manipulator,t.SelectorEngine,t.Base))})(this,function(t,e,n,s,i){"use strict";function o(t){return t&&typeof t==="object"&&"default"in t?t:{default:t}}var d=o(t);var f=o(e);var r=o(n);var u=o(s);var l=o(i);const a=t=>{if(t===null||t===undefined){return`${t}`}return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()};const c=e=>{let n=e.getAttribute("data-bs-target");if(!n||n==="#"){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith(".")){return null}if(t.includes("#")&&!t.startsWith("#")){t=`#${t.split("#")[1]}`}n=t&&t!=="#"?t.trim():null}return n};const h=t=>{const e=c(t);if(e){return document.querySelector(e)?e:null}return null};const g=t=>{const e=c(t);return e?document.querySelector(e):null};const _=t=>{if(!t||typeof t!=="object"){return false}if(typeof t.jquery!=="undefined"){t=t[0]}return typeof t.nodeType!=="undefined"};const p=t=>{if(_(t)){return t.jquery?t[0]:t}if(typeof t==="string"&&t.length>0){return document.querySelector(t)}return null};const m=(i,o,r)=>{Object.keys(r).forEach(t=>{const e=r[t];const n=o[t];const s=n&&_(n)?"element":a(n);if(!new RegExp(e).test(s)){throw new TypeError(`${i.toUpperCase()}: Option "${t}" provided type "${s}" but expected type "${e}".`)}})};const y=t=>{t.offsetHeight};const C=()=>{const{jQuery:t}=window;if(t&&!document.body.hasAttribute("data-bs-no-jquery")){return t}return null};const A=[];const w=t=>{if(document.readyState==="loading"){if(!A.length){document.addEventListener("DOMContentLoaded",()=>{A.forEach(t=>t())})}A.push(t)}else{t()}};const b=s=>{w(()=>{const t=C();if(t){const e=s.NAME;const n=t.fn[e];t.fn[e]=s.jQueryInterface;t.fn[e].Constructor=s;t.fn[e].noConflict=()=>{t.fn[e]=n;return s.jQueryInterface}}})};const $="collapse";const v="bs.collapse";const j=`.${v}`;const L=".data-api";const T={toggle:true,parent:null};const E={toggle:"boolean",parent:"(null|element)"};const q=`show${j}`;const S=`shown${j}`;const x=`hide${j}`;const D=`hidden${j}`;const I=`click${j}${L}`;const O="show";const N="collapse";const k="collapsing";const z="collapsed";const M="collapse-horizontal";const Q="width";const B="height";const H=".show, .collapsing";const P='[data-bs-toggle="collapse"]';class R extends l["default"]{constructor(t,e){super(t);this._isTransitioning=false;this._config=this._getConfig(e);this._triggerArray=[];const n=u["default"].find(P);for(let t=0,e=n.length;t<e;t++){const s=n[t];const i=h(s);const o=u["default"].find(i).filter(t=>t===this._element);if(i!==null&&o.length){this._selector=i;this._triggerArray.push(s)}}this._initializeChildren();if(!this._config.parent){this._addAriaAndCollapsedClass(this._triggerArray,this._isShown())}if(this._config.toggle){this.toggle()}}static get Default(){return T}static get NAME(){return $}toggle(){if(this._isShown()){this.hide()}else{this.show()}}show(){if(this._isTransitioning||this._isShown()){return}let t=[];let e;if(this._config.parent){const a=u["default"].find(`.${N} .${N}`,this._config.parent);t=u["default"].find(H,this._config.parent).filter(t=>!a.includes(t))}const n=u["default"].findOne(this._selector);if(t.length){const c=t.find(t=>n!==t);e=c?R.getInstance(c):null;if(e&&e._isTransitioning){return}}const s=f["default"].trigger(this._element,q);if(s.defaultPrevented){return}t.forEach(t=>{if(n!==t){R.getOrCreateInstance(t,{toggle:false}).hide()}if(!e){d["default"].set(t,v,null)}});const i=this._getDimension();this._element.classList.remove(N);this._element.classList.add(k);this._element.style[i]=0;this._addAriaAndCollapsedClass(this._triggerArray,true);this._isTransitioning=true;const o=()=>{this._isTransitioning=false;this._element.classList.remove(k);this._element.classList.add(N,O);this._element.style[i]="";f["default"].trigger(this._element,S)};const r=i[0].toUpperCase()+i.slice(1);const l=`scroll${r}`;this._queueCallback(o,this._element,true);this._element.style[i]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()){return}const t=f["default"].trigger(this._element,x);if(t.defaultPrevented){return}const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`;y(this._element);this._element.classList.add(k);this._element.classList.remove(N,O);const n=this._triggerArray.length;for(let t=0;t<n;t++){const i=this._triggerArray[t];const o=g(i);if(o&&!this._isShown(o)){this._addAriaAndCollapsedClass([i],false)}}this._isTransitioning=true;const s=()=>{this._isTransitioning=false;this._element.classList.remove(k);this._element.classList.add(N);f["default"].trigger(this._element,D)};this._element.style[e]="";this._queueCallback(s,this._element,true)}_isShown(t=this._element){return t.classList.contains(O)}_getConfig(t){t={...T,...r["default"].getDataAttributes(this._element),...t};t.toggle=Boolean(t.toggle);t.parent=p(t.parent);m($,t,E);return t}_getDimension(){return this._element.classList.contains(M)?Q:B}_initializeChildren(){if(!this._config.parent){return}const e=u["default"].find(`.${N} .${N}`,this._config.parent);u["default"].find(P,this._config.parent).filter(t=>!e.includes(t)).forEach(t=>{const e=g(t);if(e){this._addAriaAndCollapsedClass([t],this._isShown(e))}})}_addAriaAndCollapsedClass(t,e){if(!t.length){return}t.forEach(t=>{if(e){t.classList.remove(z)}else{t.classList.add(z)}t.setAttribute("aria-expanded",e)})}static jQueryInterface(n){return this.each(function(){const t={};if(typeof n==="string"&&/show|hide/.test(n)){t.toggle=false}const e=R.getOrCreateInstance(this,t);if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError(`No method named "${n}"`)}e[n]()}})}}f["default"].on(document,I,P,function(t){if(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A"){t.preventDefault()}const e=h(this);const n=u["default"].find(e);n.forEach(t=>{R.getOrCreateInstance(t,{toggle:false}).toggle()})});b(R);return R});